<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/magnus/back_end/general/include/List.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>/magnus/back_end/general/include/List.h</h1><a href="List_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment"> *   $Id: List.h,v 1.6 2000/02/10 00:14:44 bormotov Exp $</font>
00003 <font class="comment"> */</font>
00004 
00005 <font class="comment">// Copyright (C) 1994 The New York Group Theory Cooperative</font>
00006 <font class="comment">// See magnus/doc/COPYRIGHT for the full notice.</font>
00007 
00008 <font class="comment">// Contents: Definition and implementation of ListOf, ListRep,</font>
00009 <font class="comment">//           ListIterator, and ListIteratorRep template classes.</font>
00010 <font class="comment">//</font>
00011 <font class="comment">// Principal Authors: Stephane Collart, Roger Needham</font>
00012 <font class="comment">//</font>
00013 <font class="comment">// Status: Useable.</font>
00014 <font class="comment">//</font>
00015 <font class="comment">// Revision History:</font>
00016 <font class="comment">//</font>
00017 <font class="comment">// Special Notes:</font>
00018 <font class="comment">//</font>
00019 <font class="comment">// * To instantiate ListOf&lt;T&gt;, class T must have</font>
00020 <font class="comment">//   1) An assignment operator</font>
00021 <font class="comment">//   2) A copy constructor</font>
00022 <font class="comment">//   3) An == operator</font>
00023 <font class="comment">//   4) A destructor</font>
00024 <font class="comment">//   and there must be an</font>
00025 <font class="comment">//     ostream&amp; operator &lt;&lt; ( ostream&amp;, const Type&amp; ),</font>
00026 <font class="comment">//   and a conversion of T to Type.</font>
00027 <font class="comment">//</font>
00028 <font class="comment">// * Some ListOf methods can safely ignore bad indices, but they post a</font>
00029 <font class="comment">//   warning if SAFETY &gt; 0 on the assumption that the caller is </font>
00030 <font class="comment">//   probably bugged.</font>
00031 <font class="comment">//</font>
00032 <font class="comment">// * 7/96 Dmitry B. made porting to gcc 2.7.2.</font>
00033 <font class="comment">//</font>
00034 <font class="comment">// 07/96 Aleksey M. implemented IPC tools</font>
00035 
00036 
00037 <font class="preprocessor">#ifndef _LIST_H_</font>
00038 <font class="preprocessor"></font><font class="preprocessor">#define _LIST_H_</font>
00039 <font class="preprocessor"></font>
00040 <font class="preprocessor">#include "<a class="code" href="RefCounter_h.html">RefCounter.h</a>"</font>
00041 <font class="preprocessor">#include "<a class="code" href="ObjectOf_h.html">ObjectOf.h</a>"</font>
00042 <font class="preprocessor">#include "<a class="code" href="Cell_h.html">Cell.h</a>"</font>
00043 
00044 template &lt;class T&gt; <font class="keyword">class </font><a class="code" href="class_ListIteratorRep.html">ListIteratorRep</a>;
00045 <font class="comment">// Forward declaration for friend declarations.</font>
00046 
00047 
00048 <font class="comment">//---------------------- class ListRep ----------------------------------</font>
00049 
<a name="l00050"></a><a class="code" href="class_ListRep.html">00050</a> template &lt;class T&gt; <font class="keyword">class </font><a class="code" href="class_ListRep.html">ListRep</a> : <font class="keyword">public</font> <a class="code" href="class_RefCounter.html">RefCounter</a> {
00051 
00052 <font class="keyword">public</font>:
00053 
<a name="l00054"></a><a class="code" href="class_ListRep.html#a0">00054</a>   <a class="code" href="class_ListRep.html#a0">ListRep</a>( ) : root(NULL), last(NULL), len(0) { }
00055 
<a name="l00056"></a><a class="code" href="class_ListRep.html#a1">00056</a>   <a class="code" href="class_ListRep.html#a0">ListRep</a>( <font class="keyword">const</font> T&amp; t )<font class="keyword"> </font>{
00057     root = last = <font class="keyword">new</font> <a class="code" href="class_ListRep.html#u0">CellType</a>(t);
00058     len = 1;
00059   }
00060 
00061   <font class="comment">// copy constructor does deep copy</font>
<a name="l00062"></a><a class="code" href="class_ListRep.html#a2">00062</a>   <a class="code" href="class_ListRep.html#a0">ListRep</a>( <font class="keyword">const</font> <a class="code" href="class_ListRep.html">ListRep</a>&amp; lr ) : len(lr.len) {
00063     
00064     <font class="keywordflow">if</font> ( lr.root == NULL )
00065       root = last = NULL;
00066     <font class="keywordflow">else</font> {
00067       <a class="code" href="class_Cell.html">CellType</a>* to = root = <font class="keyword">new</font> <a class="code" href="class_ListRep.html#u0">CellType</a>( *lr.root );
00068       <a class="code" href="class_Cell.html">CellType</a>* from = lr.root-&gt;nextCell;
00069       <font class="keywordflow">while</font> ( from ) {
00070         to = to-&gt;nextCell = <font class="keyword">new</font> <a class="code" href="class_ListRep.html#u0">CellType</a>( *from );
00071         from = from-&gt;nextCell;
00072       }
00073       last = to;
00074       last-&gt;nextCell = NULL; <font class="comment">// Better safe than sorry</font>
00075     }
00076   }
00077 
<a name="l00078"></a><a class="code" href="class_ListRep.html#a3">00078</a>   <a class="code" href="class_ListRep.html#a3">~ListRep</a>( )<font class="keyword"> </font>{
00079     <a class="code" href="class_Cell.html">CellType</a>* r;
00080     <font class="keywordflow">while</font> ( root ) {
00081       r = root-&gt;nextCell;
00082       <font class="keyword">delete</font> root;
00083       root = r;
00084     }
00085   }
00086 
<a name="l00087"></a><a class="code" href="class_ListRep.html#a4">00087</a>   Bool <a class="code" href="Property_h.html#a1">operator == </a>( <font class="keyword">const</font> <a class="code" href="class_ListRep.html">ListRep</a>&amp; lr )<font class="keyword"> const </font>{
00088     <font class="keywordflow">return</font> ( len == lr.len &amp;&amp; <a class="code" href="class_ListRep.html#a16">agreement</a>(&amp;lr, 0) == len );
00089   }
00090 
<a name="l00091"></a><a class="code" href="class_ListRep.html#a5">00091</a>   <a class="code" href="class_ListRep.html">ListRep</a>* <a class="code" href="class_ListRep.html#a5">clone</a>( )<font class="keyword"> </font>{ <font class="keywordflow">return</font> <font class="keyword">new</font> <a class="code" href="class_ListRep.html#a0">ListRep</a>(*<font class="keyword">this</font>); }
00092 
<a name="l00093"></a><a class="code" href="class_ListRep.html#a6">00093</a>   <font class="keywordtype">void</font> <a class="code" href="class_ListRep.html#a6">insert</a>( <font class="keyword">const</font> T&amp; t, <font class="keywordtype">int</font> i )<font class="keyword"> </font>{
00094 <font class="preprocessor">  #if SAFETY &gt; 0</font>
00095 <font class="preprocessor"></font>      <font class="keywordflow">if</font> ( i &lt; 0 || i &gt; len )
00096         <a class="code" href="error_h.html#a0">error</a>(<font class="stringliteral">"index argument to ListRep::insert out of bounds"</font>);
00097 <font class="preprocessor">  #endif</font>
00098 <font class="preprocessor"></font>    <font class="keywordflow">if</font> ( i == 0 ) {
00099       <font class="keywordflow">if</font> ( root )
00100         root = <font class="keyword">new</font> <a class="code" href="class_ListRep.html#u0">CellType</a>(t, root);
00101       <font class="keywordflow">else</font>
00102         root = last = <font class="keyword">new</font> <a class="code" href="class_ListRep.html#u0">CellType</a>(t);
00103     }
00104     <font class="keywordflow">else</font> <font class="keywordflow">if</font> ( i == len ) {
00105       last = last-&gt;nextCell = <font class="keyword">new</font> <a class="code" href="class_ListRep.html#u0">CellType</a>(t);
00106     }
00107     <font class="keywordflow">else</font> {
00108       <a class="code" href="class_Cell.html">CellType</a>* scan = root;
00109       <font class="keywordflow">while</font> ( --i ) {
00110 <font class="preprocessor">       #if SAFETY &gt; 0</font>
00111 <font class="preprocessor"></font>          <font class="keywordflow">if</font> ( scan == NULL )
00112             <a class="code" href="error_h.html#a0">error</a>(<font class="stringliteral">"internal error, len and actual length differ in ListRep"</font>);
00113 <font class="preprocessor">       #endif</font>
00114 <font class="preprocessor"></font>        scan = scan-&gt;nextCell;
00115       }
00116       scan-&gt;nextCell = <font class="keyword">new</font> <a class="code" href="class_ListRep.html#u0">CellType</a>(t, scan-&gt;nextCell);
00117     }
00118     ++len;
00119   }
00120 
<a name="l00121"></a><a class="code" href="class_ListRep.html#a7">00121</a>   <font class="keywordtype">void</font> <a class="code" href="class_ListRep.html#a7">removeElement</a>( <font class="keyword">const</font> T&amp; t )<font class="keyword"> </font>{
00122     <font class="keywordflow">if</font> ( root == NULL ) <font class="keywordflow">return</font>;
00123     <font class="keywordflow">if</font> ( root-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>() == t ) <a class="code" href="class_ListRep.html#a8">removeElementOfIndex</a>(0);
00124     <font class="keywordflow">else</font> {
00125       <a class="code" href="class_Cell.html">CellType</a>* prev = root;
00126       <a class="code" href="class_Cell.html">CellType</a>* scan = root-&gt;nextCell;
00127       <font class="keywordflow">while</font> ( scan != NULL ) {
00128         <font class="keywordflow">if</font> ( scan-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>() == t ) {
00129           <font class="keywordflow">if</font> ( (prev-&gt;nextCell = scan-&gt;nextCell) == NULL ) last = prev;
00130           <font class="keyword">delete</font> scan;
00131           --len;
00132           <font class="keywordflow">break</font>;
00133         }
00134         prev = scan;
00135         scan = scan-&gt;nextCell;
00136       }
00137     }
00138   }
00139 
<a name="l00140"></a><a class="code" href="class_ListRep.html#a8">00140</a>   <font class="keywordtype">void</font> <a class="code" href="class_ListRep.html#a8">removeElementOfIndex</a>( <font class="keywordtype">int</font> i )<font class="keyword"> </font>{
00141     <font class="keywordflow">if</font> ( root == NULL ) <font class="keywordflow">return</font>;
00142 <font class="preprocessor">    #if SAFETY &gt; 0</font>
00143 <font class="preprocessor"></font>      <font class="keywordflow">if</font> ( i &lt; 0 ) {
00144         <a class="code" href="error_h.html#a1">warn</a>(<font class="stringliteral">"ignoring negative index in ListRep::removeElementOfIndex"</font>);
00145         <font class="keywordflow">return</font>;
00146       }
00147 <font class="preprocessor">    #endif</font>
00148 <font class="preprocessor"></font>    <font class="keywordflow">if</font> ( i == 0 ) {
00149       <a class="code" href="class_Cell.html">CellType</a>* tmp = root;
00150       root = root-&gt;nextCell;
00151       --len;
00152       <font class="keyword">delete</font> tmp;
00153     }
00154     <font class="keywordflow">else</font> {
00155       <a class="code" href="class_Cell.html">CellType</a>* prev = root;
00156       <a class="code" href="class_Cell.html">CellType</a>* scan = root-&gt;nextCell;
00157       <font class="keywordflow">while</font> ( scan != NULL ) {
00158         <font class="keywordflow">if</font> ( --i == 0 ) {
00159           <font class="keywordflow">if</font> ( (prev-&gt;nextCell = scan-&gt;nextCell) == NULL ) last = prev;
00160           <font class="keyword">delete</font> scan;
00161           --len;
00162           <font class="keywordflow">break</font>;
00163         }
00164         prev = scan;
00165         scan = scan-&gt;nextCell;
00166       }
00167 <font class="preprocessor">      #if SAFETY &gt; 0</font>
00168 <font class="preprocessor"></font>        <font class="keywordflow">if</font> ( scan == NULL &amp;&amp; i )
00169           <a class="code" href="error_h.html#a1">warn</a>(<font class="stringliteral">"ignoring index &gt; length in ListRep::removeElementOfIndex"</font>);
00170 <font class="preprocessor">      #endif</font>
00171 <font class="preprocessor"></font>    }
00172   }
00173 
<a name="l00174"></a><a class="code" href="class_ListRep.html#a9">00174</a>   <font class="keywordtype">void</font> <a class="code" href="class_ListRep.html#a9">splice</a>( <font class="keyword">const</font> <a class="code" href="class_ListRep.html">ListRep</a>* rp, <font class="keywordtype">int</font> i, <font class="keywordtype">int</font> j )<font class="keyword"> </font>{
00175 <font class="preprocessor">    #if SAFETY &gt; 0</font>
00176 <font class="preprocessor"></font>      <font class="keywordflow">if</font> ( i &lt; 0 || j &lt; i || j &gt; len )
00177         <a class="code" href="error_h.html#a0">error</a>(<font class="stringliteral">"ListRep::splice indices out of bounds"</font>);
00178 <font class="preprocessor">    #endif</font>
00179 <font class="preprocessor"></font>    <a class="code" href="class_Cell.html">CellType</a>* left = root;
00180     <font class="comment">// When i &gt; 0, set left to predecessor of cell with index i.</font>
00181     <font class="keywordflow">for</font>( <font class="keywordtype">int</font> k = 1; k &lt; i; k++ ) left = left-&gt;nextCell;
00182     <font class="comment">// Remove sublist [i,j), setting up left &amp; right for splicing.</font>
00183     <a class="code" href="class_Cell.html">CellType</a>* right;
00184     <font class="keywordflow">if</font> ( i == 0 ) right = left;
00185     <font class="keywordflow">else</font> right = left-&gt;nextCell;
00186     <font class="keywordflow">for</font>( <font class="keywordtype">int</font> k = i; k &lt; j; k++ ) {
00187       <a class="code" href="class_Cell.html">CellType</a>* tmp = right;
00188       right = right-&gt;nextCell;
00189       <font class="keyword">delete</font> tmp;
00190     }
00191     <font class="comment">// Attach rp between left and right</font>
00192     <a class="code" href="class_Cell.html">CellType</a>* copy = rp-&gt;root;
00193     <font class="keywordflow">if</font> ( i == 0 ) {
00194       root = left = <font class="keyword">new</font> <a class="code" href="class_ListRep.html#u0">CellType</a>(copy-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>());
00195       copy = copy-&gt;nextCell;
00196     }
00197     <font class="keywordflow">while</font> ( copy != NULL ) {
00198       left = left-&gt;nextCell = <font class="keyword">new</font> <a class="code" href="class_ListRep.html#u0">CellType</a>(copy-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>());
00199       copy = copy-&gt;nextCell;
00200     }
00201     left-&gt;nextCell = right;
00202     <font class="keywordflow">if</font> ( right == NULL ) last = left;
00203     len += ( rp-&gt;len - (j - i) );
00204   }
00205 
<a name="l00206"></a><a class="code" href="class_ListRep.html#a10">00206</a>   <a class="code" href="class_ListRep.html">ListRep</a>* <a class="code" href="class_ListRep.html#a10">sublist</a>( <font class="keywordtype">int</font> i, <font class="keywordtype">int</font> j )<font class="keyword"> const </font>{
00207 <font class="preprocessor">    #if SAFETY &gt; 0</font>
00208 <font class="preprocessor"></font>      <font class="keywordflow">if</font> ( i &lt; 0 || j &lt; i || j &gt; len )
00209         <a class="code" href="error_h.html#a0">error</a>(<font class="stringliteral">"ListRep::sublist indices out of bounds"</font>);
00210 <font class="preprocessor">    #endif</font>
00211 <font class="preprocessor"></font>    <a class="code" href="class_Cell.html">CellType</a>* scan = root;
00212     <font class="keywordflow">for</font>( <font class="keywordtype">int</font> k = 0; k &lt; i; k++ ) scan = scan-&gt;nextCell;
00213     <a class="code" href="class_ListRep.html">ListRep</a>* result = <font class="keyword">new</font> <a class="code" href="class_ListRep.html">ListRep</a>;
00214     <font class="keywordtype">int</font> result_len = 0;
00215     <font class="keywordflow">for</font>( <font class="keywordtype">int</font> k = i; k &lt; j; k++ ) {
00216       result-&gt;<a class="code" href="class_ListRep.html#a6">insert</a>(scan-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>(), result_len++);
00217       scan = scan-&gt;nextCell;
00218     }
00219     <font class="keywordflow">return</font> result;
00220   }
00221   
00222 
<a name="l00223"></a><a class="code" href="class_ListRep.html#a11">00223</a>   <a class="code" href="class_ListRep.html">ListRep</a>* <a class="code" href="Vector_h.html#a2">concatenate</a>( <font class="keyword">const</font> <a class="code" href="class_ListRep.html">ListRep</a>* rp )<font class="keyword"> const </font>{
00224     <a class="code" href="class_ListRep.html">ListRep</a>* result = <font class="keyword">new</font> <a class="code" href="class_ListRep.html">ListRep</a>;
00225     <a class="code" href="class_Cell.html">CellType</a>* scan = root;
00226     <font class="keywordtype">int</font> result_len = 0;
00227     <font class="keywordflow">while</font> ( scan != NULL ) {
00228       result-&gt;<a class="code" href="class_ListRep.html#a6">insert</a>(scan-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>(), result_len++);
00229       scan = scan-&gt;nextCell;
00230     }
00231     scan = rp-&gt;root;
00232     <font class="keywordflow">while</font> ( scan != NULL ) {
00233       result-&gt;<a class="code" href="class_ListRep.html#a6">insert</a>(scan-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>(), result_len++);
00234       scan = scan-&gt;nextCell;
00235     }
00236     <font class="keywordflow">return</font> result;
00237   }
00238 
<a name="l00239"></a><a class="code" href="class_ListRep.html#a12">00239</a>   <a class="code" href="class_ListRep.html">ListRep</a>* <a class="code" href="class_ListRep.html#a12">reverse</a>( )<font class="keyword"> const </font>{
00240     <a class="code" href="class_ListRep.html">ListRep</a>* result = <font class="keyword">new</font> <a class="code" href="class_ListRep.html">ListRep</a>;
00241     <a class="code" href="class_Cell.html">CellType</a>* scan = root;
00242     <font class="keywordflow">while</font> ( scan != NULL ) {
00243       result-&gt;<a class="code" href="class_ListRep.html#a6">insert</a>(scan-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>(), 0);
00244       scan = scan-&gt;nextCell;
00245     }
00246     <font class="keywordflow">return</font> result;
00247   }
00248 
<a name="l00249"></a><a class="code" href="class_ListRep.html#a13">00249</a>   <font class="keywordtype">int</font> <a class="code" href="class_ListRep.html#a13">length</a>( )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> len; }
00250 
<a name="l00251"></a><a class="code" href="class_ListRep.html#a14">00251</a>   T <a class="code" href="class_ListRep.html#a14">element</a>( <font class="keywordtype">int</font> i )<font class="keyword"> const </font>{
00252 <font class="preprocessor">    #if SAFETY &gt; 0</font>
00253 <font class="preprocessor"></font>      <font class="keywordflow">if</font> ( i &lt; 0 || i &gt;= len )
00254         <a class="code" href="error_h.html#a0">error</a>(<font class="stringliteral">"index argument to ListRep::element out of bounds"</font>);
00255 <font class="preprocessor">    #endif</font>
00256 <font class="preprocessor"></font>    <a class="code" href="class_Cell.html">CellType</a>* scan = root;
00257     <font class="keywordflow">while</font> ( i-- ) scan = scan-&gt;nextCell;
00258     <font class="keywordflow">return</font> scan-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>();
00259   }
00260 
<a name="l00261"></a><a class="code" href="class_ListRep.html#a15">00261</a>   <font class="keywordtype">int</font> <a class="code" href="class_ListRep.html#a15">indexOf</a>( <font class="keyword">const</font> T&amp; t )<font class="keyword"> const </font>{
00262     <font class="keywordtype">int</font> result = 0;
00263     <a class="code" href="class_Cell.html">CellType</a>* scan = root;
00264     <font class="keywordflow">while</font> ( scan != NULL ) {
00265       <font class="keywordflow">if</font> ( scan-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>() == t ) <font class="keywordflow">return</font> result;
00266       ++result;
00267       scan = scan-&gt;nextCell;
00268     }
00269     <font class="keywordflow">return</font> -1;
00270   }
00271 
<a name="l00272"></a><a class="code" href="class_ListRep.html#a16">00272</a>   <font class="keywordtype">int</font> <a class="code" href="class_ListRep.html#a16">agreement</a>( <font class="keyword">const</font> <a class="code" href="class_ListRep.html">ListRep</a>* rp, <font class="keywordtype">int</font> start )<font class="keyword"> const </font>{
00273     <a class="code" href="class_Cell.html">CellType</a>* scan1 = root;
00274     <a class="code" href="class_Cell.html">CellType</a>* scan2 = rp-&gt;root;
00275     <font class="keywordflow">while</font> ( start ) {
00276       --start;
00277       <font class="keywordflow">if</font> ( scan2 == NULL ) {
00278 <font class="preprocessor">        #if SAFETY &gt; 0</font>
00279 <font class="preprocessor"></font>          <a class="code" href="error_h.html#a1">warn</a>(<font class="stringliteral">"ignoring start &gt; length in ListRep::agreement"</font>);
00280 <font class="preprocessor">        #endif</font>
00281 <font class="preprocessor"></font>        <font class="keywordflow">return</font> 0;
00282       }
00283       scan2 = scan2-&gt;nextCell;
00284     }
00285     <font class="keywordtype">int</font> result = 0;
00286     <font class="keywordflow">while</font> ( scan1 != NULL &amp;&amp; scan2 != NULL &amp;&amp;
00287             scan1-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>() == scan2-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>() ) {
00288       ++result;
00289       scan1 = scan1-&gt;nextCell;
00290       scan2 = scan2-&gt;nextCell;
00291     }
00292     <font class="keywordflow">return</font> result;
00293   }
00294 
00295 <font class="preprocessor">  #ifdef DEBUG</font>
00296 <font class="preprocessor"></font>    <font class="keywordtype">void</font> <a class="code" href="Margin_h.html#a9">debugPrint</a>( ostream&amp; ostr )<font class="keyword"> const </font>{ }
00297 <font class="preprocessor">  #endif</font>
00298 <font class="preprocessor"></font>
<a name="l00299"></a><a class="code" href="class_ListRep.html#a17">00299</a>   <font class="keywordtype">void</font> <a class="code" href="class_ListRep.html#a17">printOn</a>( ostream&amp; ostr )<font class="keyword"> const </font>{
00300     <a class="code" href="class_Cell.html">CellType</a>* r = root;
00301     <font class="keywordflow">while</font> ( r ) {
00302       ostr &lt;&lt; <font class="stringliteral">" -&gt; "</font> &lt;&lt; r-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>();
00303       r = r-&gt;nextCell;
00304     }
00305   }
00306   <font class="comment">//@rn imposes constraint on Associations Key type</font>
00307 <font class="comment"></font>
00308 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00309 <font class="comment"></font>  <font class="comment">//                                                                     //</font>
00310   <font class="comment">// IPC tools:                                                          //</font>
00311   <font class="comment">//                                                                     //</font><font class="comment"></font>
00312 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00313 <font class="comment"></font>
00314   <font class="keywordtype">void</font>  <a class="code" href="class_ListRep.html#a18">write</a>( ostream&amp; ostr ) <font class="keyword">const</font>;
00315   <font class="keywordtype">void</font>  <a class="code" href="class_ListRep.html#a19">read</a>( istream&amp; istr );
00316 
00317 <font class="keyword">private</font>:
00318 
00319   <a class="code" href="class_ListRep.html">ListRep</a>&amp; <a class="code" href="class_RefCounter.html#c0">operator = </a>( <font class="keyword">const</font> <a class="code" href="class_ListRep.html">ListRep</a>&amp; ); <font class="comment">// prohibit assignment</font>
00320   <font class="comment">//@rn be systematic about this?</font>
00321 
<a name="l00322"></a><a class="code" href="class_ListRep.html#u0">00322</a>   <font class="keyword">typedef</font> <a class="code" href="class_Cell.html">Cell&lt;T&gt;</a> <a class="code" href="class_Cell.html">CellType</a>;
00323 
<a name="l00324"></a><a class="code" href="class_ListRep.html#l0">00324</a> <font class="keyword">friend</font> <font class="keyword">class </font><a class="code" href="class_ListIteratorRep.html">ListIteratorRep</a>&lt;T&gt;;
00325 
00326   <font class="comment">// Data members:</font>
00327 
<a name="l00328"></a><a class="code" href="class_ListRep.html#o0">00328</a>   <a class="code" href="class_Cell.html">CellType</a>* root;
<a name="l00329"></a><a class="code" href="class_ListRep.html#o1">00329</a>   <a class="code" href="class_Cell.html">CellType</a>* last;
00330 
<a name="l00331"></a><a class="code" href="class_ListRep.html#o2">00331</a>   <font class="keywordtype">int</font> len;
00332 };
00333 
00334 
00335 <font class="comment">//---------------------- class ListOf ----------------------------------</font>
00336 
<a name="l00337"></a><a class="code" href="class_ListOf.html">00337</a> template &lt;class T&gt; <font class="keyword">class </font><a class="code" href="class_ListOf.html">ListOf</a> : <a class="code" href="class_ObjectOf.html">ObjectOf</a>&lt; ListRep&lt;T&gt; &gt; {
00338 
00339 <font class="keyword">public</font>:
00340 
<a name="l00341"></a><a class="code" href="class_ListOf.html#s0">00341</a>   <font class="keyword">typedef</font> T ListElementType; <font class="comment">// Export the template parameter</font>
00342 
<a name="l00343"></a><a class="code" href="class_ListOf.html#a0">00343</a>   <a class="code" href="class_ListOf.html#a0">ListOf</a>( ) : <a class="code" href="class_ObjectOf.html">ObjectOf</a>&lt;<a class="code" href="struct_VectorPtrRep.html">Rep</a>&gt;( new <a class="code" href="struct_VectorPtrRep.html">Rep</a>() ) { }
00344   <font class="comment">// Default constructor makes empty list.</font>
00345 
<a name="l00346"></a><a class="code" href="class_ListOf.html#a1">00346</a>   <a class="code" href="class_ListOf.html#a0">ListOf</a>( <font class="keyword">const</font> T&amp; t ) : <a class="code" href="class_ObjectOf.html">ObjectOf</a>&lt;<a class="code" href="struct_VectorPtrRep.html">Rep</a>&gt;( new <a class="code" href="struct_VectorPtrRep.html">Rep</a>(t) ) { }
00347   <font class="comment">// Cast constructor T -&gt; ListOf&lt;T&gt;.</font>
00348 
00349   <font class="comment">// Copy constructor, operator=, and destructor supplied by compiler.</font>
00350 
<a name="l00351"></a><a class="code" href="class_ListOf.html#a2">00351</a>   Bool <a class="code" href="Property_h.html#a1">operator == </a>( <font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf</a>&amp; L )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="class_ListOf.html#a5">equalTo</a>(L); }
00352 
<a name="l00353"></a><a class="code" href="class_ListOf.html#a3">00353</a>   Bool <a class="code" href="Property_h.html#a2">operator != </a>( <font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf</a>&amp; L )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> !<a class="code" href="class_ListOf.html#a5">equalTo</a>(L); }
00354 
<a name="l00355"></a><a class="code" href="class_ListOf.html#a4">00355</a>   T <a class="code" href="class_ListOf.html#a4">operator [ ] </a>( <font class="keywordtype">int</font> i )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="class_ListOf.html#a6">element</a>(i); }
00356   <font class="comment">// For read access only. Zero-based indexing.</font>
00357 
<a name="l00358"></a><a class="code" href="class_ListOf.html#a5">00358</a>   Bool <a class="code" href="class_ListOf.html#a5">equalTo</a>( <font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf</a>&amp; L )<font class="keyword"> const </font>{
00359     <font class="keywordflow">return</font> ( *<a class="code" href="class_ObjectOf.html#b0">look</a>() == *L.<a class="code" href="class_ObjectOf.html#b0">look</a>() );
00360   }
00361   <font class="comment">// TRUE iff L contains the same T's as this list, in the same order.</font>
00362 
<a name="l00363"></a><a class="code" href="class_ListOf.html#a6">00363</a>   T <a class="code" href="class_ListOf.html#a6">element</a>( <font class="keywordtype">int</font> i )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;element(i); }
00364   <font class="comment">// Return the element of index i in this list. Zero-based indexing.</font>
00365   <font class="comment">// It is a fatal error if i &lt; 0 or i &gt;= length().</font>
00366 
<a name="l00367"></a><a class="code" href="class_ListOf.html#a7">00367</a>   <font class="keywordtype">int</font> <a class="code" href="class_ListOf.html#a7">length</a>( )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;length(); }
00368   <font class="comment">// Return length of this List.</font>
00369 
<a name="l00370"></a><a class="code" href="class_ListOf.html#a8">00370</a>   Bool <a class="code" href="class_ListOf.html#a8">contains</a>( <font class="keyword">const</font> T&amp; t )<font class="keyword"> const </font>{
00371     <font class="keywordflow">return</font> ( <a class="code" href="class_ListOf.html#a9">indexOf</a>(t) != -1 );
00372   }
00373   <font class="comment">// TRUE iff this list contains t according to T::operator==.</font>
00374 
<a name="l00375"></a><a class="code" href="class_ListOf.html#a9">00375</a>   <font class="keywordtype">int</font> <a class="code" href="class_ListOf.html#a9">indexOf</a>( <font class="keyword">const</font> T&amp; t )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;indexOf(t); }
00376   <font class="comment">// Returns the index of t in this list, or -1 if not here.</font>
00377   <font class="comment">// Uses T::operator== in search.</font>
00378   <font class="comment">// Zero-based indexing.</font>
00379 
<a name="l00380"></a><a class="code" href="class_ListOf.html#a10">00380</a>   Bool <a class="code" href="class_ListOf.html#a10">prefixOf</a>( <font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf</a>&amp; L )<font class="keyword"> const </font>{
00381     <font class="keywordflow">return</font> ( <a class="code" href="class_ListOf.html#a12">agreement</a>(L) == <a class="code" href="class_ListOf.html#a7">length</a>() );
00382   }
00383   <font class="comment">// TRUE iff this list is a prefix of L.</font>
00384 
<a name="l00385"></a><a class="code" href="class_ListOf.html#a11">00385</a>   Bool <a class="code" href="class_ListOf.html#a11">properPrefixOf</a>( <font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf</a>&amp; L )<font class="keyword"> const </font>{
00386     <font class="keywordflow">return</font> ( <a class="code" href="class_ListOf.html#a7">length</a>() &lt; L.<a class="code" href="class_ListOf.html#a7">length</a>() &amp;&amp; <a class="code" href="class_ListOf.html#a10">prefixOf</a>(L) );
00387   }
00388   <font class="comment">// TRUE iff this list is a proper prefix of L.</font>
00389 
<a name="l00390"></a><a class="code" href="class_ListOf.html#a12">00390</a>   <font class="keywordtype">int</font> <a class="code" href="class_ListOf.html#a12">agreement</a>( <font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf</a>&amp; L, <font class="keywordtype">int</font> start = 0 )<font class="keyword"> const </font>{
00391     <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;agreement(L.<a class="code" href="class_ObjectOf.html#b0">look</a>(), start);
00392   }
00393   <font class="comment">// Returns the length of the maximal prefix of this list which matches</font>
00394   <font class="comment">// the suffix of L beginning at start. You get a warning if</font>
00395   <font class="comment">// start &gt;= L.length(); the result is 0 in this case.</font>
00396 
<a name="l00397"></a><a class="code" href="class_ListOf.html#a13">00397</a>   <a class="code" href="class_ListOf.html">ListOf</a> <a class="code" href="class_ListOf.html#a13">sublist</a>( <font class="keywordtype">int</font> i, <font class="keywordtype">int</font> j )<font class="keyword"> const </font>{
00398     <font class="keywordflow">return</font> <a class="code" href="class_ListOf.html#a0">ListOf</a>( <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;sublist(i, j) );
00399   }
00400   <font class="comment">// Returns a copy of the sublist [i,j) of this list.</font>
00401   <font class="comment">// It is a fatal error if i &lt; 0, j &lt; i, or j &gt; length().</font>
00402   <font class="comment">// Note if i == j this returns an empty list.</font>
00403 
<a name="l00404"></a><a class="code" href="class_ListOf.html#l1">00404</a>   <font class="keyword">friend</font> <a class="code" href="class_ListOf.html">ListOf</a> <a class="code" href="Vector_h.html#a2">concatenate</a>( <font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf</a>&amp; L1, <font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf</a>&amp; L2 )<font class="keyword"> </font>{
00405     <font class="keywordflow">return</font> <a class="code" href="class_ListOf.html#a0">ListOf</a>( L1.<a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;concatenate(L2.<a class="code" href="class_ObjectOf.html#b0">look</a>()) );
00406   }
00407   <font class="comment">// Returns the concatenatation of L1 and L2.</font>
00408 
<a name="l00409"></a><a class="code" href="class_ListOf.html#a14">00409</a>   <a class="code" href="class_ListOf.html">ListOf</a> <a class="code" href="class_ListOf.html#a14">reverse</a>( )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="class_ListOf.html#a0">ListOf</a>( <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;reverse() ); }
00410   <font class="comment">// Returns a copy of this list in reverse order.</font>
00411 
<a name="l00412"></a><a class="code" href="class_ListOf.html#a15">00412</a>   <font class="keywordtype">void</font> <a class="code" href="class_ListOf.html#a15">append</a>( <font class="keyword">const</font> T&amp; t )<font class="keyword"> </font>{ <a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;insert(t, <a class="code" href="class_ListOf.html#a7">length</a>()); }
00413   <font class="comment">// Appends t to this List.</font>
00414 
<a name="l00415"></a><a class="code" href="class_ListOf.html#a16">00415</a>   <font class="keywordtype">void</font> <a class="code" href="class_ListOf.html#a16">prepend</a>( <font class="keyword">const</font> T&amp; t )<font class="keyword"> </font>{ <a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;insert(t, 0); }
00416   <font class="comment">// Prepends t to this List.</font>
00417 
<a name="l00418"></a><a class="code" href="class_ListOf.html#a17">00418</a>   <font class="keywordtype">void</font> <a class="code" href="class_ListOf.html#a17">insert</a>( <font class="keyword">const</font> T&amp; t, <font class="keywordtype">int</font> i )<font class="keyword"> </font>{ <a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;insert(t, i); }
00419   <font class="comment">// Make t the (i+1)th element of this List. Zero-based. The previous (i+1)th</font>
00420   <font class="comment">// element becomes the (i+2)th. It is a fatal error if i &lt; 0 or i &gt; length().</font>
00421 
<a name="l00422"></a><a class="code" href="class_ListOf.html#a18">00422</a>   <font class="keywordtype">void</font> <a class="code" href="class_ListOf.html#a18">removeElement</a>( <font class="keyword">const</font> T&amp; t )<font class="keyword"> </font>{ <a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;removeElement(t); }
00423   <font class="comment">// Remove t from this list. It is not an error if t is not in this list.</font>
00424 
<a name="l00425"></a><a class="code" href="class_ListOf.html#a19">00425</a>   <font class="keywordtype">void</font> <a class="code" href="class_ListOf.html#a19">removeElementOfIndex</a>( <font class="keywordtype">int</font> i )<font class="keyword"> </font>{ <a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;removeElementOfIndex(i); }
00426   <font class="comment">// Remove the (i+1)th element of this list. Zero-based. You get a warning</font>
00427   <font class="comment">// if i &lt; 0 or i &gt;= length().</font>
00428 
<a name="l00429"></a><a class="code" href="class_ListOf.html#a20">00429</a>   <font class="keywordtype">void</font> <a class="code" href="class_ListOf.html#a20">splice</a>( <font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf</a>&amp; L, <font class="keywordtype">int</font> i, <font class="keywordtype">int</font> j )<font class="keyword"> </font>{
00430     <a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;splice(L.<a class="code" href="class_ObjectOf.html#b0">look</a>(), i, j);
00431   }
00432   <font class="comment">// Replaces the sublist [i,j) of this list with L.</font>
00433   <font class="comment">// It is a fatal error if i &lt; 0, j &lt; i, or j &gt; length().</font>
00434   <font class="comment">// Note if i == j this inserts L into this list by moving the suffix of</font>
00435   <font class="comment">// this list beginning at index i to the right.</font>
00436 
<a name="l00437"></a><a class="code" href="class_ListOf.html#l2">00437</a>   <font class="keyword">inline</font> <font class="keyword">friend</font> ostream&amp; <a class="code" href="DatabaseManager_h.html#a28">operator &lt;&lt; </a>( ostream&amp; ostr, <font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf</a>&amp; l )<font class="keyword"> </font>{
00438     l.<a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;printOn(ostr);
00439     <font class="keywordflow">return</font> ostr;
00440   }
00441 
00442 <font class="preprocessor">  #ifdef DEBUG</font>
00443 <font class="preprocessor"></font>    <font class="keywordtype">void</font> <a class="code" href="Margin_h.html#a9">debugPrint</a>( ostream&amp; ostr )<font class="keyword"> const </font>{
00444       <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;debugPrint(ostr);
00445       ostr &lt;&lt; endl;
00446       <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;printOn(ostr);
00447     }
00448 <font class="preprocessor">  #endif</font>
00449 <font class="preprocessor"></font><font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00450 <font class="comment"></font>  <font class="comment">//                                                                     //</font>
00451   <font class="comment">// IPC tools:                                                          //</font>
00452   <font class="comment">//                                                                     //</font><font class="comment"></font>
00453 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00454 <font class="comment"></font>
<a name="l00455"></a><a class="code" href="class_ListOf.html#l3">00455</a>   <font class="keyword">friend</font> ostream&amp; <a class="code" href="Polynomial_h.html#a2">operator &lt; </a>( ostream&amp; ostr, <font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf</a>&amp; L )<font class="keyword"></font>
00456 <font class="keyword">  </font>{
00457     L.<a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;write(ostr);
00458     <font class="keywordflow">return</font> ostr;
00459   }
00460   
<a name="l00461"></a><a class="code" href="class_ListOf.html#l4">00461</a>   <font class="keyword">friend</font> istream&amp; <a class="code" href="Polynomial_h.html#a3">operator &gt; </a>( istream&amp; istr, <a class="code" href="class_ListOf.html">ListOf</a>&amp; L)<font class="keyword"></font>
00462 <font class="keyword">  </font>{
00463     L.<a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;read(istr);
00464     <font class="keywordflow">return</font> istr;
00465   }
00466 
00467 
00468 <font class="keyword">private</font>:
00469 
<a name="l00470"></a><a class="code" href="class_ListOf.html#u0">00470</a>   <font class="keyword">typedef</font> <a class="code" href="class_Cell.html">Cell&lt;T&gt;</a> <a class="code" href="class_Cell.html">CellType</a>;
<a name="l00471"></a><a class="code" href="class_ListOf.html#u1">00471</a>   <font class="keyword">typedef</font> <a class="code" href="class_ListRep.html">ListRep&lt;T&gt;</a> <a class="code" href="struct_VectorPtrRep.html">Rep</a>;
00472 
<a name="l00473"></a><a class="code" href="class_ListOf.html#l0">00473</a>   <font class="keyword">friend</font> <font class="keyword">class </font><a class="code" href="class_ListIteratorRep.html">ListIteratorRep</a>&lt;T&gt;;
00474 
<a name="l00475"></a><a class="code" href="class_ListOf.html#u2">00475</a>   <font class="keyword">typedef</font> <a class="code" href="class_ObjectOf.html">ObjectOf&lt;Rep&gt;</a> <a class="code" href="class_ObjectOf.html">R</a>;
<a name="l00476"></a><a class="code" href="class_ListOf.html#c0">00476</a>   <a class="code" href="class_ListOf.html#a0">ListOf</a>( <a class="code" href="struct_VectorPtrRep.html">Rep</a>* p ) : <a class="code" href="class_ObjectOf.html">R</a>(p) { }
00477 };
00478 
00479 
00480 <font class="comment">//---------------------- class ListIteratorRep ----------------------------------</font>
00481 
<a name="l00482"></a><a class="code" href="class_ListIteratorRep.html">00482</a> template &lt;class T&gt; <font class="keyword">class </font><a class="code" href="class_ListIteratorRep.html">ListIteratorRep</a> : <font class="keyword">public</font> <a class="code" href="class_RefCounter.html">RefCounter</a> {
00483 
00484 <font class="keyword">public</font>:
00485 
<a name="l00486"></a><a class="code" href="class_ListIteratorRep.html#a0">00486</a>   <a class="code" href="class_ListIteratorRep.html#a0">ListIteratorRep</a>( <font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf&lt;T&gt;</a>&amp; L ) : theList(L) { <a class="code" href="class_ListIteratorRep.html#a6">reset</a>(); }
00487 
00488   <font class="comment">// Use compiler's copy constructor, operator=, and destructor.</font>
00489 
<a name="l00490"></a><a class="code" href="class_ListIteratorRep.html#a1">00490</a>   <a class="code" href="class_ListIteratorRep.html">ListIteratorRep</a> *<a class="code" href="class_ListIteratorRep.html#a1">clone</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <font class="keyword">new</font> <a class="code" href="class_ListIteratorRep.html#a0">ListIteratorRep</a>(*<font class="keyword">this</font>); }
00491 
<a name="l00492"></a><a class="code" href="class_ListIteratorRep.html#a2">00492</a>   Bool <a class="code" href="Property_h.html#a1">operator == </a>( <font class="keyword">const</font> <a class="code" href="class_ListIteratorRep.html">ListIteratorRep</a>&amp; <a class="code" href="class_DListIteratorRep.html">LIR</a> )<font class="keyword"> const </font>{
00493     <font class="keywordflow">return</font> ( ( current == <a class="code" href="class_DListIteratorRep.html">LIR</a>.current ) &amp;&amp; 
00494              ( ( theList.<a class="code" href="class_ObjectOf.html#b0">look</a>() == <a class="code" href="class_DListIteratorRep.html">LIR</a>.theList.<a class="code" href="class_ObjectOf.html#b0">look</a>() ) ||
00495                ( *(theList.<a class="code" href="class_ObjectOf.html#b0">look</a>()) == *(<a class="code" href="class_DListIteratorRep.html">LIR</a>.theList.<a class="code" href="class_ObjectOf.html#b0">look</a>()) ) ));
00496   }
00497 
<a name="l00498"></a><a class="code" href="class_ListIteratorRep.html#a3">00498</a>   T <a class="code" href="class_ListIteratorRep.html#a3">value</a>( )<font class="keyword"> const </font>{
00499 <font class="preprocessor">    #if SAFETY &gt; 0</font>
00500 <font class="preprocessor"></font>      <font class="keywordflow">if</font> ( current == NULL )
00501         <a class="code" href="error_h.html#a0">error</a>(<font class="stringliteral">"tried to retrieve value from ListIterator which is done"</font>);
00502 <font class="preprocessor">    #endif</font>
00503 <font class="preprocessor"></font>    <font class="keywordflow">return</font> current-&gt;<a class="code" href="class_Cell.html#a6">getContents</a>();
00504   }
00505 
<a name="l00506"></a><a class="code" href="class_ListIteratorRep.html#a4">00506</a>   Bool <a class="code" href="class_ListIteratorRep.html#a4">next</a>( )<font class="keyword"> </font>{
00507     <font class="keywordflow">if</font> ( current != NULL )
00508       current = current-&gt;nextCell;
00509     <font class="keywordflow">return</font> current != NULL;
00510   }
00511 
<a name="l00512"></a><a class="code" href="class_ListIteratorRep.html#a5">00512</a>   Bool <a class="code" href="class_ListIteratorRep.html#a5">done</a>( )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> current == NULL; }
00513 
<a name="l00514"></a><a class="code" href="class_ListIteratorRep.html#a6">00514</a>   <font class="keywordtype">void</font> <a class="code" href="class_ListIteratorRep.html#a6">reset</a>( )<font class="keyword"> </font>{ current = theList.<a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;root; }
00515 <font class="comment"></font>
00516 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00517 <font class="comment"></font>  <font class="comment">//                                                                     //</font>
00518   <font class="comment">// IPC tools:                                                          //</font>
00519   <font class="comment">//                                                                     //</font><font class="comment"></font>
00520 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00521 <font class="comment"></font>
00522     <font class="keywordtype">void</font>  <a class="code" href="class_ListIteratorRep.html#a7">write</a>( ostream&amp; ostr ) <font class="keyword">const</font>;
00523 
00524     <font class="keywordtype">void</font>  <a class="code" href="class_ListIteratorRep.html#a8">read</a>( istream&amp; istr );
00525 
00526 <font class="keyword">private</font>:
00527 
00528   <font class="comment">// Data members:</font>
00529 
<a name="l00530"></a><a class="code" href="class_ListIteratorRep.html#o0">00530</a>   <font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf&lt;T&gt;</a>&amp; theList;
<a name="l00531"></a><a class="code" href="class_ListIteratorRep.html#o1">00531</a>   <a class="code" href="class_Cell.html">Cell&lt;T&gt;</a>* current;
00532 };
00533 
00534 
00535 <font class="comment">//---------------------- class ListIterator ----------------------------------</font>
00536 
00537 <font class="comment">// Example of use:</font>
00538 <font class="comment">//</font>
00539 <font class="comment">//  ListOf&lt;Word&gt; wordList;</font>
00540 <font class="comment">//  Word w;</font>
00541 <font class="comment">//  ...</font>
00542 <font class="comment">//</font>
00543 <font class="comment">//  ListIterator&lt; ListOf&lt;Word&gt; &gt; I(wordList);</font>
00544 <font class="comment">//  </font>
00545 <font class="comment">//  // Stupidly check for w:</font>
00546 <font class="comment">//  while ( !I.done() ) {</font>
00547 <font class="comment">//    if ( I.value() == w ) /* w is in wordList */</font>
00548 <font class="comment">//    I.next();</font>
00549 <font class="comment">//  }</font>
00550 
00551 template &lt;class ListType&gt;
<a name="l00552"></a><a class="code" href="class_ListIterator.html">00552</a> <font class="keyword">class </font><a class="code" href="class_ListIterator.html">ListIterator</a> :
00553 <font class="keyword">public</font> <a class="code" href="class_ObjectOf.html">ObjectOf</a>&lt; ListIteratorRep&lt;typename ListType::ListElementType&gt; &gt; {
00554 
00555 <font class="keyword">public</font>:
00556 
<a name="l00557"></a><a class="code" href="class_ListIterator.html#s0">00557</a>   <font class="keyword">typedef</font> <font class="keyword">typename</font> ListType::ListElementType T;
00558 
<a name="l00559"></a><a class="code" href="class_ListIterator.html#a0">00559</a>   <a class="code" href="class_ListIterator.html#a0">ListIterator</a>(<font class="keyword">const</font> <a class="code" href="class_ListOf.html">ListOf&lt;T&gt;</a>&amp; L) : <a class="code" href="class_ObjectOf.html">ObjectOf</a>&lt;<a class="code" href="class_DListIteratorRep.html">LIR</a>&gt;( new <a class="code" href="class_DListIteratorRep.html">LIR</a>(L) ) { }
00560   <font class="comment">// Initialize an iterator with the list over which to iterate.</font>
00561 
00562   <font class="comment">// Copy constructor, operator=, and destructor supplied by compiler.</font>
00563 
00564   <font class="comment">// Copying or assigning an iterator is guaranteed to produce an</font>
00565   <font class="comment">// iterator which visits the (rest of the) same elements in the</font>
00566   <font class="comment">// same order as the original.</font>
00567 
<a name="l00568"></a><a class="code" href="class_ListIterator.html#a1">00568</a>   Bool <a class="code" href="Property_h.html#a1">operator == </a>( <font class="keyword">const</font> <a class="code" href="class_ListIterator.html">ListIterator</a>&amp; I )<font class="keyword"> const </font>{
00569     <font class="keywordflow">return</font> ((<a class="code" href="class_ObjectOf.html#b0">look</a>() == I.<a class="code" href="class_ObjectOf.html#b0">look</a>()) || (*<a class="code" href="class_ObjectOf.html#b0">look</a>() == *I.<a class="code" href="class_ObjectOf.html#b0">look</a>()));
00570   }
00571 
<a name="l00572"></a><a class="code" href="class_ListIterator.html#a2">00572</a>   T <a class="code" href="class_ListIterator.html#a2">value</a>( )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;value(); }
00573   <font class="comment">// Returns the current value. Calling this is a fatal error if done().</font>
00574 
<a name="l00575"></a><a class="code" href="class_ListIterator.html#a3">00575</a>   Bool <a class="code" href="class_ListIterator.html#a3">next</a>( )<font class="keyword"> </font>{ <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;next(); }
00576   <font class="comment">// Advances this iterator.</font>
00577   <font class="comment">// Returns TRUE iff the iteration has not finished.</font>
00578   <font class="comment">// This may be called after it returns FALSE with no side effect.</font>
00579 
<a name="l00580"></a><a class="code" href="class_ListIterator.html#a4">00580</a>   Bool <a class="code" href="class_ListIterator.html#a4">done</a>( )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;done(); }
00581   <font class="comment">// Returns TRUE iff the iteration has finished. This may</font>
00582   <font class="comment">// be called after it returns TRUE with no side effect.</font>
00583 
<a name="l00584"></a><a class="code" href="class_ListIterator.html#a5">00584</a>   <font class="keywordtype">void</font> <a class="code" href="class_ListIterator.html#a5">reset</a>( )<font class="keyword"> </font>{ <a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;reset(); }
00585   <font class="comment">// Resets this iterator to the state it was in after construction.</font>
00586 <font class="comment"></font>
00587 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00588 <font class="comment"></font>  <font class="comment">//                                                                     //</font>
00589   <font class="comment">// IPC tools:                                                          //</font>
00590   <font class="comment">//                                                                     //</font><font class="comment"></font>
00591 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00592 <font class="comment"></font>
<a name="l00593"></a><a class="code" href="class_ListIterator.html#l0">00593</a>   <font class="keyword">friend</font> ostream&amp; <a class="code" href="Polynomial_h.html#a2">operator &lt; </a>( ostream&amp; ostr, <font class="keyword">const</font> <a class="code" href="class_ListIterator.html">ListIterator</a>&amp; LI )<font class="keyword"></font>
00594 <font class="keyword">  </font>{
00595     LI.<a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;write(ostr);
00596     <font class="keywordflow">return</font> ostr;
00597   }
00598   
<a name="l00599"></a><a class="code" href="class_ListIterator.html#l1">00599</a>   <font class="keyword">friend</font> istream&amp; <a class="code" href="Polynomial_h.html#a3">operator &gt; </a>( istream&amp; istr, <a class="code" href="class_ListIterator.html">ListIterator</a>&amp; LI)<font class="keyword"></font>
00600 <font class="keyword">  </font>{
00601     LI.<a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;read(istr);
00602     <font class="keywordflow">return</font> istr;
00603   }
00604 
00605 <font class="keyword">private</font>:
00606 
<a name="l00607"></a><a class="code" href="class_ListIterator.html#u0">00607</a>   <font class="keyword">typedef</font> <a class="code" href="class_ListIteratorRep.html">ListIteratorRep&lt;T&gt;</a> <a class="code" href="class_DListIteratorRep.html">LIR</a>;
00608 };
00609 
00610 
00611 <font class="preprocessor">#endif</font>
</font></pre></div><hr><address><small>Generated at Tue Jun 19 09:49:35 2001 for Magnus Classes by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
