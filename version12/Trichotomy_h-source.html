<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/magnus/back_end/global/Trichotomy.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>/magnus/back_end/global/Trichotomy.h</h1><a href="Trichotomy_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment"> *   $Id: Trichotomy.h,v 1.4 1998/05/14 19:49:41 bormotov Exp $</font>
00003 <font class="comment"> */</font><font class="comment"></font>
00004 <font class="comment">/**&lt;</font>
00005 <font class="comment">/file Trichotomy.h</font>
00006 <font class="comment">// Copyright (C) 1995 The New York Group Theory Cooperative</font>
00007 <font class="comment">// See magnus/doc/COPYRIGHT for the full notice.</font>
00008 <font class="comment">//</font>
00009 <font class="comment">/brief Contents: Definition of class Trichotomy</font>
00010 <font class="comment">//</font>
00011 <font class="comment">// Principal Author: Stephane Collart</font>
00012 <font class="comment">//</font>
00013 <font class="comment">// Status: Useable.</font>
00014 <font class="comment">//</font>
00015 <font class="comment">// Revision History:</font>
00016 <font class="comment">//</font>
00017 <font class="comment">// * 11/95 Roger made the conversion to bool, and all consequences,</font>
00018 <font class="comment">//         switch-outable, pending complete removal.</font>
00019 <font class="comment">//</font>
00020 <font class="comment">// * 01/96 Dmitry B. implemented IPC tools.</font>
00021 <font class="comment">//</font>
00022 <font class="comment">*/</font>
00023 <font class="preprocessor">#ifndef _TRICHOTOMY_H_</font>
00024 <font class="preprocessor"></font><font class="preprocessor">#define _TRICHOTOMY_H_</font>
00025 <font class="preprocessor"></font>
00026 
00027 <font class="preprocessor">#include "<a class="code" href="global_h.html">global.h</a>"</font>
00028 
<a name="l00029"></a><a class="code" href="Trichotomy_h.html#a0">00029</a> <font class="preprocessor">#define ALLOW_BOGUS_CONVERSIONS</font>
00030 <font class="preprocessor"></font>
00031 
00032 <font class="comment">//------------------------------------------------------------------------//</font>
00033 <font class="comment">//----------------------------- Trichotomy -------------------------------//</font>
00034 <font class="comment">//------------------------------------------------------------------------//</font><font class="comment"></font>
00035 <font class="comment">//! class Trichotomy </font>
00036 <font class="comment"></font><font class="comment">/*!</font>
00037 <font class="comment">Class Trichotomy used to define objects that can have three states:</font>
00038 <font class="comment">DONTKNOW, NO, YES</font>
00039 <font class="comment">*/</font>
<a name="l00040"></a><a class="code" href="class_Trichotomy.html">00040</a> <font class="keyword">class </font><a class="code" href="class_Trichotomy.html">Trichotomy</a>
00041 {
00042 
00043 <font class="keyword">public</font>:
00044 <font class="comment"></font>
00045 <font class="comment">        ///////////////////////////////////////////////////////</font>
00046 <font class="comment"></font>        <font class="comment">//                                                   //</font>
00047         <font class="comment">//  Helper Classes                                   //</font>
00048         <font class="comment">//                                                   //</font><font class="comment"></font>
00049 <font class="comment">        ///////////////////////////////////////////////////////</font>
00050 <font class="comment"></font>        /*! Enumerates logic constants. */
<a name="l00051"></a><a class="code" href="class_Trichotomy.html#s3">00051</a>         <font class="keyword">enum</font> TrichotomyValue { DONTKNOW = -1, NO, YES };
00052         <font class="comment"></font>
00053 <font class="comment">         //! used as marker in ctor of global Trich consts</font>
<a name="l00054"></a><a class="code" href="class_Trichotomy__dontknow.html">00054</a> <font class="comment"></font>        <font class="keyword">class </font>dontknow { };
00055 
00056         <font class="comment">// @stc it seems as though g++ 2.6.3 requires local classes declared before</font>
00057         <font class="comment">// first place of use in class definition</font>
00058 <font class="comment"></font>
00059 <font class="comment">        ///////////////////////////////////////////////////////</font>
00060 <font class="comment"></font>        <font class="comment">//                                                   //</font>
00061         <font class="comment">//  Constructors                                     //</font>
00062         <font class="comment">//                                                   //</font><font class="comment"></font>
00063 <font class="comment">        ///////////////////////////////////////////////////////</font>
00064 <font class="comment">        //! From boolean</font>
00065 <font class="comment"></font>        /*! Creates a trichotmoy object from boolean variable*/
<a name="l00066"></a><a class="code" href="class_Trichotomy.html#a0">00066</a>         <a class="code" href="class_Trichotomy.html#a0">Trichotomy</a>( <font class="keywordtype">bool</font> b ) : theValue(convert(b)) { }
00067 <font class="comment"></font>
00068 <font class="comment">        /*! /brief Constructor from integer</font>
00069 <font class="comment">          Creates a trichotmoy object from integer variable*/</font>
<a name="l00070"></a><a class="code" href="class_Trichotomy.html#a1">00070</a>         <a class="code" href="class_Trichotomy.html#a0">Trichotomy</a>( <font class="keywordtype">int</font> i ) : theValue(convert(i)) { }
00071 <font class="comment"></font>
00072 <font class="comment">        //! Has to be completeed</font>
<a name="l00073"></a><a class="code" href="class_Trichotomy.html#a2">00073</a> <font class="comment"></font>        <a class="code" href="class_Trichotomy.html#a0">Trichotomy</a>( <font class="keywordtype">void</font>* p ) : theValue(convert(p)) { }
00074 
00075         <font class="comment">// no default constructor</font>
00076 
00077         <font class="comment">// copy constructor provided by compiler</font>
00078 <font class="comment"></font>
00079 <font class="comment">        ///////////////////////////////////////////////////////</font>
00080 <font class="comment"></font>        <font class="comment">//                                                   //</font><font class="comment"></font>
00081 <font class="comment">        //!  Special Initialisation Constructors              //</font>
00082 <font class="comment"></font>        //                                                   //<font class="comment"></font>
00083 <font class="comment">        ///////////////////////////////////////////////////////</font>
00084 <font class="comment"></font>        /*! Creates a trichotomy object whose values is DONTKNOW
00085           This is the only way (execpt copying) to create DONTKNOW */
<a name="l00086"></a><a class="code" href="class_Trichotomy.html#a3">00086</a>         <a class="code" href="class_Trichotomy.html#a0">Trichotomy</a>( <font class="keyword">const</font> dontknow&amp; ) : theValue(DONTKNOW) { }
00087 <font class="comment"></font>
00088 <font class="comment">        ///////////////////////////////////////////////////////</font>
00089 <font class="comment"></font>        <font class="comment">//                                                   //</font>
00090         <font class="comment">//  Conversion Operators                             //</font>
00091         <font class="comment">//                                                   //</font><font class="comment"></font>
00092 <font class="comment">        ///////////////////////////////////////////////////////</font>
00093 <font class="comment"></font>
00094 <font class="preprocessor">#ifdef ALLOW_BOGUS_CONVERSIONS</font>
<a name="l00095"></a><a class="code" href="class_Trichotomy.html#a4">00095</a> <font class="preprocessor"></font>        <a class="code" href="class_Trichotomy.html#a4">operator bool </a>( )<font class="keyword"> const</font>
00096 <font class="keyword">        </font>{
00097                 <font class="keywordflow">if</font> (theValue == -1) <a class="code" href="error_h.html#a0">error</a>(<font class="stringliteral">"Non-bool value of Trichotomy in"</font>
00098                         <font class="stringliteral">" Trichotomy::operator bool()"</font>);
00099                 <font class="keywordflow">return</font> bool(theValue);
00100         }
00101 
<a name="l00102"></a><a class="code" href="class_Trichotomy.html#a5">00102</a>         <a class="code" href="class_Trichotomy.html#a5">operator int </a>( )<font class="keyword"> const</font>
00103 <font class="keyword">        </font>{
00104                 <font class="keywordflow">return</font> bool(*<font class="keyword">this</font>);
00105         }
00106 <font class="preprocessor">#endif</font>
00107 <font class="preprocessor"></font><font class="comment"></font>
00108 <font class="comment">        ///////////////////////////////////////////////////////</font>
00109 <font class="comment"></font>        <font class="comment">//                                                   //</font>
00110         <font class="comment">//  Conventional Operators                           //</font>
00111         <font class="comment">//                                                   //</font><font class="comment"></font>
00112 <font class="comment">        ///////////////////////////////////////////////////////</font>
00113 <font class="comment"></font>
00114         <font class="comment">// assignment operator provided by compiler</font><font class="comment"></font>
00115 <font class="comment">        //! equality operator</font>
<a name="l00116"></a><a class="code" href="class_Trichotomy.html#l0">00116</a> <font class="comment"></font>        inline friend bool operator == ( const Trichotomy&amp; t, const Trichotomy&amp; u )
00117         {
00118                 <font class="keywordflow">return</font> t.theValue == u.theValue;
00119         }
00120         <font class="comment">// global to permit dual promotion</font>
00121 
00122         <font class="comment">// op != global below</font>
00123 <font class="comment"></font>
00124 <font class="comment">        ///////////////////////////////////////////////////////</font>
00125 <font class="comment"></font>        <font class="comment">//                                                   //</font>
00126         <font class="comment">//  Logical Operations                               //</font>
00127         <font class="comment">//                                                   //</font><font class="comment"></font>
00128 <font class="comment">        ///////////////////////////////////////////////////////</font>
00129 <font class="comment"></font>
00130 <font class="preprocessor">#ifdef ALLOW_BOGUS_CONVERSIONS</font>
00131 <font class="preprocessor"></font><font class="comment">        /*! invert the value if defined (either yes or no) */</font>
<a name="l00132"></a><a class="code" href="class_Trichotomy.html#a6">00132</a>         <a class="code" href="class_Trichotomy.html">Trichotomy</a> <a class="code" href="class_Trichotomy.html#a6">operator ! </a>( )<font class="keyword"> const</font>
00133 <font class="keyword">        </font>{
00134                 <font class="keywordflow">if</font> (<a class="code" href="class_Trichotomy.html#a8">undefined</a>()) <font class="keywordflow">return</font> <a class="code" href="Trichotomy_h.html#a6">dontknow</a>();
00135                 <font class="keywordflow">else</font> <font class="keywordflow">return</font> !bool(*<font class="keyword">this</font>);
00136         }
00137   
00138         <font class="comment">// the rest of these are implemented as global functions below</font>
00139         <font class="comment">// for dual type promotion</font>
00140 <font class="comment"></font>
00141 <font class="comment">        ///////////////////////////////////////////////////////</font>
00142 <font class="comment"></font>        <font class="comment">//                                                   //</font>
00143         <font class="comment">//  Accessors                                        //</font>
00144         <font class="comment">//                                                   //</font><font class="comment"></font>
00145 <font class="comment">        ///////////////////////////////////////////////////////</font>
00146 <font class="comment">        //! true iff *this != dontknow</font>
00147 <font class="comment"></font>        /*! True if value is not DONTKNOW */
<a name="l00148"></a><a class="code" href="class_Trichotomy.html#a7">00148</a>         <font class="keywordtype">bool</font> <a class="code" href="class_Trichotomy.html#a7">defined</a>( )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> theValue != -1; }
00149 <font class="comment"></font>
00150 <font class="comment">        //! true iff *this == dontknow</font>
<a name="l00151"></a><a class="code" href="class_Trichotomy.html#a8">00151</a> <font class="comment"></font>        <font class="keywordtype">bool</font> <a class="code" href="class_Trichotomy.html#a8">undefined</a>( )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> !<a class="code" href="class_Trichotomy.html#a7">defined</a>(); }
00152 <font class="preprocessor">#endif</font>
00153 <font class="preprocessor"></font><font class="comment"></font>
00154 <font class="comment">        ///////////////////////////////////////////////////////</font>
00155 <font class="comment"></font>        <font class="comment">//                                                   //</font><font class="comment"></font>
00156 <font class="comment">        //!  I/O routines                                     //</font>
00157 <font class="comment"></font>        //                                                   //<font class="comment"></font>
00158 <font class="comment">        ///////////////////////////////////////////////////////</font>
00159 <font class="comment"></font><font class="comment"></font>
00160 <font class="comment">        /*! Print value into the stream */</font>
<a name="l00161"></a><a class="code" href="class_Trichotomy.html#l1">00161</a>         <font class="keyword">friend</font> ostream&amp; <a class="code" href="class_Trichotomy.html#l1">operator &lt;&lt; </a>( ostream&amp; ostr, <font class="keyword">const</font> <a class="code" href="class_Trichotomy.html">Trichotomy</a>&amp; t )<font class="keyword"></font>
00162 <font class="keyword">        </font>{
00163           <font class="keywordflow">switch</font>( t.theValue ) {
00164           <font class="keywordflow">case</font> DONTKNOW : ostr &lt;&lt; <font class="stringliteral">"DONTKNOW"</font>; <font class="keywordflow">break</font>;
00165           <font class="keywordflow">case</font> NO       : ostr &lt;&lt; <font class="stringliteral">"NO"</font>;  <font class="keywordflow">break</font>;
00166           <font class="keywordflow">case</font> YES      : ostr &lt;&lt; <font class="stringliteral">"YES"</font>;
00167           }
00168           <font class="keywordflow">return</font> ostr;
00169         }<font class="comment"></font>
00170 <font class="comment">        ///////////////////////////////////////////////////////</font>
00171 <font class="comment"></font>        <font class="comment">//                                                   //</font><font class="comment"></font>
00172 <font class="comment">        //!  IPC operators                                    //</font>
00173 <font class="comment"></font>        //                                                   //<font class="comment"></font>
00174 <font class="comment">        ///////////////////////////////////////////////////////</font>
00175 <font class="comment"></font><font class="comment"></font>
00176 <font class="comment">        /*! Special opertor for interprocessing communication */</font>
<a name="l00177"></a><a class="code" href="class_Trichotomy.html#l2">00177</a>         <font class="keyword">friend</font> ostream&amp; <a class="code" href="class_Trichotomy.html#l2">operator &lt; </a>( ostream&amp; ostr, <font class="keyword">const</font> <a class="code" href="class_Trichotomy.html">Trichotomy</a>&amp; t )<font class="keyword"></font>
00178 <font class="keyword">        </font>{
00179           <font class="keywordtype">int</font> i; 
00180           <font class="keywordflow">switch</font>( t.theValue ) {
00181           <font class="keywordflow">case</font> DONTKNOW : i = -1; <font class="keywordflow">break</font>;
00182           <font class="keywordflow">case</font> NO       : i = 0;  <font class="keywordflow">break</font>;
00183           <font class="keywordflow">case</font> YES      : i = 1;
00184           }
00185           ostr &lt; i;
00186 
00187           <font class="keywordflow">return</font> ostr;
00188         }
00189   <font class="comment"></font>
00190 <font class="comment">        /*! Special opertor for interprocessing communication */</font>
<a name="l00191"></a><a class="code" href="class_Trichotomy.html#l3">00191</a>         <font class="keyword">friend</font> istream&amp; <a class="code" href="class_Trichotomy.html#l3">operator &gt; </a>( istream&amp; istr, <a class="code" href="class_Trichotomy.html">Trichotomy</a>&amp; t )<font class="keyword"></font>
00192 <font class="keyword">        </font>{
00193           <font class="keywordtype">int</font> i;
00194           istr &gt; i;
00195           <font class="keywordflow">switch</font>( i ) {
00196           <font class="keywordflow">case</font> -1 : t.theValue = DONTKNOW; <font class="keywordflow">break</font>;
00197           <font class="keywordflow">case</font> 0  : t.theValue = NO; <font class="keywordflow">break</font>;
00198           <font class="keywordflow">case</font> 1  : t.theValue = YES;
00199           }
00200 
00201           <font class="keywordflow">return</font> istr;
00202         }
00203 
00204 
00205 <font class="keyword">private</font>:
00206 <font class="comment"></font>
00207 <font class="comment">        ///////////////////////////////////////////////////////</font>
00208 <font class="comment"></font>        <font class="comment">//                                                   //</font>
00209         <font class="comment">//  Conversion Helpers                               //</font>
00210         <font class="comment">//                                                   //</font><font class="comment"></font>
00211 <font class="comment">        ///////////////////////////////////////////////////////</font>
00212 <font class="comment"></font>
<a name="l00213"></a><a class="code" href="class_Trichotomy.html#f0">00213</a>         <font class="keyword">static</font> TrichotomyValue <a class="code" href="class_Trichotomy.html#f0">convert</a>( <font class="keywordtype">bool</font> b )<font class="keyword"></font>
00214 <font class="keyword">        </font>{
00215                 <font class="keywordflow">if</font> (b) <font class="keywordflow">return</font> YES; <font class="keywordflow">else</font> <font class="keywordflow">return</font> NO;
00216         }
00217         
<a name="l00218"></a><a class="code" href="class_Trichotomy.html#f1">00218</a>         <font class="keyword">static</font> TrichotomyValue <a class="code" href="class_Trichotomy.html#f0">convert</a>( <font class="keywordtype">void</font>* p )<font class="keyword"></font>
00219 <font class="keyword">        </font>{
00220                 <font class="keywordflow">if</font> (p) <font class="keywordflow">return</font> YES; <font class="keywordflow">else</font> <font class="keywordflow">return</font> NO;
00221         }
00222         <font class="comment"></font>
00223 <font class="comment">        ///////////////////////////////////////////////////////</font>
00224 <font class="comment"></font>        <font class="comment">//                                                   //</font>
00225         <font class="comment">//  Data Members                                     //</font>
00226         <font class="comment">//                                                   //</font><font class="comment"></font>
00227 <font class="comment">        ///////////////////////////////////////////////////////</font>
00228 <font class="comment"></font>
<a name="l00229"></a><a class="code" href="class_Trichotomy.html#o0">00229</a>         TrichotomyValue theValue;
00230 
00231 };
00232 
00233 
00234 <font class="comment">//------------------ related global operators ---------------------//</font>
00235 
00236 
<a name="l00237"></a><a class="code" href="Trichotomy_h.html#a7">00237</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="Property_h.html#a2">operator != </a>( <font class="keyword">const</font> <a class="code" href="class_Trichotomy.html">Trichotomy</a>&amp; t, <font class="keyword">const</font> <a class="code" href="class_Trichotomy.html">Trichotomy</a>&amp; u )<font class="keyword"></font>
00238 <font class="keyword"></font>{
00239         <font class="keywordflow">return</font> !(t == u);
00240 }
00241 
00242 <font class="preprocessor">#ifdef ALLOW_BOGUS_CONVERSIONS</font>
<a name="l00243"></a><a class="code" href="Trichotomy_h.html#a8">00243</a> <font class="preprocessor"></font><font class="keyword">inline</font> <a class="code" href="class_Trichotomy.html">Trichotomy</a> <a class="code" href="Trichotomy_h.html#a8">operator &amp;&amp; </a>( <font class="keyword">const</font> <a class="code" href="class_Trichotomy.html">Trichotomy</a>&amp; t, <font class="keyword">const</font> <a class="code" href="class_Trichotomy.html">Trichotomy</a>&amp; u )<font class="keyword"></font>
00244 <font class="keyword"></font>{
00245         <font class="keywordflow">if</font> (t.<a class="code" href="class_Trichotomy.html#a8">undefined</a>() || u.<a class="code" href="class_Trichotomy.html#a8">undefined</a>()) <font class="keywordflow">return</font> <a class="code" href="Trichotomy_h.html#a6">Trichotomy::dontknow</a>();
00246         <font class="keywordflow">else</font> <font class="keywordflow">return</font> bool(t) &amp;&amp; bool(u);
00247 }
00248 
<a name="l00249"></a><a class="code" href="Trichotomy_h.html#a9">00249</a> <font class="keyword">inline</font> <a class="code" href="class_Trichotomy.html">Trichotomy</a> <a class="code" href="Trichotomy_h.html#a9">operator || </a>( <font class="keyword">const</font> <a class="code" href="class_Trichotomy.html">Trichotomy</a>&amp; t, <font class="keyword">const</font> <a class="code" href="class_Trichotomy.html">Trichotomy</a>&amp; u )<font class="keyword"></font>
00250 <font class="keyword"></font>{
00251         <font class="keywordflow">if</font> (t.<a class="code" href="class_Trichotomy.html#a8">undefined</a>() || u.<a class="code" href="class_Trichotomy.html#a8">undefined</a>()) <font class="keywordflow">return</font> <a class="code" href="Trichotomy_h.html#a6">Trichotomy::dontknow</a>();
00252         <font class="keywordflow">else</font> <font class="keywordflow">return</font> bool(t) || bool(u);
00253 }
00254 <font class="preprocessor">#endif</font>
00255 <font class="preprocessor"></font>
00256 <font class="comment">//------------------ global const declarations --------------------//</font>
00257 
00258 <font class="comment"></font>
00259 <font class="comment">/*! Constants representing Trichotomy values */</font>
<a name="l00260"></a><a class="code" href="Trichotomy_h.html#a4">00260</a> <font class="keyword">extern</font> <font class="keyword">const</font> <a class="code" href="class_Trichotomy.html">Trichotomy</a> YES, NO, DONTKNOW, yes, no, dontknow;
00261 <font class="comment">// @stc verify that it is necessary to explicitely give consts external linkage</font>
00262 
00263 <font class="comment">//@rn const bool forever = true; // useful synonym</font>
00264 
00265 <font class="preprocessor">#endif</font>
</font></pre></div><hr><address><small>Generated at Tue Jun 19 09:49:36 2001 for Magnus Classes by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
