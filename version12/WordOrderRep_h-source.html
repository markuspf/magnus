<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/magnus/back_end/KB/include/WordOrderRep.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>/magnus/back_end/KB/include/WordOrderRep.h</h1><a href="WordOrderRep_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment"> *   $Id: WordOrderRep.h,v 1.2 2000/02/09 23:59:20 bormotov Exp $</font>
00003 <font class="comment"> */</font>
00004 
00005 <font class="comment">// Copyright (C) 1994 The New York Group Theory Cooperative</font>
00006 <font class="comment">// See magnus/doc/COPYRIGHT for the full notice.</font>
00007 
00008 <font class="comment">// Contents: Definition of WordOrderRep and related classes.</font>
00009 <font class="comment">//</font>
00010 <font class="comment">// Principal Author: Sarah Rees</font>
00011 <font class="comment">//</font>
00012 <font class="comment">// Status: in progress</font>
00013 <font class="comment">//</font>
00014 <font class="comment">// Revision History:</font>
00015 <font class="comment">//</font>
00016 
00017 <font class="preprocessor">#ifndef _WordOrderRep_H_</font>
00018 <font class="preprocessor"></font><font class="preprocessor">#define _WordOrderRep_H_</font>
00019 <font class="preprocessor"></font>
00020 <font class="preprocessor">#include "<a class="code" href="Word_h.html">Word.h</a>"</font>
00021 <font class="preprocessor">#include "<a class="code" href="Vector_h.html">Vector.h</a>"</font>
00022 <font class="preprocessor">#include "<a class="code" href="RefCounter_h.html">RefCounter.h</a>"</font>
00023 <font class="comment">// #include "DFSARep.h"</font>
00024 <font class="preprocessor">#include "<a class="code" href="Set_h.html">Set.h</a>"</font>
00025 <font class="preprocessor">#include "<a class="code" href="DiffHistoryRep_h.html">DiffHistoryRep.h</a>"</font>
<a name="l00026"></a><a class="code" href="WordOrderRep_h.html#a0">00026</a> <font class="keyword">typedef</font> <font class="keywordtype">int</font> State; 
00027 <font class="comment">// @sr for now this file needs to be independent of DFSARep.</font>
00028 <font class="comment">// So for now we'll typedef State to be int, but that's only temporary.</font>
00029 <font class="comment">// That's because a declaration of SetOf&lt;DiffHistory&gt; is necessary in Set.C</font>
00030 <font class="comment">// (for each of the various DiffHistory types)</font>
00031 <font class="comment">// and that can't be dependent on the FSA hierarchy.</font>
00032 
00033 
<a name="l00034"></a><a class="code" href="class_WordOrderRep.html">00034</a> <font class="keyword">class </font><a class="code" href="class_WordOrderRep.html">WordOrderRep</a> : <font class="keyword">public</font> <a class="code" href="class_RefCounter.html">RefCounter</a> {
00035 <font class="keyword">public</font>:
00036 <font class="comment">//constructors</font>
<a name="l00037"></a><a class="code" href="class_WordOrderRep.html#a0">00037</a>   <a class="code" href="class_WordOrderRep.html#a0">WordOrderRep</a>()<font class="keyword"> </font>{};
<a name="l00038"></a><a class="code" href="class_WordOrderRep.html#a1">00038</a>   <a class="code" href="class_WordOrderRep.html#a0">WordOrderRep</a>(<font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a> &amp; oType ) : orderType(oType),numSyms(0), order(0),
00039     posn(0), invposn(0) {};
<a name="l00040"></a><a class="code" href="class_WordOrderRep.html#a2">00040</a>   <a class="code" href="class_WordOrderRep.html#a0">WordOrderRep</a>(<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a> &amp; o) : numSyms(o.length()), order(o),
00041     posn(o.length()), invposn(o.length()) {
00042     <font class="keywordtype">int</font> i;
00043     <font class="keywordflow">for</font> (i=0;i&lt;numSyms;i++){
00044       posn[i]=0; invposn[i]=0; 
00045            <font class="comment">// We MUST initialise invposn to be zero, since entries which</font>
00046            <font class="comment">// remain set to zero indicate involutions</font>
00047     }
00048     <font class="keywordflow">for</font> (i=1;i&lt;=numSyms;i++){
00049       <font class="keywordtype">int</font> j = order[i-1];
00050       <font class="keywordflow">if</font> (j&gt;0) posn[j-1]=i; <font class="keywordflow">else</font> invposn[-j-1]=i;
00051     }
00052   };
<a name="l00053"></a><a class="code" href="class_WordOrderRep.html#a3">00053</a>   <a class="code" href="class_WordOrderRep.html#a0">WordOrderRep</a>(<font class="keywordtype">int</font> numOfSymbols) : numSyms(numOfSymbols), order(0),
00054     posn(0), invposn(0) {
00055     <font class="keywordtype">int</font> ngens = numOfSymbols/2;
00056     <font class="keywordflow">for</font> (<font class="keywordtype">int</font> i=1;i&lt;=ngens;i++){
00057       order.<a class="code" href="class_VectorOf.html#a14">append</a>(i);
00058       order.<a class="code" href="class_VectorOf.html#a14">append</a>(-i);
00059       posn.<a class="code" href="class_VectorOf.html#a14">append</a>(2*i-1);
00060       invposn.<a class="code" href="class_VectorOf.html#a14">append</a>(2*i);
00061     }
00062   }
<a name="l00063"></a><a class="code" href="class_WordOrderRep.html#a4">00063</a>   <a class="code" href="class_WordOrderRep.html#a0">WordOrderRep</a>(<font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a> &amp; oType, <font class="keywordtype">int</font> numOfSymbols) : 
00064     orderType(oType), numSyms(numOfSymbols), order(0), posn(0), invposn(0) {
00065     <font class="keywordflow">for</font> (<font class="keywordtype">int</font> i=1;i&lt;=numOfSymbols/2;i++){
00066       order.<a class="code" href="class_VectorOf.html#a14">append</a>(i);
00067       order.<a class="code" href="class_VectorOf.html#a14">append</a>(-i);
00068       posn.<a class="code" href="class_VectorOf.html#a14">append</a>(2*i-1);
00069       invposn.<a class="code" href="class_VectorOf.html#a14">append</a>(2*i);
00070     }
00071   };
<a name="l00072"></a><a class="code" href="class_WordOrderRep.html#a5">00072</a>   <a class="code" href="class_WordOrderRep.html#a0">WordOrderRep</a>(<font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a> &amp; oType, <font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a> &amp; o) : 
00073     orderType(oType), numSyms(o.length()), order(o), posn(o.length()), 
00074       invposn(o.length()) {
00075     <font class="keywordtype">int</font> i;
00076     <font class="keywordflow">for</font> (i=0;i&lt;numSyms;i++){
00077       posn[i]=0; invposn[i]=0; 
00078            <font class="comment">// We MUST initialise invposn to be zero, since entries which</font>
00079            <font class="comment">// remain set to zero indicate involutions</font>
00080     }
00081     <font class="keywordflow">for</font> (i=1;i&lt;=numSyms;i++){
00082       <font class="keywordtype">int</font> j = order[i-1];
00083       <font class="keywordflow">if</font> (j&gt;0) posn[j-1]=i; <font class="keywordflow">else</font> invposn[-j-1]=i;
00084     }
00085   };
00086 <font class="comment">// copy constructor</font>
<a name="l00087"></a><a class="code" href="class_WordOrderRep.html#a6">00087</a>   <a class="code" href="class_WordOrderRep.html#a0">WordOrderRep</a> (<font class="keyword">const</font> <a class="code" href="class_WordOrderRep.html">WordOrderRep</a> &amp; word_order)<font class="keyword"> </font>{ 
00088     order=word_order.order;
00089     orderType = word_order.orderType;
00090     numSyms = word_order.numSyms;
00091     posn = word_order.posn;
00092     invposn = word_order.invposn;
00093   };
<a name="l00094"></a><a class="code" href="class_WordOrderRep.html#a7">00094</a>   <font class="keyword">virtual</font> <a class="code" href="class_WordOrderRep.html">WordOrderRep</a> *<a class="code" href="class_WordOrderRep.html#a7">clone</a>()<font class="keyword"> const </font>{};
00095 <font class="comment">//destructor</font>
<a name="l00096"></a><a class="code" href="class_WordOrderRep.html#a8">00096</a>   <a class="code" href="class_WordOrderRep.html#a8">~WordOrderRep</a>()<font class="keyword"> </font>{};
<a name="l00097"></a><a class="code" href="class_WordOrderRep.html#a9">00097</a>   <font class="keyword">virtual</font> <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w1,<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w2)<font class="keyword"> const </font>{<font class="keywordflow">return</font> 1;};
<a name="l00098"></a><a class="code" href="class_WordOrderRep.html#a10">00098</a>   <font class="keyword">virtual</font> <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<font class="keywordtype">int</font> i, <font class="keywordtype">int</font> j)<font class="keyword"> const </font>{<font class="keywordflow">return</font> 1;};
<a name="l00099"></a><a class="code" href="class_WordOrderRep.html#a11">00099</a>   <font class="keyword">virtual</font> <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<a class="code" href="class_Generator.html">Generator</a> g,<a class="code" href="class_Generator.html">Generator</a> h)<font class="keyword"> const </font>{<font class="keywordflow">return</font> 1;};
00100   <font class="keyword">virtual</font> <font class="keywordtype">void</font> balancedEquationFromRelator
<a name="l00101"></a><a class="code" href="class_WordOrderRep.html#a12">00101</a>                       (<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w,<a class="code" href="class_Word.html">Word</a> &amp; lhs,<a class="code" href="class_Word.html">Word</a> &amp; rhs) <font class="keyword">const</font> {};
<a name="l00102"></a><a class="code" href="class_WordOrderRep.html#a13">00102</a>   <font class="keyword">virtual</font> <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a13">historyBound</a>(<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;Word&gt;</a> &amp; diffs)<font class="keyword"> const</font>{ <font class="keywordflow">return</font> 0;}
<a name="l00103"></a><a class="code" href="class_WordOrderRep.html#a14">00103</a>   <font class="keyword">virtual</font> <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> * <a class="code" href="class_WordOrderRep.html#a14">buildDiffHistoryRep</a>()<font class="keyword"> const  </font>{};
<a name="l00104"></a><a class="code" href="class_WordOrderRep.html#a15">00104</a>   <font class="keyword">virtual</font> <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> * <a class="code" href="class_WordOrderRep.html#a14">buildDiffHistoryRep</a>(State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const  </font>{};
00105 <font class="comment">// build a difference history for the word difference g^-1h, attached</font>
00106 <font class="comment">// to state d of the difference machine.</font>
00107 
00108   <font class="keyword">virtual</font> <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> * update 
<a name="l00109"></a><a class="code" href="class_WordOrderRep.html#a16">00109</a>      (<font class="keyword">const</font> <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> &amp; dh,State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h,<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; wd) <font class="keyword">const</font> {};
00110 <font class="comment">// Given a difference history dh associated with pairs of words w,u,</font>
00111 <font class="comment">// construct the difference history associated with pairs wg,uh and the</font>
00112 <font class="comment">// state d of the difference machine (which is of course the target</font>
00113 <font class="comment">// of the state for dh under the pair of symbols (g,h))</font>
00114 
<a name="l00115"></a><a class="code" href="class_WordOrderRep.html#a17">00115</a>   <font class="keyword">virtual</font> Bool <a class="code" href="class_WordOrderRep.html#a17">reduction</a>(<font class="keyword">const</font> <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> &amp; dh,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const </font>{};
00116 <font class="comment">// returns YES if the difference history contains a pair w,u of words</font>
00117 <font class="comment">// such that wg=_G uh and uh &lt; wg in the word order.</font>
00118 
<a name="l00119"></a><a class="code" href="class_WordOrderRep.html#a18">00119</a>   <font class="keyword">virtual</font> Bool <a class="code" href="class_WordOrderRep.html#a18">possibleReduction</a>(<font class="keyword">const</font> <a class="code" href="class_AheadInfoRep.html">AheadInfoRep</a> &amp; ai,<font class="keywordtype">int</font> g)<font class="keyword"> const </font>{};
00120 <font class="comment">// returns YES if it is possible (i.e. cannot yet be ruled out)</font>
00121 <font class="comment">// that there is a reduction to a longer word. </font>
00122 
<a name="l00123"></a><a class="code" href="class_WordOrderRep.html#a19">00123</a>   <font class="keyword">virtual</font> <a class="code" href="class_AheadInfoRep.html">AheadInfoRep</a> *  <a class="code" href="class_WordOrderRep.html#a16">update</a>(<font class="keyword">const</font> <a class="code" href="class_AheadInfoRep.html">AheadInfoRep</a> &amp; ai,<font class="keywordtype">int</font> g)<font class="keyword"> const </font>{};
00124 
<a name="l00125"></a><a class="code" href="class_WordOrderRep.html#a20">00125</a>   <font class="keyword">virtual</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> * <a class="code" href="class_WordOrderRep.html#a20">buildDiffHistoryVtxRep</a>()<font class="keyword"> const  </font>{};
00126   <font class="keyword">virtual</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> 
<a name="l00127"></a><a class="code" href="class_WordOrderRep.html#a21">00127</a>       * <a class="code" href="class_WordOrderRep.html#a20">buildDiffHistoryVtxRep</a>(State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const  </font>{}; 
00128 <font class="comment">// build a difference history Vtx for the word difference g^-1h,</font>
00129 <font class="comment">// attached to state d of the difference machine.</font>
00130 
00131   <font class="keyword">virtual</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> * update 
<a name="l00132"></a><a class="code" href="class_WordOrderRep.html#a22">00132</a>      (<font class="keyword">const</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> &amp; dh,State d, <font class="keywordtype">int</font> g, <font class="keywordtype">int</font> h, <a class="code" href="class_DiffHistoryVtx.html">DiffHistoryVtx</a> * ptr)
00133              <font class="keyword">const</font> {}; 
00134 <font class="comment">// Given a difference history vertex dh associated with pairs of</font>
00135 <font class="comment">//words w,u,  </font>
00136 <font class="comment">// construct the difference history Vtx associated with</font>
00137 <font class="comment">// pairs wg,uh and the  </font>
00138 <font class="comment">// state d of the difference machine (which is of course thetarget  </font>
00139 <font class="comment">// of the state for dh under the pair of symbols (g,h))</font>
00140 
<a name="l00141"></a><a class="code" href="class_WordOrderRep.html#a23">00141</a>   <font class="keyword">virtual</font> Bool <a class="code" href="class_WordOrderRep.html#a17">reduction</a>(<font class="keyword">const</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> &amp; dh,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"></font>
00142 <font class="keyword">const </font>{};
00143 <font class="comment">// returns YES if the difference history contains a pair w,uof words </font>
00144 <font class="comment">// such that wg=_G uh and uh &lt; wg in the word order.</font>
00145 
<a name="l00146"></a><a class="code" href="class_WordOrderRep.html#a24">00146</a>   <font class="keyword">virtual</font> Bool <a class="code" href="class_WordOrderRep.html#a24">possibleReductionAhead</a>(<font class="keyword">const</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> &amp; dh,<font class="keywordtype">int</font> g)<font class="keyword"></font>
00147 <font class="keyword">const </font>{}; 
00148 
00149 <font class="comment">// returns YES if it is possible (i.e. cannot yet be ruled out) </font>
00150 <font class="comment">// that there is a reduction of w to a longer word, with ug as a </font>
00151 <font class="comment">// proper prefix. </font>
00152 
<a name="l00153"></a><a class="code" href="class_WordOrderRep.html#a25">00153</a>   <a class="code" href="class_Chars.html">Chars</a> <a class="code" href="class_WordOrderRep.html#a25">getOrderType</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> orderType; }
<a name="l00154"></a><a class="code" href="class_WordOrderRep.html#a26">00154</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a26">getNumSymbols</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> numSyms; }
<a name="l00155"></a><a class="code" href="class_WordOrderRep.html#a27">00155</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a27">getSymbolIndex</a>(<font class="keywordtype">int</font> i)<font class="keyword"> const </font>{ <font class="keywordflow">return</font> order[i-1];}
<a name="l00156"></a><a class="code" href="class_WordOrderRep.html#a28">00156</a>   <a class="code" href="class_Generator.html">Generator</a> <a class="code" href="class_WordOrderRep.html#a28">getSymbol</a>(<font class="keywordtype">int</font> i)<font class="keyword"> const </font>{ <a class="code" href="class_Generator.html">Generator</a> g(order[i-1]); <font class="keywordflow">return</font> g; }
<a name="l00157"></a><a class="code" href="class_WordOrderRep.html#a29">00157</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(<a class="code" href="class_Generator.html">Generator</a> g)<font class="keyword"> const </font>{ 
00158     <font class="keywordflow">return</font> (ord(g)&gt;0? posn[ord(g)-1]: invposn[-ord(g)-1]);
00159   } <font class="comment">// returns 0 if the generator isn't in the alphabet</font>
00160 
<a name="l00161"></a><a class="code" href="class_WordOrderRep.html#a30">00161</a>   <a class="code" href="class_Word.html">Word</a> <a class="code" href="class_WordOrderRep.html#a30">inverse</a>(<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w)<font class="keyword"> const</font>{
00162     <font class="keywordtype">int</font> len = w.<a class="code" href="class_Word.html#a5">length</a>();
00163     <a class="code" href="class_VectorOf.html">VectorOf&lt;Generator&gt;</a> W(len);
00164     <font class="keywordflow">for</font> (<font class="keywordtype">int</font> i=0; i&lt;len;i++)
00165       W[i]= (<a class="code" href="class_WordOrderRep.html#a31">selfInverse</a>(w[len-1-i])? w[len-1-i]: <a class="code" href="Letter_h.html#a1">inv</a>(w[len-1-i]));
00166     <font class="keywordflow">return</font> (<a class="code" href="class_Word.html">Word</a>)W;
00167   }
00168 <font class="comment">// Returns yes if the inverse generator is not a symbol.</font>
00169 <font class="comment">// It doesn't make sense to call this unless ord(g) is positive</font>
00170 <font class="comment">// but this is checked to avoid crashes.</font>
<a name="l00171"></a><a class="code" href="class_WordOrderRep.html#a31">00171</a>   Bool <a class="code" href="class_WordOrderRep.html#a31">selfInverse</a>(<a class="code" href="class_Generator.html">Generator</a> g)<font class="keyword"> const </font>{
00172     <font class="keywordflow">return</font> (ord(g)&gt;0 &amp;&amp; invposn[ord(g)-1]==0);
00173   }
<a name="l00174"></a><a class="code" href="class_WordOrderRep.html#a32">00174</a>   <font class="keyword">virtual</font> <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(<font class="keywordtype">int</font> i)<font class="keyword"> const </font>{ <font class="keywordflow">return</font> 1;};
<a name="l00175"></a><a class="code" href="class_WordOrderRep.html#a33">00175</a>   <font class="keyword">virtual</font> <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(<a class="code" href="class_Generator.html">Generator</a> g)<font class="keyword"> const </font>{ <font class="keywordflow">return</font> 1;};
<a name="l00176"></a><a class="code" href="class_WordOrderRep.html#a34">00176</a>   <font class="keyword">virtual</font> <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w)<font class="keyword"> const </font>{ <font class="keywordflow">return</font> w.<a class="code" href="class_Word.html#a5">length</a>();};
00177 <font class="keyword">protected</font>:
<a name="l00178"></a><a class="code" href="class_WordOrderRep.html#n0">00178</a>   <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a> order;
<a name="l00179"></a><a class="code" href="class_WordOrderRep.html#n1">00179</a>   <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a> posn; <font class="comment">// posn[i] stores position in order of generator</font>
00180                       <font class="comment">// indexed by i, as a number in range 1..numSyms</font>
<a name="l00181"></a><a class="code" href="class_WordOrderRep.html#n2">00181</a>   <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a> invposn; <font class="comment">// invposn[i] stores position in order of generator</font>
00182                       <font class="comment">// indexed by -i, as a number in range 1..numSyms</font>
<a name="l00183"></a><a class="code" href="class_WordOrderRep.html#n3">00183</a>   <font class="keywordtype">int</font> numSyms;
00184 <font class="keyword">private</font>:
<a name="l00185"></a><a class="code" href="class_WordOrderRep.html#o0">00185</a>   <a class="code" href="class_Chars.html">Chars</a> orderType;
00186 };
00187 
<a name="l00188"></a><a class="code" href="class_ShortLexRep.html">00188</a> <font class="keyword">class </font><a class="code" href="class_ShortLexRep.html">ShortLexRep</a> : <font class="keyword">public</font> <a class="code" href="class_WordOrderRep.html">WordOrderRep</a> {
00189 <font class="keyword">public</font>:
<a name="l00190"></a><a class="code" href="class_ShortLexRep.html#a0">00190</a>   <a class="code" href="class_ShortLexRep.html#a0">ShortLexRep</a>() : <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>("ShortLex") {};
00191 
<a name="l00192"></a><a class="code" href="class_ShortLexRep.html#a1">00192</a>   <a class="code" href="class_ShortLexRep.html#a0">ShortLexRep</a>(<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a> &amp;  o) : <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>("ShortLex",o) { };
00193 
<a name="l00194"></a><a class="code" href="class_ShortLexRep.html#a2">00194</a>   <a class="code" href="class_ShortLexRep.html#a0">ShortLexRep</a>(<font class="keywordtype">int</font> numOfSymbols) : <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>("ShortLex",numOfSymbols) { };
00195 
00196 <font class="comment">//copy constructor</font>
<a name="l00197"></a><a class="code" href="class_ShortLexRep.html#a3">00197</a>   <a class="code" href="class_ShortLexRep.html#a0">ShortLexRep</a>( <font class="keyword">const</font> <a class="code" href="class_ShortLexRep.html">ShortLexRep</a>&amp; wsl ) : 
00198     <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>(wsl) { }
00199 
<a name="l00200"></a><a class="code" href="class_ShortLexRep.html#a4">00200</a>   <a class="code" href="class_WordOrderRep.html">WordOrderRep</a> *<a class="code" href="class_WordOrderRep.html#a7">clone</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <font class="keyword">new</font> <a class="code" href="class_ShortLexRep.html#a0">ShortLexRep</a>(*<font class="keyword">this</font>); }
00201 
<a name="l00202"></a><a class="code" href="class_ShortLexRep.html#a5">00202</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w1,<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w2)<font class="keyword"> const </font>{ 
00203     <font class="keywordflow">if</font> (w1==w2) <font class="keywordflow">return</font> 0;
00204     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (w1.<a class="code" href="class_Word.html#a5">length</a>()&lt;w2.<a class="code" href="class_Word.html#a5">length</a>()) <font class="keywordflow">return</font> 1;
00205     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (w1.<a class="code" href="class_Word.html#a5">length</a>()&gt;w2.<a class="code" href="class_Word.html#a5">length</a>()) <font class="keywordflow">return</font> -1;
00206     <font class="keywordflow">else</font> {
00207       <font class="keywordtype">int</font> j=0;
00208       <font class="keywordflow">while</font> (j&lt;w1.<a class="code" href="class_Word.html#a5">length</a>()){
00209         <font class="keywordflow">if</font> (<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w1[j])&lt;<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w2[j])) <font class="keywordflow">return</font> 1;
00210         <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w1[j])&gt;<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w2[j])) <font class="keywordflow">return</font> -1;
00211         <font class="keywordflow">else</font> j++;
00212       }
00213     }
00214   } 
00215 
<a name="l00216"></a><a class="code" href="class_ShortLexRep.html#a6">00216</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<font class="keywordtype">int</font> i, <font class="keywordtype">int</font> j)<font class="keyword"> const </font>{
00217     <font class="keywordflow">if</font> (i==j) <font class="keywordflow">return</font> 0;
00218     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (i&lt;j) <font class="keywordflow">return</font> 1;
00219     <font class="keywordflow">else</font> <font class="keywordflow">return</font> -1;
00220   }
00221 
<a name="l00222"></a><a class="code" href="class_ShortLexRep.html#a7">00222</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<a class="code" href="class_Generator.html">Generator</a> g,<a class="code" href="class_Generator.html">Generator</a> h)<font class="keyword"> const </font>{
00223     <font class="keywordflow">return</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(g),<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(h));
00224   }
00225 
<a name="l00226"></a><a class="code" href="class_ShortLexRep.html#a8">00226</a>   <font class="keywordtype">void</font> <a class="code" href="class_WordOrderRep.html#a12">balancedEquationFromRelator</a>(<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w,<a class="code" href="class_Word.html">Word</a> &amp; lhs,<a class="code" href="class_Word.html">Word</a> &amp; rhs)<font class="keyword"> const </font>{
00227 <font class="comment">// This code is complicated by the fact that we have to make sure that</font>
00228 <font class="comment">// neither side of the equation contains the inverse symbol of an involution</font>
00229 <font class="comment">// if that's not in our alphabet. We might even have got such symbols into</font>
00230 <font class="comment">// the relation, because of the way magnus turns relations in input into</font>
00231 <font class="comment">// relators</font>
00232 
00233     <font class="keywordtype">int</font> len=w.<a class="code" href="class_Word.html#a5">length</a>();
00234     <font class="keywordtype">int</font> i;
00235     <font class="keywordtype">int</font> len2=len - (len+1)/2;
00236 
00237 <font class="comment">// copy the word, replacing each g^-1 for which g is an involution by g</font>
00238     <a class="code" href="class_VectorOf.html">VectorOf&lt;Generator&gt;</a> W;
00239     <font class="keywordflow">for</font> (i=0;i&lt;len;i++)
00240       W.<a class="code" href="class_VectorOf.html#a14">append</a>((ord(w[i])&lt;0 &amp;&amp; <a class="code" href="class_WordOrderRep.html#a31">selfInverse</a>(<a class="code" href="Letter_h.html#a1">inv</a>(w[i])))? <a class="code" href="Letter_h.html#a1">inv</a>(w[i]) : w[i]);
00241 
00242     lhs=((<a class="code" href="class_Word.html">Word</a>)W).initialSegment((len+1)/2);
00243     <a class="code" href="class_VectorOf.html">VectorOf&lt;Generator&gt;</a> ww;
00244     <font class="keywordflow">for</font> (i=1;i&lt;=len2;i++){
00245       <a class="code" href="class_Generator.html">Generator</a> g = W[len-i];
00246       ww.<a class="code" href="class_VectorOf.html#a14">append</a>(<a class="code" href="class_WordOrderRep.html#a31">selfInverse</a>(g)? g : <a class="code" href="Letter_h.html#a1">inv</a>(g));
00247     }
00248     rhs=ww;
00249     <font class="keywordflow">if</font> (<a class="code" href="class_WordOrderRep.html#a9">signature</a>(lhs,rhs)==1){ <font class="comment">// lhs is smaller, so switch them</font>
00250       rhs=lhs;
00251       lhs=ww;
00252     }
00253   }
00254 
<a name="l00255"></a><a class="code" href="class_ShortLexRep.html#a9">00255</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a13">historyBound</a>(<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;Word&gt;</a> &amp; diffs)<font class="keyword"> const</font>{ <font class="keywordflow">return</font> 0;}
00256 
<a name="l00257"></a><a class="code" href="class_ShortLexRep.html#a10">00257</a>   <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> * <a class="code" href="class_WordOrderRep.html#a14">buildDiffHistoryRep</a>()<font class="keyword"> const </font>{ 
00258     <a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a> * dhp = <font class="keyword">new</font> SLDiffHistoryRep();
00259       <font class="keywordflow">return</font> dhp;
00260   }
00261 
<a name="l00262"></a><a class="code" href="class_ShortLexRep.html#a11">00262</a>   <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> * <a class="code" href="class_WordOrderRep.html#a14">buildDiffHistoryRep</a>(State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const </font>{ 
00263     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0 &amp;&amp; g!=h){
00264       <a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a> * dhp = 
00265         <font class="keyword">new</font> SLDiffHistoryRep(d,(g&gt;h? 1: -1),0);
00266       <font class="keywordflow">return</font> dhp;
00267     }
00268     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00269       <a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a> * dhp = <font class="keyword">new</font> SLDiffHistoryRep(d,0,1);
00270       <font class="keywordflow">return</font> dhp;
00271     }
00272     <font class="keywordflow">else</font> { 
00273       cerr &lt;&lt; <font class="stringliteral">"Parameters out of range for DiffHistoryRep constructor."</font>&lt;&lt; endl;
00274       <a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a> * dhp =  <font class="keyword">new</font> <a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a>;
00275       <font class="keywordflow">return</font> dhp;
00276     }
00277   }
00278 
00279   <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> * update
<a name="l00280"></a><a class="code" href="class_ShortLexRep.html#a12">00280</a>     (<font class="keyword">const</font> <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> &amp; dh,State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h,<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; wd) <font class="keyword">const</font> {
00281 <font class="comment">// the parameter wd isn't actually used in the function for a ShortLex </font>
00282 <font class="comment">// DiffHistory, but the generality of the code requres it to be a parameter</font>
00283     <font class="keyword">const</font> <a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a>&amp; ddh = (<a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a>&amp;)dh;
00284     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0 &amp;&amp; ddh.<a class="code" href="class_SLDiffHistoryRep.html#a8">getC0</a>()){
00285       <a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a> * dhp = <font class="keyword">new</font> <a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a>
00286               (d,ddh.<a class="code" href="class_SLDiffHistoryRep.html#a8">getC0</a>(),0);
00287       <font class="keywordflow">return</font> dhp;
00288     }
00289     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00290       <a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a> * dhp = <font class="keyword">new</font> SLDiffHistoryRep (d,0,1);
00291       <font class="keywordflow">return</font> dhp;
00292     }
00293     <font class="keywordflow">else</font> { 
00294       cerr &lt;&lt; <font class="stringliteral">"Parameters out of range for update."</font>&lt;&lt; endl;
00295       <a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a> * dhp =  <font class="keyword">new</font> <a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a>;
00296       <font class="keywordflow">return</font> dhp;
00297     }
00298   }
00299 
<a name="l00300"></a><a class="code" href="class_ShortLexRep.html#a13">00300</a>   Bool <a class="code" href="class_WordOrderRep.html#a17">reduction</a>(<font class="keyword">const</font> <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> &amp; dh,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const </font>{
00301     <font class="keyword">const</font> <a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a>&amp; ddh = (<a class="code" href="class_SLDiffHistoryRep.html">SLDiffHistoryRep</a>&amp;)dh;
00302     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0 &amp;&amp; ddh.<a class="code" href="class_SLDiffHistoryRep.html#a8">getC0</a>()==1){
00303       <font class="keywordflow">return</font> YES;
00304     } 
00305     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0) <font class="keywordflow">return</font> YES;
00306     <font class="keywordflow">return</font> NO;
00307   }
00308 
<a name="l00309"></a><a class="code" href="class_ShortLexRep.html#a14">00309</a>   Bool <a class="code" href="class_WordOrderRep.html#a18">possibleReduction</a>(<font class="keyword">const</font> <a class="code" href="class_AheadInfoRep.html">AheadInfoRep</a> &amp; ai,<font class="keywordtype">int</font> g)<font class="keyword"> const </font>{ 
00310      <font class="keywordflow">return</font> NO;
00311   };
00312 
<a name="l00313"></a><a class="code" href="class_ShortLexRep.html#a15">00313</a>   <a class="code" href="class_AheadInfoRep.html">AheadInfoRep</a> *  <a class="code" href="class_WordOrderRep.html#a16">update</a>(<font class="keyword">const</font> <a class="code" href="class_AheadInfoRep.html">AheadInfoRep</a> &amp; ai,<font class="keywordtype">int</font> g)<font class="keyword"> const </font>{
00314 <font class="comment">// this function won't actually get used, since it is not possible</font>
00315 <font class="comment">// in shortlex to have w&gt;u where w is shorter than u.</font>
00316 <font class="comment">// It is necessary to have a function returning something of the right</font>
00317 <font class="comment">// type to get  compilation.</font>
00318      <font class="keywordflow">return</font> <font class="keyword">new</font> SLAheadInfoRep (); }
00319 
<a name="l00320"></a><a class="code" href="class_ShortLexRep.html#a16">00320</a>   <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> * <a class="code" href="class_WordOrderRep.html#a20">buildDiffHistoryVtxRep</a>()<font class="keyword"> const </font>{ 
00321     <a class="code" href="class_SLDiffHistoryVtxRep.html">SLDiffHistoryVtxRep</a> * dhp = <font class="keyword">new</font> SLDiffHistoryVtxRep();
00322       <font class="keywordflow">return</font> dhp;
00323   }
00324 
00325   <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a>
<a name="l00326"></a><a class="code" href="class_ShortLexRep.html#a17">00326</a>     * <a class="code" href="class_WordOrderRep.html#a20">buildDiffHistoryVtxRep</a>(State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const</font>
00327 <font class="keyword"></font>{ 
00328     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0 &amp;&amp; g!=h){
00329       <a class="code" href="class_SLDiffHistoryVtxRep.html">SLDiffHistoryVtxRep</a> * dhp = 
00330         <font class="keyword">new</font> SLDiffHistoryVtxRep(d,h,0,1,(g&gt;h? 1: -1));
00331       <font class="keywordflow">return</font> dhp;
00332     }
00333     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00334       <a class="code" href="class_SLDiffHistoryVtxRep.html">SLDiffHistoryVtxRep</a> * dhp = <font class="keyword">new</font>
00335              SLDiffHistoryVtxRep(d,0,0,1,0);
00336       <font class="keywordflow">return</font> dhp;
00337     }
00338     <font class="keywordflow">else</font> { 
00339       cerr &lt;&lt;
00340  <font class="stringliteral">"Parameters out of range for DiffHistoryVtxRep constructor."</font>
00341          &lt;&lt; endl;
00342       <a class="code" href="class_SLDiffHistoryVtxRep.html">SLDiffHistoryVtxRep</a> * dhp =  <font class="keyword">new</font> <a class="code" href="class_SLDiffHistoryVtxRep.html">SLDiffHistoryVtxRep</a>;
00343       <font class="keywordflow">return</font> dhp;
00344     }
00345   }
00346 
00347   <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> * update
<a name="l00348"></a><a class="code" href="class_ShortLexRep.html#a18">00348</a>     (<font class="keyword">const</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> &amp; dh,State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h, <a class="code" href="class_DiffHistoryVtx.html">DiffHistoryVtx</a> * ptr)
00349        <font class="keyword">const</font> {
00350     <font class="keyword">const</font> <a class="code" href="class_SLDiffHistoryVtxRep.html">SLDiffHistoryVtxRep</a> &amp; ddh = (<a class="code" href="class_SLDiffHistoryVtxRep.html">SLDiffHistoryVtxRep</a> &amp;)dh;
00351     <a class="code" href="class_SLDiffHistoryVtxRep.html">SLDiffHistoryVtxRep</a> * dhp = <font class="keyword">new</font> <a class="code" href="class_SLDiffHistoryVtxRep.html">SLDiffHistoryVtxRep</a>
00352               (d,h,ptr,dh.getLength()+1,ddh.<a class="code" href="class_SLDiffHistoryVtxRep.html#a5">getLexComp</a>());
00353     <font class="keywordflow">return</font> dhp;
00354   }
00355    
00356 
<a name="l00357"></a><a class="code" href="class_ShortLexRep.html#a19">00357</a>   Bool <a class="code" href="class_WordOrderRep.html#a17">reduction</a>(<font class="keyword">const</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> &amp; dh,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const </font>{
00358     <font class="keyword">const</font> <a class="code" href="class_SLDiffHistoryVtxRep.html">SLDiffHistoryVtxRep</a>&amp; ddh = (<a class="code" href="class_SLDiffHistoryVtxRep.html">SLDiffHistoryVtxRep</a>&amp;)dh;
00359     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; (h==0 || ddh.<a class="code" href="class_SLDiffHistoryVtxRep.html#a5">getLexComp</a>()==1)) <font class="keywordflow">return</font> YES;
00360     <font class="keywordflow">else</font> <font class="keywordflow">return</font> NO;
00361   }
00362 
<a name="l00363"></a><a class="code" href="class_ShortLexRep.html#a20">00363</a>   Bool <a class="code" href="class_WordOrderRep.html#a18">possibleReduction</a>(<font class="keyword">const</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> &amp; dh,<font class="keywordtype">int</font> g)<font class="keyword"> const </font>{ 
00364      <font class="keywordflow">return</font> NO;
00365   };
00366 
00367 
<a name="l00368"></a><a class="code" href="class_ShortLexRep.html#a21">00368</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(<font class="keywordtype">int</font> i)<font class="keyword"> const </font>{ <font class="keywordflow">return</font> 1;};
<a name="l00369"></a><a class="code" href="class_ShortLexRep.html#a22">00369</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(<a class="code" href="class_Generator.html">Generator</a> g)<font class="keyword"> const </font>{ <font class="keywordflow">return</font> 1;};
<a name="l00370"></a><a class="code" href="class_ShortLexRep.html#a23">00370</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w)<font class="keyword"> const </font>{ <font class="keywordflow">return</font> w.<a class="code" href="class_Word.html#a5">length</a>();};
00371 };
00372 
<a name="l00373"></a><a class="code" href="class_WtShortLexRep.html">00373</a> <font class="keyword">class </font><a class="code" href="class_WtShortLexRep.html">WtShortLexRep</a> : <font class="keyword">public</font> <a class="code" href="class_WordOrderRep.html">WordOrderRep</a> {
00374 <font class="keyword">public</font>:
<a name="l00375"></a><a class="code" href="class_WtShortLexRep.html#a0">00375</a>   <a class="code" href="class_WtShortLexRep.html#a0">WtShortLexRep</a>() : <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>("WtShortLex"){};
00376 
<a name="l00377"></a><a class="code" href="class_WtShortLexRep.html#a1">00377</a>   <a class="code" href="class_WtShortLexRep.html#a0">WtShortLexRep</a>(<font class="keywordtype">int</font> numOfSymbols) : 
00378     <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>("WtShortLex",numOfSymbols), weight(0) { 
00379     <font class="keywordflow">for</font> (<font class="keywordtype">int</font> i=1;i&lt;=numOfSymbols;i++)
00380       weight.<a class="code" href="class_VectorOf.html#a14">append</a>(1);
00381   };
00382 
<a name="l00383"></a><a class="code" href="class_WtShortLexRep.html#a2">00383</a>   <a class="code" href="class_WtShortLexRep.html#a0">WtShortLexRep</a>(<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a>  &amp; w) : 
00384     <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>("WtShortLex",w.length()), weight(w) { 
00385   };
00386 
<a name="l00387"></a><a class="code" href="class_WtShortLexRep.html#a3">00387</a>   <a class="code" href="class_WtShortLexRep.html#a0">WtShortLexRep</a>(<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a> &amp; o,<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a> &amp; w) : 
00388     <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>("WtShortLex",o) , weight(w) {};
00389 
00390 <font class="comment">//copy constructor</font>
<a name="l00391"></a><a class="code" href="class_WtShortLexRep.html#a4">00391</a>   <a class="code" href="class_WtShortLexRep.html#a0">WtShortLexRep</a>( <font class="keyword">const</font> <a class="code" href="class_WtShortLexRep.html">WtShortLexRep</a>&amp; wsl ) : 
00392     <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>(wsl), weight(wsl.weight) { }
00393 
<a name="l00394"></a><a class="code" href="class_WtShortLexRep.html#a5">00394</a>   <a class="code" href="class_WordOrderRep.html">WordOrderRep</a> *<a class="code" href="class_WordOrderRep.html#a7">clone</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <font class="keyword">new</font> <a class="code" href="class_WtShortLexRep.html#a0">WtShortLexRep</a>(*<font class="keyword">this</font>); }
00395 
<a name="l00396"></a><a class="code" href="class_WtShortLexRep.html#a6">00396</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w1,<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w2)<font class="keyword"> const </font>{ 
00397     <font class="keywordflow">if</font> (w1==w2) <font class="keywordflow">return</font> 0; 
00398     <font class="keywordflow">else</font> {
00399       <font class="keywordtype">int</font> len1=w1.<a class="code" href="class_Word.html#a5">length</a>();
00400       <font class="keywordtype">int</font> len2=w2.<a class="code" href="class_Word.html#a5">length</a>();
00401       <font class="keywordtype">int</font> wt1=0;
00402       <font class="keywordtype">int</font> wt2=0;
00403       <font class="keywordtype">int</font> j=0;
00404       <font class="keywordflow">while</font> (j&lt;len1) wt1 += weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w1[j++])-1];
00405       j=0;
00406       <font class="keywordflow">while</font> (j&lt;len2) wt2 += weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w2[j++])-1];
00407       <font class="keywordflow">if</font> (wt1&lt;wt2) <font class="keywordflow">return</font> 1; 
00408       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (wt1&gt;wt2) <font class="keywordflow">return</font> -1; 
00409       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (w1.<a class="code" href="class_Word.html#a5">length</a>()&lt;w2.<a class="code" href="class_Word.html#a5">length</a>()) <font class="keywordflow">return</font> 1; 
00410       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (w1.<a class="code" href="class_Word.html#a5">length</a>()&gt;w2.<a class="code" href="class_Word.html#a5">length</a>()) <font class="keywordflow">return</font> -1; 
00411       <font class="keywordflow">else</font> { 
00412         j=0;
00413         <font class="keywordflow">while</font> (j&lt;len1){ 
00414           <font class="keywordflow">if</font> (<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w1[j])&lt;<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w2[j])) <font class="keywordflow">return</font> 1; 
00415           <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w1[j])&gt;<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w2[j])) <font class="keywordflow">return</font> -1;
00416           <font class="keywordflow">else</font> j++; 
00417         }
00418       }
00419     } 
00420   }
00421 
<a name="l00422"></a><a class="code" href="class_WtShortLexRep.html#a7">00422</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<font class="keywordtype">int</font> i, <font class="keywordtype">int</font> j)<font class="keyword"> const </font>{
00423     <font class="keywordflow">if</font> (i==j) <font class="keywordflow">return</font> 0;
00424     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (weight[i-1]&lt;weight[j-1] || (weight[i-1]==weight[j-1] &amp;&amp; i&lt;j))
00425       <font class="keywordflow">return</font> 1;
00426     <font class="keywordflow">else</font> <font class="keywordflow">return</font> -1;
00427   }
00428 
<a name="l00429"></a><a class="code" href="class_WtShortLexRep.html#a8">00429</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<a class="code" href="class_Generator.html">Generator</a> g,<a class="code" href="class_Generator.html">Generator</a> h)<font class="keyword"> const </font>{
00430     <font class="keywordflow">return</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(g),<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(h));
00431   }
00432 
<a name="l00433"></a><a class="code" href="class_WtShortLexRep.html#a9">00433</a>   <font class="keywordtype">void</font> <a class="code" href="class_WordOrderRep.html#a12">balancedEquationFromRelator</a>(<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w,<a class="code" href="class_Word.html">Word</a> &amp; lhs,<a class="code" href="class_Word.html">Word</a> &amp; rhs)<font class="keyword"> const </font>{
00434     <font class="keywordtype">int</font> len=w.<a class="code" href="class_Word.html#a5">length</a>();
00435     <font class="keywordtype">int</font> i;
00436     <font class="keywordtype">int</font> wt1=0; <font class="keywordtype">int</font> wt2=0;
00437 
00438 <font class="comment">// copy the word, replacing each g^-1 for which g is an involution by g</font>
00439     <a class="code" href="class_VectorOf.html">VectorOf&lt;Generator&gt;</a> W;
00440     <font class="keywordflow">for</font> (i=0;i&lt;len;i++)
00441       W.<a class="code" href="class_VectorOf.html#a14">append</a>((ord(w[i])&lt;0 &amp;&amp; <a class="code" href="class_WordOrderRep.html#a31">selfInverse</a>(<a class="code" href="Letter_h.html#a1">inv</a>(w[i])))? <a class="code" href="Letter_h.html#a1">inv</a>(w[i]) : w[i]);
00442 
00443     <font class="keywordtype">int</font> j=0;
00444     <font class="keywordflow">while</font> (j&lt;len) wt1 += weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(W[j++])-1];
00445     <a class="code" href="class_VectorOf.html">VectorOf&lt;Generator&gt;</a> ww;
00446     j=len;
00447     <font class="keywordflow">while</font> (--j&gt;=0) {
00448       <a class="code" href="class_Generator.html">Generator</a> g=W[j];
00449       wt1 -= weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(g)-1];
00450       wt2 += weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(g)-1];
00451       <font class="keywordflow">if</font>  (wt1&gt;=wt2 ) ww.<a class="code" href="class_VectorOf.html#a14">append</a>(<a class="code" href="class_WordOrderRep.html#a31">selfInverse</a>(g)? g : <a class="code" href="Letter_h.html#a1">inv</a>(g));
00452       <font class="keywordflow">else</font> <font class="keywordflow">break</font>;
00453     }
00454     lhs = ((<a class="code" href="class_Word.html">Word</a>)W).initialSegment(j+1);
00455     rhs=ww;
00456     <font class="keywordflow">if</font> (<a class="code" href="class_WordOrderRep.html#a9">signature</a>(lhs,rhs)==1){ <font class="comment">// lhs is smaller, so switch them</font>
00457       rhs=lhs;
00458       lhs=ww;
00459     }
00460   }
00461 
<a name="l00462"></a><a class="code" href="class_WtShortLexRep.html#a10">00462</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a13">historyBound</a>(<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;Word&gt;</a> &amp; diffs)<font class="keyword"> const </font>{ 
00463     <font class="keywordtype">int</font> Max=0;
00464     <font class="keywordflow">for</font> (<font class="keywordtype">int</font> i=0;i&lt;diffs.<a class="code" href="class_VectorOf.html#a11">length</a>();i++){
00465       <a class="code" href="class_Word.html">Word</a> w=diffs[i];
00466       <font class="keywordtype">int</font> len=w.<a class="code" href="class_Word.html#a5">length</a>();
00467       <font class="keywordtype">int</font> wt=0;
00468       <font class="keywordflow">for</font> (<font class="keywordtype">int</font> j=0;j&lt;len;j++) wt += weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w[j])-1];
00469       <font class="keywordflow">if</font> (wt&gt;Max) Max = wt;
00470     }
00471     <font class="keywordflow">return</font> Max;
00472   }
00473 
<a name="l00474"></a><a class="code" href="class_WtShortLexRep.html#a11">00474</a>   <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> * <a class="code" href="class_WordOrderRep.html#a14">buildDiffHistoryRep</a>()<font class="keyword"> const </font>{ 
00475     <a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a> * dhp = <font class="keyword">new</font> WtSLDiffHistoryRep();
00476       <font class="keywordflow">return</font> dhp;
00477   }
00478 
<a name="l00479"></a><a class="code" href="class_WtShortLexRep.html#a12">00479</a>   <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> * <a class="code" href="class_WordOrderRep.html#a14">buildDiffHistoryRep</a>(State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const </font>{ 
00480     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0 &amp;&amp; g!=h){
00481       <a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a> * dhp = 
00482         <font class="keyword">new</font> WtSLDiffHistoryRep(d,(g&gt;h? 1: -1),weight[g-1] - weight[h-1],0,0);
00483       <font class="keywordflow">return</font> dhp;
00484     }
00485     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00486       <a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a> * dhp = 
00487         <font class="keyword">new</font> WtSLDiffHistoryRep(d,0,0,1,(weight[g-1]&gt;0?1: weight[g-1]));
00488       <font class="keywordflow">return</font> dhp;
00489     }
00490     <font class="keywordflow">else</font> { 
00491       cerr &lt;&lt; <font class="stringliteral">"Parameters out of range for DiffHistoryRep constructor."</font>&lt;&lt; endl;
00492       <a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a> * dhp =  <font class="keyword">new</font> <a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a>;
00493       <font class="keywordflow">return</font> dhp;
00494     }
00495   }
00496 
00497   <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> * update
<a name="l00498"></a><a class="code" href="class_WtShortLexRep.html#a13">00498</a>     (<font class="keyword">const</font> <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> &amp; dh,State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h,<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; wd) <font class="keyword">const</font> {
00499     <font class="keyword">const</font> <a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a>&amp; ddh = (<a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a>&amp;)dh;
00500     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0 &amp;&amp; ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a8">getC0</a>()){
00501       <font class="keywordtype">int</font> w0 = ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a9">getW0</a>()+weight[g-1]-weight[h-1];
00502       <font class="keywordtype">int</font> c0 = (w0&gt;= -<a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(wd) ? ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a8">getC0</a>() : 0);
00503       <a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a> * dhp = <font class="keyword">new</font> <a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a>
00504               (d,c0,w0,0,0);
00505       <font class="keywordflow">return</font> dhp;
00506     }
00507     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00508       <font class="keywordtype">int</font> w1;
00509       <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a8">getC0</a>() &amp;&amp; ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a10">getC1</a>()){
00510         w1 = (ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a9">getW0</a>()&gt;=ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a11">getW1</a>()? 
00511 <font class="comment">// choose the bigger weight difference in dh </font>
00512 <font class="comment">// add the weight of g to it, and then set w1 to be the minimum of that and 1</font>
00513          (ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a9">getW0</a>()+weight[g-1]&gt;0?1:ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a9">getW0</a>() + weight[g-1]):
00514          (ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a11">getW1</a>()+weight[g-1]&gt;0?1:ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a11">getW1</a>() + weight[g-1]));
00515       }
00516       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a8">getC0</a>())
00517          w1 = (ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a9">getW0</a>()+weight[g-1]&gt;0?1:ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a9">getW0</a>() + weight[g-1]);
00518       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a10">getC1</a>())
00519          w1 = (ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a11">getW1</a>()+weight[g-1]&gt;0?1:ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a11">getW1</a>() + weight[g-1]);
00520 
00521       <font class="keywordtype">int</font> c1 = (w1 &gt;= -<a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(wd)? 1: 0);
00522       <a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a> * dhp = <font class="keyword">new</font> WtSLDiffHistoryRep (d,0,0,c1,w1); 
00523       <font class="keywordflow">return</font> dhp;
00524     }
00525     <font class="keywordflow">else</font> { 
00526       cerr &lt;&lt; <font class="stringliteral">"Parameters out of range for update."</font>&lt;&lt; endl;
00527       <a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a> * dhp =  <font class="keyword">new</font> <a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a>;
00528       <font class="keywordflow">return</font> dhp;
00529     }
00530   }
00531 
<a name="l00532"></a><a class="code" href="class_WtShortLexRep.html#a14">00532</a>   Bool <a class="code" href="class_WordOrderRep.html#a17">reduction</a>(<font class="keyword">const</font> <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> &amp; dh,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const </font>{
00533     <font class="keyword">const</font> <a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a>&amp; ddh = (<a class="code" href="class_WtSLDiffHistoryRep.html">WtSLDiffHistoryRep</a>&amp;)dh;
00534     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0 &amp;&amp; ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a8">getC0</a>()){
00535 
00536 <font class="comment">// For some w,u wg=_G uh where wg and uh have equal length, but wg&gt;uh. </font>
00537 <font class="comment">// Either wt(wg)&gt;wt(uh) </font>
00538 <font class="comment">// or wt(wg)=wt(uh) but uh precedes wg lexicographically.</font>
00539 
00540       <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a9">getW0</a>() + weight[g-1] - weight[h-1]&gt;0 || 
00541         (ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a9">getW0</a>() + weight[g-1]-weight[h-1]==0 &amp;&amp; ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a8">getC0</a>()==1)) 
00542            <font class="keywordflow">return</font> YES;
00543     } 
00544 
00545     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00546 
00547 <font class="comment">// For some w,u, wg=_G u, where l(wg)&gt;l(u) and wt(wg)&gt;=wt(u).</font>
00548 <font class="comment">// Either l(w)=l(u) (getC0() returns a non-zero value), so l(wg)=l(u)+1</font>
00549 <font class="comment">// or l(w)&gt;l(u) (getC1() returns a non-zero value) and so certainly l(wg)&gt;l(u)</font>
00550 
00551       <font class="keywordflow">if</font> ((ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a8">getC0</a>()!=0 &amp;&amp; ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a9">getW0</a>() + weight[g-1] &gt;= 0)
00552          || (ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a10">getC1</a>()!=0 &amp;&amp; ddh.<a class="code" href="class_WtSLDiffHistoryRep.html#a11">getW1</a>() + weight[g-1] &gt;= 0)) <font class="keywordflow">return</font> YES;
00553     }
00554 
00555     <font class="keywordflow">return</font> NO;
00556   }
00557 
<a name="l00558"></a><a class="code" href="class_WtShortLexRep.html#a15">00558</a>   Bool <a class="code" href="class_WordOrderRep.html#a18">possibleReduction</a>(<font class="keyword">const</font> <a class="code" href="class_AheadInfoRep.html">AheadInfoRep</a> &amp; ai,<font class="keywordtype">int</font> g)<font class="keyword"> const </font>{ 
00559      <font class="keyword">const</font> <a class="code" href="class_WtSLAheadInfoRep.html">WtSLAheadInfoRep</a> &amp; aai = (<a class="code" href="class_WtSLAheadInfoRep.html">WtSLAheadInfoRep</a> &amp;)ai;
00560      <font class="keywordflow">return</font> (aai.<a class="code" href="class_WtSLAheadInfoRep.html#a5">getWtDiff</a>() &gt; weight[g-1]);};
00561 
<a name="l00562"></a><a class="code" href="class_WtShortLexRep.html#a16">00562</a>   <a class="code" href="class_AheadInfoRep.html">AheadInfoRep</a> * <a class="code" href="class_WordOrderRep.html#a16">update</a>(<font class="keyword">const</font> <a class="code" href="class_AheadInfoRep.html">AheadInfoRep</a> &amp; ai,<font class="keywordtype">int</font> g)<font class="keyword"> const </font>{
00563      <font class="keyword">const</font> <a class="code" href="class_WtSLAheadInfoRep.html">WtSLAheadInfoRep</a> &amp; aai = (<a class="code" href="class_WtSLAheadInfoRep.html">WtSLAheadInfoRep</a> &amp;)ai;
00564      <a class="code" href="class_WtSLAheadInfoRep.html">WtSLAheadInfoRep</a> * aip = 
00565               <font class="keyword">new</font> WtSLAheadInfoRep (aai.<a class="code" href="class_WtSLAheadInfoRep.html#a5">getWtDiff</a>()-weight[g-1]); 
00566      <font class="keywordflow">return</font> aip; 
00567   }
00568 
<a name="l00569"></a><a class="code" href="class_WtShortLexRep.html#a17">00569</a>   <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> * <a class="code" href="class_WordOrderRep.html#a20">buildDiffHistoryVtxRep</a>()<font class="keyword"> const </font>{ 
00570     <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a> * dhp = <font class="keyword">new</font> WtSLDiffHistoryVtxRep();
00571       <font class="keywordflow">return</font> dhp;
00572   }
00573 
<a name="l00574"></a><a class="code" href="class_WtShortLexRep.html#a18">00574</a>   <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> * <a class="code" href="class_WordOrderRep.html#a20">buildDiffHistoryVtxRep</a>(State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const</font>
00575 <font class="keyword"></font>{ 
00576     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0 &amp;&amp; g!=h){
00577       <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a> * dhp = 
00578         <font class="keyword">new</font> WtSLDiffHistoryVtxRep(d,h,0,1,(g&gt;h? 1: -1),weight[g-1] -
00579 weight[h-1]);
00580       <font class="keywordflow">return</font> dhp;
00581     }
00582     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00583       <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a> * dhp = 
00584         <font class="keyword">new</font> WtSLDiffHistoryVtxRep(d,0,0,1,0,weight[g-1]);
00585       <font class="keywordflow">return</font> dhp;
00586     }
00587     <font class="keywordflow">else</font> { 
00588       cerr &lt;&lt; <font class="stringliteral">"Parameters out of range for DiffHistoryVtxRep</font>
00589 <font class="stringliteral">constructor."</font>&lt;&lt; endl;
00590       <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a> * dhp =  <font class="keyword">new</font> <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a>;
00591       <font class="keywordflow">return</font> dhp;
00592     }
00593   }
00594 
00595   <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> * update
<a name="l00596"></a><a class="code" href="class_WtShortLexRep.html#a19">00596</a>     (<font class="keyword">const</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> &amp; dh,State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h, <a class="code" href="class_DiffHistoryVtx.html">DiffHistoryVtx</a> * ptr)
00597        <font class="keyword">const</font> {
00598     <font class="keyword">const</font> <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a> &amp; ddh = (<a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a> &amp;)dh;
00599     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0){
00600        <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a> * dhp = <font class="keyword">new</font> <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a>
00601               (d,h,ptr,dh.getLength()+1,ddh.<a class="code" href="class_WtSLDiffHistoryVtxRep.html#a5">getLexComp</a>(),
00602                  ddh.<a class="code" href="class_WtSLDiffHistoryVtxRep.html#a6">getWtDiff</a>() + weight[g-1] - weight[h-1]);
00603       <font class="keywordflow">return</font> dhp;
00604     }
00605     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00606      <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a> * dhp = <font class="keyword">new</font> <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a>
00607               (d,0,ptr,dh.getLength()+1,ddh.<a class="code" href="class_WtSLDiffHistoryVtxRep.html#a5">getLexComp</a>(),
00608                  ddh.<a class="code" href="class_WtSLDiffHistoryVtxRep.html#a6">getWtDiff</a>() + weight[g-1] );
00609       <font class="keywordflow">return</font> dhp;
00610     }
00611     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g==0 &amp;&amp; h&gt;0){
00612      <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a> * dhp = <font class="keyword">new</font> <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a>
00613               (d,h,ptr,dh.getLength(),ddh.<a class="code" href="class_WtSLDiffHistoryVtxRep.html#a5">getLexComp</a>(),
00614                  ddh.<a class="code" href="class_WtSLDiffHistoryVtxRep.html#a6">getWtDiff</a>() - weight[h-1] );
00615       <font class="keywordflow">return</font> dhp;
00616     }
00617     <font class="keywordflow">else</font> {
00618       cerr &lt;&lt; <font class="stringliteral">"Parameters out of range in WtLexHistoryVtxRep::update()"</font>&lt;&lt;endl;
00619       <font class="keywordflow">return</font> <font class="keyword">new</font> <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a>;
00620     }
00621   }
00622 
<a name="l00623"></a><a class="code" href="class_WtShortLexRep.html#a20">00623</a>   Bool <a class="code" href="class_WordOrderRep.html#a17">reduction</a>(<font class="keyword">const</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> &amp; dh,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const </font>{
00624     <font class="keyword">const</font> <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a>&amp; ddh = (<a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a>&amp;)dh;
00625     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0 ){
00626 
00627 <font class="comment">// dh corresponds to the difference w^-1u.</font>
00628 <font class="comment">// The function returns true if wg &gt;uh.</font>
00629 <font class="comment">// if g and h are nonzero, w and u are assumed to have the same length.</font>
00630 <font class="comment">// if g is nonzero, and h=0, w is at least as long as u.</font>
00631 <font class="comment">// if h is nonzero, and g=0, u is at least as long as w.</font>
00632 <font class="comment">// Either wt(wg)&gt;wt(uh) </font>
00633 <font class="comment">// or wt(wg)=wt(uh) but uh precedes wg lexicographically.</font>
00634 <font class="comment">// or wt(w)&lt;wt(uh) </font>
00635 
00636       <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtSLDiffHistoryVtxRep.html#a6">getWtDiff</a>() + weight[g-1] - weight[h-1]&gt;0 || 
00637         (ddh.<a class="code" href="class_WtSLDiffHistoryVtxRep.html#a6">getWtDiff</a>() + weight[g-1]-weight[h-1]==0 &amp;&amp;
00638                     ddh.<a class="code" href="class_WtSLDiffHistoryVtxRep.html#a5">getLexComp</a>()==1)) 
00639            <font class="keywordflow">return</font> YES;
00640     } 
00641 
00642     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00643 
00644       <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtSLDiffHistoryVtxRep.html#a6">getWtDiff</a>() + weight[g-1] &gt;= 0)
00645          <font class="keywordflow">return</font> YES;
00646     }
00647 
00648     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g==0 &amp;&amp; h&gt;0){
00649 
00650       <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtSLDiffHistoryVtxRep.html#a6">getWtDiff</a>() &gt; weight[h-1] )
00651          <font class="keywordflow">return</font> YES;
00652     }
00653 
00654     <font class="keywordflow">return</font> NO;
00655   }
00656 
<a name="l00657"></a><a class="code" href="class_WtShortLexRep.html#a21">00657</a>   Bool <a class="code" href="class_WordOrderRep.html#a24">possibleReductionAhead</a>(<font class="keyword">const</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> &amp; dh,<font class="keywordtype">int</font> g)<font class="keyword"> const </font>{ 
00658      <font class="keyword">const</font> <a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a> &amp; ddh = (<a class="code" href="class_WtSLDiffHistoryVtxRep.html">WtSLDiffHistoryVtxRep</a> &amp;)dh;
00659      <font class="keywordflow">return</font> (ddh.<a class="code" href="class_WtSLDiffHistoryVtxRep.html#a6">getWtDiff</a>() &gt; weight[g-1] +1);};
00660 <font class="comment">// Where dh represents the difference w^-1u,</font>
00661 <font class="comment">// if there's a possible reduction of w to some u' with ug a proper</font>
00662 <font class="comment">// prefix of u', w must have higher weight than some ugh,</font>
00663 <font class="comment">// and so weight more than one less than ug.</font>
00664 
<a name="l00665"></a><a class="code" href="class_WtShortLexRep.html#a22">00665</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(<font class="keywordtype">int</font> i)<font class="keyword"> const </font>{ <font class="keywordflow">return</font> weight[i-1];};
<a name="l00666"></a><a class="code" href="class_WtShortLexRep.html#a23">00666</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(<a class="code" href="class_Generator.html">Generator</a> g)<font class="keyword"> const </font>{ <font class="keywordflow">return</font> weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(g)-1];};
<a name="l00667"></a><a class="code" href="class_WtShortLexRep.html#a24">00667</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w)<font class="keyword"> const </font>{ 
00668     <font class="keywordtype">int</font> wt=0,i=0,len=w.<a class="code" href="class_Word.html#a5">length</a>();
00669     <font class="keywordflow">while</font> (i&lt;len) wt += weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w[i++])-1];
00670     <font class="keywordflow">return</font> wt;
00671  };
00672 
00673 <font class="keyword">private</font>:
<a name="l00674"></a><a class="code" href="class_WtShortLexRep.html#o0">00674</a>   <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a> weight;
00675 };
00676 
<a name="l00677"></a><a class="code" href="class_WtLexRep.html">00677</a> <font class="keyword">class </font><a class="code" href="class_WtLexRep.html">WtLexRep</a> : <font class="keyword">public</font> <a class="code" href="class_WordOrderRep.html">WordOrderRep</a> {
00678 <font class="keyword">public</font>:
<a name="l00679"></a><a class="code" href="class_WtLexRep.html#a0">00679</a>   <a class="code" href="class_WtLexRep.html#a0">WtLexRep</a>() : <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>("WtLex"){};
00680 
<a name="l00681"></a><a class="code" href="class_WtLexRep.html#a1">00681</a>   <a class="code" href="class_WtLexRep.html#a0">WtLexRep</a>(<font class="keywordtype">int</font> numOfSymbols) : 
00682     <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>("WtLex",numOfSymbols), weight(0) { 
00683     <font class="keywordflow">for</font> (<font class="keywordtype">int</font> i=1;i&lt;=numOfSymbols;i++)
00684       weight.<a class="code" href="class_VectorOf.html#a14">append</a>(1);
00685   };
00686 
<a name="l00687"></a><a class="code" href="class_WtLexRep.html#a2">00687</a>   <a class="code" href="class_WtLexRep.html#a0">WtLexRep</a>(<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a>  &amp; w) : 
00688     <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>("WtLex",w.length()), weight(w) { 
00689   };
00690 
<a name="l00691"></a><a class="code" href="class_WtLexRep.html#a3">00691</a>   <a class="code" href="class_WtLexRep.html#a0">WtLexRep</a>(<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a> &amp; o,<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a> &amp; w) : 
00692     <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>("WtLex",o) , weight(w) {};
00693 
00694 <font class="comment">//copy constructor</font>
<a name="l00695"></a><a class="code" href="class_WtLexRep.html#a4">00695</a>   <a class="code" href="class_WtLexRep.html#a0">WtLexRep</a>( <font class="keyword">const</font> <a class="code" href="class_WtLexRep.html">WtLexRep</a>&amp; wsl ) : 
00696     <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>(wsl), weight(wsl.weight) { }
00697 
<a name="l00698"></a><a class="code" href="class_WtLexRep.html#a5">00698</a>   <a class="code" href="class_WordOrderRep.html">WordOrderRep</a> *<a class="code" href="class_WordOrderRep.html#a7">clone</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <font class="keyword">new</font> <a class="code" href="class_WtLexRep.html#a0">WtLexRep</a>(*<font class="keyword">this</font>); }
00699 
<a name="l00700"></a><a class="code" href="class_WtLexRep.html#a6">00700</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w1,<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w2)<font class="keyword"> const </font>{  
00701     <font class="keywordflow">if</font> (w1==w2) <font class="keywordflow">return</font> 0; 
00702     <font class="keywordflow">else</font> {
00703       <font class="keywordtype">int</font> len1=w1.<a class="code" href="class_Word.html#a5">length</a>();
00704       <font class="keywordtype">int</font> len2=w2.<a class="code" href="class_Word.html#a5">length</a>();
00705       <font class="keywordtype">int</font> wt1=0;
00706       <font class="keywordtype">int</font> wt2=0;
00707       <font class="keywordtype">int</font> j=0;
00708       <font class="keywordflow">while</font> (j&lt;len1) wt1 += weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w1[j++])-1];
00709       j=0;
00710       <font class="keywordflow">while</font> (j&lt;len2) wt2 += weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w2[j++])-1];
00711       <font class="keywordflow">if</font> (wt1&lt;wt2) <font class="keywordflow">return</font> 1; 
00712       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (wt1&gt;wt2) <font class="keywordflow">return</font> -1; 
00713       <font class="keywordflow">else</font> { 
00714         j=0;
00715         <font class="keywordflow">while</font> (j&lt;len1 &amp;&amp; j&lt;len2){ 
00716           <font class="keywordflow">if</font> (<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w1[j])&lt;<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w2[j])) <font class="keywordflow">return</font> 1; 
00717           <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w1[j])&gt;<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w2[j])) <font class="keywordflow">return</font> -1;
00718           <font class="keywordflow">else</font> j++; 
00719         }
00720         <font class="comment">// at this stage, one word is simply a prefix of the other</font>
00721         <font class="keywordflow">if</font> (len1&lt;len2) <font class="keywordflow">return</font> 1;
00722         <font class="keywordflow">else</font> <font class="keywordflow">return</font> -1; 
00723       }
00724     } 
00725   }
00726 
<a name="l00727"></a><a class="code" href="class_WtLexRep.html#a7">00727</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<font class="keywordtype">int</font> i, <font class="keywordtype">int</font> j)<font class="keyword"> const </font>{
00728     <font class="keywordflow">if</font> (i==j) <font class="keywordflow">return</font> 0;
00729     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (weight[i-1]&lt;weight[j-1] || (weight[i-1]==weight[j-1] &amp;&amp; i&lt;j))
00730       <font class="keywordflow">return</font> 1;
00731     <font class="keywordflow">else</font> <font class="keywordflow">return</font> -1;
00732   }
<a name="l00733"></a><a class="code" href="class_WtLexRep.html#a8">00733</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<a class="code" href="class_Generator.html">Generator</a> g, <a class="code" href="class_Generator.html">Generator</a> h)<font class="keyword"> const </font>{
00734     <font class="keywordflow">return</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(g),<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(h));
00735   }
00736 
<a name="l00737"></a><a class="code" href="class_WtLexRep.html#a9">00737</a>   <font class="keywordtype">void</font> <a class="code" href="class_WordOrderRep.html#a12">balancedEquationFromRelator</a>(<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w,<a class="code" href="class_Word.html">Word</a> &amp; lhs,<a class="code" href="class_Word.html">Word</a> &amp; rhs)<font class="keyword"> const </font>{
00738     <font class="keywordtype">int</font> len=w.<a class="code" href="class_Word.html#a5">length</a>();
00739     <font class="keywordtype">int</font> wt1=0; <font class="keywordtype">int</font> wt2=0;
00740     <font class="keywordtype">int</font> i;
00741 <font class="comment">// copy the word, replacing each g^-1 for which g is an involution by g</font>
00742     <a class="code" href="class_VectorOf.html">VectorOf&lt;Generator&gt;</a> W;
00743     <font class="keywordflow">for</font> (i=0;i&lt;len;i++)
00744       W.<a class="code" href="class_VectorOf.html#a14">append</a>((ord(w[i])&lt;0 &amp;&amp; <a class="code" href="class_WordOrderRep.html#a31">selfInverse</a>(<a class="code" href="Letter_h.html#a1">inv</a>(w[i])))? <a class="code" href="Letter_h.html#a1">inv</a>(w[i]) : w[i]);
00745 
00746     <font class="keywordtype">int</font> j=0;
00747     <font class="keywordflow">while</font> (j&lt;len) wt1 += weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(W[j++])-1];
00748     <a class="code" href="class_VectorOf.html">VectorOf&lt;Generator&gt;</a> ww;
00749     j=len;
00750     <font class="keywordflow">while</font> (j--&gt;=0) {
00751       <a class="code" href="class_Generator.html">Generator</a> g=W[j];
00752       wt1 -= weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(g)-1];
00753       wt2 += weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(g)-1];
00754       <font class="keywordflow">if</font>  (wt1&gt;=wt2 ) ww.<a class="code" href="class_VectorOf.html#a14">append</a>(<a class="code" href="class_WordOrderRep.html#a31">selfInverse</a>(g)? g : <a class="code" href="Letter_h.html#a1">inv</a>(g));
00755       <font class="keywordflow">else</font> <font class="keywordflow">break</font>;
00756     }
00757     lhs = ((<a class="code" href="class_Word.html">Word</a>)W).initialSegment(j+1);
00758     rhs=ww;
00759     <font class="keywordflow">if</font> (<a class="code" href="class_WordOrderRep.html#a9">signature</a>(lhs,rhs)==1){ <font class="comment">// lhs is smaller, so switch them</font>
00760       rhs=lhs;
00761       lhs=ww;
00762     }
00763   }
00764 
<a name="l00765"></a><a class="code" href="class_WtLexRep.html#a10">00765</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a13">historyBound</a>(<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;Word&gt;</a> &amp; diffs)<font class="keyword"> const </font>{ 
00766     <font class="keywordtype">int</font> Max=0;
00767     <font class="keywordflow">for</font> (<font class="keywordtype">int</font> i=0;i&lt;diffs.<a class="code" href="class_VectorOf.html#a11">length</a>();i++){
00768       <a class="code" href="class_Word.html">Word</a> w=diffs[i];
00769       <font class="keywordtype">int</font> len=w.<a class="code" href="class_Word.html#a5">length</a>();
00770       <font class="keywordtype">int</font> wt=0;
00771       <font class="keywordflow">for</font> (<font class="keywordtype">int</font> j=0;j&lt;len;j++) wt += weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w[j])-1];
00772       <font class="keywordflow">if</font> (wt&gt;Max) Max = wt;
00773     }
00774     <font class="keywordflow">return</font> Max;
00775   }
<a name="l00776"></a><a class="code" href="class_WtLexRep.html#a11">00776</a>   <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> * <a class="code" href="class_WordOrderRep.html#a14">buildDiffHistoryRep</a>()<font class="keyword"> const </font>{ 
00777     <a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a> * dhp = <font class="keyword">new</font> WtLexDiffHistoryRep();
00778       <font class="keywordflow">return</font> dhp;
00779   }
00780 
<a name="l00781"></a><a class="code" href="class_WtLexRep.html#a12">00781</a>   <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> * <a class="code" href="class_WordOrderRep.html#a14">buildDiffHistoryRep</a>(State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const </font>{ 
00782     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0 &amp;&amp; g!=h){
00783       <a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a> * dhp = 
00784         <font class="keyword">new</font> WtLexDiffHistoryRep(d,(g&gt;h? 1: -1),weight[g-1] - weight[h-1],0,0);
00785       <font class="keywordflow">return</font> dhp;
00786     }
00787     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00788       <a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a> * dhp = 
00789         <font class="keyword">new</font> WtLexDiffHistoryRep(d,0,0,1,(weight[g-1]&gt;0?1: weight[g-1]));
00790       <font class="keywordflow">return</font> dhp;
00791     }
00792     <font class="keywordflow">else</font> { 
00793       cerr &lt;&lt; <font class="stringliteral">"Parameters out of range for DiffHistoryRep constructor."</font>&lt;&lt; endl;
00794       <a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a> * dhp =  <font class="keyword">new</font> <a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a>;
00795       <font class="keywordflow">return</font> dhp;
00796     }
00797   }
00798 
00799   <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> * update
<a name="l00800"></a><a class="code" href="class_WtLexRep.html#a13">00800</a>     (<font class="keyword">const</font> <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> &amp; dh,State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h,<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; wd) <font class="keyword">const</font> {
00801     <font class="keyword">const</font> <a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a>&amp; ddh = (<a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a>&amp;)dh;
00802     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0 &amp;&amp; ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a8">getC0</a>()){
00803       <font class="keywordtype">int</font> w0 = ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a9">getW0</a>()+weight[g-1]-weight[h-1];
00804       <font class="keywordtype">int</font> c0 = (w0&gt;= -<a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(wd) ? ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a8">getC0</a>(): 0);
00805       <a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a> * dhp = <font class="keyword">new</font> <a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a>
00806               (d,c0,w0,0,0);
00807       <font class="keywordflow">return</font> dhp;
00808     }
00809     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00810       <font class="keywordtype">int</font> c1,w1;
00811       <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a8">getC0</a>() &amp;&amp; ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a10">getC1</a>()){
00812 <font class="comment">// choose the bigger weight difference in dh </font>
00813 <font class="comment">// add the weight of g to it, and then set w1 to be the minimum of that and 1</font>
00814 <font class="comment">// c1 is set to be ddh.getC0() if ddh.getW0()&gt;ddh.getW1(),</font>
00815 <font class="comment">// to be ddh.getC1() if ddh.getW1()&gt;ddh.getW0(), and otherwise the</font>
00816 <font class="comment">// larger of ddh.getC0() and ddh.getC1()</font>
00817 
00818         <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a9">getW0</a>()&gt;ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a11">getW1</a>()){
00819           w1 = (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a9">getW0</a>()+weight[g-1]&gt;0?1:ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a9">getW0</a>() + weight[g-1]);
00820           c1 = ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a8">getC0</a>();
00821         }
00822         <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a11">getW1</a>()&gt;ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a9">getW0</a>()){
00823           w1 = (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a11">getW1</a>()+weight[g-1]&gt;0?1:ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a11">getW1</a>() + weight[g-1]);
00824           c1 = ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a10">getC1</a>();
00825         }
00826         <font class="keywordflow">else</font> {
00827           w1 = (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a11">getW1</a>()+weight[g-1]&gt;0?1:ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a11">getW1</a>() + weight[g-1]);
00828           c1 = (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a10">getC1</a>()&gt;=ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a8">getC0</a>()? ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a10">getC1</a>(): ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a8">getC0</a>());
00829         }
00830       }
00831       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a8">getC0</a>()){
00832          w1 = (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a9">getW0</a>()+weight[g-1]&gt;0?1:ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a9">getW0</a>() + weight[g-1]);
00833          c1 = ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a8">getC0</a>();
00834       }
00835       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a10">getC1</a>()){
00836          w1 = (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a11">getW1</a>()+weight[g-1]&gt;0?1:ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a11">getW1</a>() + weight[g-1]);
00837          c1 = ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a10">getC1</a>();
00838       } 
00839       <font class="keywordflow">if</font> (w1 &lt; -<a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(wd)) c1=0;
00840       <a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a> * dhp = <font class="keyword">new</font> WtLexDiffHistoryRep (d,0,0,c1,w1); 
00841       <font class="keywordflow">return</font> dhp;
00842     }
00843     <font class="keywordflow">else</font> { 
00844       cerr &lt;&lt; <font class="stringliteral">"Parameters out of range for update."</font>&lt;&lt; endl;
00845       <a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a> * dhp =  <font class="keyword">new</font> <a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a>;
00846       <font class="keywordflow">return</font> dhp;
00847     }
00848   }
00849 
<a name="l00850"></a><a class="code" href="class_WtLexRep.html#a14">00850</a>   Bool <a class="code" href="class_WordOrderRep.html#a17">reduction</a>(<font class="keyword">const</font> <a class="code" href="class_DiffHistoryRep.html">DiffHistoryRep</a> &amp; dh,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const </font>{
00851     <font class="keyword">const</font> <a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a>&amp; ddh = (<a class="code" href="class_WtLexDiffHistoryRep.html">WtLexDiffHistoryRep</a>&amp;)dh;
00852     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0 &amp;&amp; ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a8">getC0</a>()){
00853 
00854 <font class="comment">// For some w,u wg=_G uh where wg and uh have equal length, but wg&gt;uh. </font>
00855 <font class="comment">// Either wt(wg)&gt;wt(uh) </font>
00856 <font class="comment">// or wt(wg)=wt(uh) but uh precedes wg lexicographically.</font>
00857 
00858       <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a9">getW0</a>() + weight[g-1] - weight[h-1]&gt;0 || 
00859         (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a9">getW0</a>() + weight[g-1]-weight[h-1]==0 &amp;&amp; ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a8">getC0</a>()==1)) 
00860            <font class="keywordflow">return</font> YES;
00861     } 
00862 
00863     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00864 
00865 <font class="comment">// For some w,u, wg=_G u, where l(wg)&gt;l(u),</font>
00866 <font class="comment">// either wt(wg)&gt;wt(u) or wt(wg)=wt(u) but wg&gt;u lexicographically</font>
00867 <font class="comment">// Either l(w)=l(u) (getC0() returns a non-zero value- if this is -1</font>
00868 <font class="comment">// we must have wt(wg)&gt;wt(u))</font>
00869 <font class="comment">// or l(w)&gt;l(u) (getC1() returns a non-zero value  - if this is -1</font>
00870 <font class="comment">// we must have wt(wg)&gt;wt(u))</font>
00871 
00872       <font class="keywordflow">if</font> ((ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a8">getC0</a>()==1 &amp;&amp; ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a9">getW0</a>() + weight[g-1] &gt;= 0)
00873        || (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a8">getC0</a>()== -1 &amp;&amp; ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a9">getW0</a>() + weight[g-1] &gt; 0)
00874        || (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a10">getC1</a>()==1 &amp;&amp; ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a11">getW1</a>() + weight[g-1] &gt;= 0)
00875        || (ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a10">getC1</a>()== -1 &amp;&amp; ddh.<a class="code" href="class_WtLexDiffHistoryRep.html#a11">getW1</a>() + weight[g-1] &gt; 0))
00876           <font class="keywordflow">return</font> YES;
00877     }
00878 
00879     <font class="keywordflow">return</font> NO;
00880   }
00881 
<a name="l00882"></a><a class="code" href="class_WtLexRep.html#a15">00882</a>   Bool <a class="code" href="class_WordOrderRep.html#a18">possibleReduction</a>(<font class="keyword">const</font> <a class="code" href="class_AheadInfoRep.html">AheadInfoRep</a> &amp; ai,<font class="keywordtype">int</font> g)<font class="keyword"> const </font>{ 
00883      <font class="keyword">const</font> <a class="code" href="class_WtLexAheadInfoRep.html">WtLexAheadInfoRep</a> &amp; aai = (<a class="code" href="class_WtLexAheadInfoRep.html">WtLexAheadInfoRep</a> &amp;)ai;
00884      <font class="keywordflow">return</font> (aai.<a class="code" href="class_WtLexAheadInfoRep.html#a5">getWtDiff</a>() &gt; weight[g-1] || 
00885         (aai.<a class="code" href="class_WtLexAheadInfoRep.html#a5">getWtDiff</a>()==weight[g-1] &amp;&amp; aai.<a class="code" href="class_WtLexAheadInfoRep.html#a6">getSign</a>()==1 ));};
00886 
<a name="l00887"></a><a class="code" href="class_WtLexRep.html#a16">00887</a>   <a class="code" href="class_AheadInfoRep.html">AheadInfoRep</a> * <a class="code" href="class_WordOrderRep.html#a16">update</a>(<font class="keyword">const</font> <a class="code" href="class_AheadInfoRep.html">AheadInfoRep</a> &amp; ai,<font class="keywordtype">int</font> g)<font class="keyword"> const </font>{
00888      <font class="keyword">const</font> <a class="code" href="class_WtLexAheadInfoRep.html">WtLexAheadInfoRep</a> &amp; aai = (<a class="code" href="class_WtLexAheadInfoRep.html">WtLexAheadInfoRep</a> &amp;)ai;
00889      <a class="code" href="class_WtLexAheadInfoRep.html">WtLexAheadInfoRep</a> * aip = 
00890        <font class="keyword">new</font> WtLexAheadInfoRep (aai.<a class="code" href="class_WtLexAheadInfoRep.html#a5">getWtDiff</a>()-weight[g-1],aai.<a class="code" href="class_WtLexAheadInfoRep.html#a6">getSign</a>()); 
00891      <font class="keywordflow">return</font> aip; 
00892   }
00893 
<a name="l00894"></a><a class="code" href="class_WtLexRep.html#a17">00894</a>   <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> * <a class="code" href="class_WordOrderRep.html#a20">buildDiffHistoryVtxRep</a>()<font class="keyword"> const </font>{ 
00895     <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a> * dhp = <font class="keyword">new</font> WtLexDiffHistoryVtxRep();
00896       <font class="keywordflow">return</font> dhp;
00897   }
00898 
<a name="l00899"></a><a class="code" href="class_WtLexRep.html#a18">00899</a>   <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> * <a class="code" href="class_WordOrderRep.html#a20">buildDiffHistoryVtxRep</a>(State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const </font>{ 
00900     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0 &amp;&amp; g!=h){
00901       <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a> * dhp = 
00902         <font class="keyword">new</font> WtLexDiffHistoryVtxRep(d,h,0,1,(g&gt;h? 1: -1),weight[g-1] -
00903 weight[h-1]);
00904       <font class="keywordflow">return</font> dhp;
00905     }
00906     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00907       <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a> * dhp = 
00908         <font class="keyword">new</font> WtLexDiffHistoryVtxRep(d,0,0,1,0,weight[g-1]);
00909       <font class="keywordflow">return</font> dhp;
00910     }
00911     <font class="keywordflow">else</font> { 
00912       cerr &lt;&lt; 
00913 <font class="stringliteral">"Parameters out of range for DiffHistoryVtxRep constructor."</font>&lt;&lt; endl;
00914       <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a> * dhp =  <font class="keyword">new</font> <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a>;
00915       <font class="keywordflow">return</font> dhp;
00916     }
00917   }
00918 
00919   <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> * update
<a name="l00920"></a><a class="code" href="class_WtLexRep.html#a19">00920</a>     (<font class="keyword">const</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> &amp; dh,State d,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h, <a class="code" href="class_DiffHistoryVtx.html">DiffHistoryVtx</a> * ptr) <font class="keyword">const</font> {
00921     <font class="keyword">const</font> <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a>&amp; ddh = (<a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a>&amp;)dh;
00922     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0){
00923      <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a> * dhp = <font class="keyword">new</font> <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a>
00924        (d,h,ptr,dh.getLength()+1,ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a5">getLexComp</a>(),
00925                ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a6">getWtDiff</a>()+weight[g-1] - weight[h-1]);
00926       <font class="keywordflow">return</font> dhp;
00927     }
00928     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00929      <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a> * dhp = <font class="keyword">new</font> <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a>
00930        (d,0,ptr,dh.getLength()+1,ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a5">getLexComp</a>(),
00931                ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a6">getWtDiff</a>()+weight[g-1]);
00932       <font class="keywordflow">return</font> dhp;
00933     }
00934     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g==0 &amp;&amp; h&gt;0){ 
00935      <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a> * dhp = <font class="keyword">new</font> <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a>
00936        (d,h,ptr,dh.getLength(),ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a5">getLexComp</a>(),
00937                ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a6">getWtDiff</a>()-weight[h-1]);
00938       <font class="keywordflow">return</font> dhp;
00939     }
00940     <font class="keywordflow">else</font> {
00941       cerr &lt;&lt; <font class="stringliteral">"Parameters out of range in WtLexHistoryVtxRep::update()"</font>&lt;&lt;endl;
00942       <font class="keywordflow">return</font> <font class="keyword">new</font> <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a>;
00943     }
00944   }
00945 
<a name="l00946"></a><a class="code" href="class_WtLexRep.html#a20">00946</a>   Bool <a class="code" href="class_WordOrderRep.html#a17">reduction</a>(<font class="keyword">const</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> &amp; dh,<font class="keywordtype">int</font> g,<font class="keywordtype">int</font> h)<font class="keyword"> const </font>{
00947     <font class="keyword">const</font> <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a>&amp; ddh = (<a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a>&amp;)dh;
00948 <font class="comment">// dh corresponds to the difference w^-1u.</font>
00949 <font class="comment">// The function returns true if wg &gt;uh.</font>
00950 <font class="comment">// if g and h are nonzero, w and u are assumed to have the same length.</font>
00951 <font class="comment">// if g is nonzero, and h=0, w is at least as long as u.</font>
00952 <font class="comment">// if h is nonzero, and g=0, u is at least as long as w.</font>
00953     <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h&gt;0){
00954       <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a6">getWtDiff</a>() + weight[g-1] - weight[h-1]&gt;0 || 
00955         (ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a6">getWtDiff</a>() + weight[g-1]-weight[h-1]==0 &amp;&amp;
00956            ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a5">getLexComp</a>()==1)) 
00957            <font class="keywordflow">return</font> YES;
00958     } 
00959 
00960     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g&gt;0 &amp;&amp; h==0){
00961       <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a6">getWtDiff</a>() + weight[g-1]&gt;0 || 
00962         (ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a6">getWtDiff</a>() + weight[g-1]==0 &amp;&amp;
00963                ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a5">getLexComp</a>()==1)) 
00964           <font class="keywordflow">return</font> YES;
00965     }
00966 
00967     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (g==0 &amp;&amp; h&gt;0){
00968       <font class="keywordflow">if</font> (ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a6">getWtDiff</a>() &gt; weight[h-1] || 
00969         (ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a6">getWtDiff</a>() -weight[h-1]==0 &amp;&amp;
00970                ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a5">getLexComp</a>()==1)) 
00971           <font class="keywordflow">return</font> YES;
00972     }
00973 
00974     <font class="keywordflow">return</font> NO;
00975   }
00976 
<a name="l00977"></a><a class="code" href="class_WtLexRep.html#a21">00977</a>   Bool <a class="code" href="class_WordOrderRep.html#a24">possibleReductionAhead</a>(<font class="keyword">const</font> <a class="code" href="class_DiffHistoryVtxRep.html">DiffHistoryVtxRep</a> &amp; dh,<font class="keywordtype">int</font> g)<font class="keyword"> const </font>{ 
00978      <font class="keyword">const</font> <a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a> &amp; ddh = (<a class="code" href="class_WtLexDiffHistoryVtxRep.html">WtLexDiffHistoryVtxRep</a> &amp;)dh;
00979      <font class="keywordflow">return</font> (ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a6">getWtDiff</a>() &gt; weight[g-1] +2||
00980        (ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a6">getWtDiff</a>()==weight[g-1]+1&amp;&amp; ddh.<a class="code" href="class_WtLexDiffHistoryVtxRep.html#a5">getLexComp</a>()==1));};
00981 <font class="comment">// Where dh represents the difference w^-1u,</font>
00982 <font class="comment">// if there's a possible reduction of w to some u' with ug a proper</font>
00983 <font class="comment">// prefix of u', w must either have higher weight than some ugh,</font>
00984 <font class="comment">// and so weight more than one less than ug, or the same weight</font>
00985 <font class="comment">// as some ugh which it precedes lexicographically.</font>
00986 
<a name="l00987"></a><a class="code" href="class_WtLexRep.html#a22">00987</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(<font class="keywordtype">int</font> i)<font class="keyword"> const </font>{ <font class="keywordflow">return</font> weight[i-1];};
<a name="l00988"></a><a class="code" href="class_WtLexRep.html#a23">00988</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(<a class="code" href="class_Generator.html">Generator</a> g)<font class="keyword"> const </font>{ <font class="keywordflow">return</font> weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(g)-1];};
<a name="l00989"></a><a class="code" href="class_WtLexRep.html#a24">00989</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a32">getWeight</a>(<font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a> &amp; w)<font class="keyword"> const </font>{ 
00990     <font class="keywordtype">int</font> wt=0,i=0,len=w.<a class="code" href="class_Word.html#a5">length</a>();
00991     <font class="keywordflow">while</font> (i&lt;len) wt += weight[<a class="code" href="class_WordOrderRep.html#a29">getPosition</a>(w[i++])-1];
00992     <font class="keywordflow">return</font> wt;
00993  };
00994 
00995 <font class="keyword">private</font>:
<a name="l00996"></a><a class="code" href="class_WtLexRep.html#o0">00996</a>   <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a> weight;
00997 };
00998 
00999 
<a name="l01000"></a><a class="code" href="class_InvPairWreathRep.html">01000</a> <font class="keyword">class </font><a class="code" href="class_InvPairWreathRep.html">InvPairWreathRep</a> : <font class="keyword">public</font> <a class="code" href="class_WordOrderRep.html">WordOrderRep</a> {
01001 <font class="keyword">public</font>:
<a name="l01002"></a><a class="code" href="class_InvPairWreathRep.html#a0">01002</a>   <a class="code" href="class_InvPairWreathRep.html#a0">InvPairWreathRep</a>() : <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>("InvPairWreath") {};
01003 
<a name="l01004"></a><a class="code" href="class_InvPairWreathRep.html#a1">01004</a>   <a class="code" href="class_InvPairWreathRep.html#a0">InvPairWreathRep</a>(<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;int&gt;</a> &amp; o) : <a class="code" href="class_WordOrderRep.html">WordOrderRep</a>("InvPairWreath",o) {};
01005 
01006 
01007   <font class="comment">//int signature(const Word &amp; w1,const Word &amp; w2) const { return 1; } </font>
01008   <font class="comment">// define this properly</font>
01009 
<a name="l01010"></a><a class="code" href="class_InvPairWreathRep.html#a2">01010</a>   <font class="keywordtype">int</font> <a class="code" href="class_WordOrderRep.html#a9">signature</a>(<font class="keywordtype">int</font> g, <font class="keywordtype">int</font> h)<font class="keyword"> const </font>{ <font class="keywordflow">return</font> 1; } <font class="comment">//  temporary</font>
01011 
01012 };
01013 
01014 <font class="preprocessor">#endif</font>
</font></pre></div><hr><address><small>Generated at Tue Jun 19 09:49:36 2001 for Magnus Classes by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
