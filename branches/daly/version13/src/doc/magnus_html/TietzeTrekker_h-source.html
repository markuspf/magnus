<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/magnus/back_end/Group/include/TietzeTrekker.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>/magnus/back_end/Group/include/TietzeTrekker.h</h1><a href="TietzeTrekker_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment"> *   $Id: TietzeTrekker.h,v 1.1.1.1 1995/11/20 17:54:20 rogern Exp $</font>
00003 <font class="comment"> */</font>
00004 
00005 <font class="comment">// Copyright (C) 1994 The New York Group Theory Cooperative</font>
00006 <font class="comment">// See magnus/doc/COPYRIGHT for the full notice.</font>
00007 
00008 <font class="comment">// Contents: Definition of the TietzeTrekker class.</font>
00009 <font class="comment">//           A TietzeTrekker is a wrapper for a BlackBox which invokes</font>
00010 <font class="comment">//           Frank Rimlinger's TietzeTrek with a group presentation.</font>
00011 <font class="comment">//</font>
00012 <font class="comment">// Principal Author: Roger Needham</font>
00013 <font class="comment">//</font>
00014 <font class="comment">// Status: experimental</font>
00015 <font class="comment">//</font>
00016 <font class="comment">// Revision History:</font>
00017 <font class="comment">//</font>
00018 <font class="comment">// Next implementation steps:</font>
00019 <font class="comment">//</font>
00020 <font class="comment">// * TietzeTrek doesn't listen to cin. Make it.</font>
00021 <font class="comment">//   - It should respond to a quit command from cin.</font>
00022 <font class="comment">//   - The transformation strategy can be tweaked; make commands for that.</font>
00023 <font class="comment">//</font>
00024 <font class="comment">// * For safety, check for parse error message after reading Frank's</font>
00025 <font class="comment">//   presentations.</font>
00026 <font class="comment">//</font>
00027 <font class="comment">// * The BlackBox may go bad in the middle of the run. This should be</font>
00028 <font class="comment">//   detected and reported by sanityCheck(), but still allow calls to</font>
00029 <font class="comment">//   knownTo*.</font>
00030 <font class="comment">//</font>
00031 <font class="comment">// Bugs:</font>
00032 <font class="comment">//</font>
00033 <font class="comment">// * If a generator in a presentation does not appear in any relator,</font>
00034 <font class="comment">//   Frank doesn't know about it. Thus &lt;a,b,c; a=b&gt; is infinite cyclic.</font>
00035 <font class="comment">//   Given Frank's flaky API, there is no good workaround. Giving a relator</font>
00036 <font class="comment">//   c c^-1 doesn't work, since he freely reduces the input, and I can't</font>
00037 <font class="comment">//   find where. Moreover, when a relator reduces to the empty word, it</font>
00038 <font class="comment">//   triggers a bug.</font>
00039 <font class="comment">//   The present kludge is to give relators like c x c^-1, x. This</font>
00040 <font class="comment">//   significantly delays the discovery of very obvious facts, but</font>
00041 <font class="comment">//   presumably the caller has already checked for obvious free generators.</font>
00042 <font class="comment">//</font>
00043 <font class="comment">// * The TietzeTrek is not commanded to exit when a TietzeTrekker is destructed.</font>
00044 <font class="comment">//   It seems to go away anyhow (broken pipes), but that's too hacky.</font>
00045 <font class="comment">//</font>
00046 <font class="comment">// Usage:</font>
00047 <font class="comment">// </font>
00048 <font class="comment">// Instantiate a TietzeTrekker on, e.g., a FPGroup G by</font>
00049 <font class="comment">// </font>
00050 <font class="comment">//   TietzeTrekker TT( G.namesOfGenerators(), G.getRelators() );</font>
00051 <font class="comment">// </font>
00052 <font class="comment">// Make sure that TT.sanityCheck() returns TRUE.</font>
00053 <font class="comment">// There is now an asynchronous process associcated with TT which is</font>
00054 <font class="comment">// continuously generating presentations, along with statements of</font>
00055 <font class="comment">// certain facts (factoids) which can readily be deduced from certain</font>
00056 <font class="comment">// presentations.</font>
00057 <font class="comment">// Get the `next' presentation from getPresentation().</font>
00058 <font class="comment">// To be `notified' of any factoids, first call getFactoid (see comment</font>
00059 <font class="comment">// thereon), then call knownTo*. If you don't like the answer, call</font>
00060 <font class="comment">// getFactoid again, etc.</font>
00061 
00062 
00063 <font class="preprocessor">#ifndef _TIETZE_TREKKER_H_</font>
00064 <font class="preprocessor"></font><font class="preprocessor">#define _TIETZE_TREKKER_H_</font>
00065 <font class="preprocessor"></font>
00066 
00067 <font class="preprocessor">#include "<a class="code" href="BlackBox_h.html">BlackBox.h</a>"</font>
00068 <font class="preprocessor">#include "<a class="code" href="FPGroup_h.html">FPGroup.h</a>"</font>
00069 
00070 
<a name="l00071"></a><a class="code" href="class_TietzeTrekker.html">00071</a> <font class="keyword">class </font><a class="code" href="class_TietzeTrekker.html">TietzeTrekker</a> {
00072 
00073 <font class="keyword">public</font>:
00074 
00075   <a class="code" href="class_TietzeTrekker.html#a0">TietzeTrekker</a>(<font class="keyword">const</font> <a class="code" href="class_FPGroup.html">FPGroup</a>&amp; G);
00076   <font class="comment">// Fire up Frank Rimlinger's TietzeTrek with the presentation of G.</font>
00077 
00078   <a class="code" href="class_TietzeTrekker.html#a0">TietzeTrekker</a>(<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;Chars&gt;</a>&amp; genNames, <font class="keyword">const</font> <a class="code" href="class_SetOf.html">SetOf&lt;Word&gt;</a>&amp; relators);
00079   <font class="comment">// Fire up Frank Rimlinger's TietzeTrek with the given `presentation'.</font>
00080 
00081   <font class="comment">//@rn Need a destructor, which tells TietzeTrek to quit.</font>
00082 
<a name="l00083"></a><a class="code" href="class_TietzeTrekker.html#a2">00083</a>   Bool <a class="code" href="class_TietzeTrekker.html#a2">sanityCheck</a>( )<font class="keyword"> </font>{ <font class="keywordflow">return</font> ( status == 1 ); }
00084   <font class="comment">// Says whether this TietzeTrekker thinks its initialization was successful.</font>
00085 
00086   Bool <a class="code" href="class_TietzeTrekker.html#a3">getFactoid</a>(Bool queuePresentations, <font class="keywordtype">long</font> giveUpLimit = 100);
00087   <font class="comment">// The first argument says whether to save any presentations</font>
00088   <font class="comment">// which are found before the next factoid. Saved ones are later returned</font>
00089   <font class="comment">// by getPresentation().</font>
00090   <font class="comment">// The second argument specifies the number of lines to read from the</font>
00091   <font class="comment">// BlackBox in search of a factoid before giving up and returning.</font>
00092   <font class="comment">// The return value says whether a new factoid was discovered.</font>
00093 
00094   <font class="comment">// The following indicate what facts have been discovered so far by 0</font>
00095   <font class="comment">// or more calls to getFactoid (FALSE means "don't know (yet)"):</font>
00096 
<a name="l00097"></a><a class="code" href="class_TietzeTrekker.html#a4">00097</a>   Bool <a class="code" href="class_TietzeTrekker.html#a4">knownToBeTrivial</a>( )<font class="keyword">      </font>{ <font class="keywordflow">return</font> (flags &amp; TRIVIAL) != 0; }
<a name="l00098"></a><a class="code" href="class_TietzeTrekker.html#a5">00098</a>   Bool <a class="code" href="class_TietzeTrekker.html#a5">knownToBeCyclic</a>( )<font class="keyword">       </font>{ <font class="keywordflow">return</font> (flags &amp; CYCLIC) != 0; }
<a name="l00099"></a><a class="code" href="class_TietzeTrekker.html#a6">00099</a>   Bool <a class="code" href="class_TietzeTrekker.html#a6">knownToHaveFreeFactor</a>( )<font class="keyword"> </font>{ <font class="keywordflow">return</font> (flags &amp; HAS_FREE_FACTOR) != 0; }
<a name="l00100"></a><a class="code" href="class_TietzeTrekker.html#a7">00100</a>   Bool <a class="code" href="class_TietzeTrekker.html#a7">knownToBeFinite</a>( )<font class="keyword">       </font>{ <font class="keywordflow">return</font> (flags &amp; FINITE) != 0; }
<a name="l00101"></a><a class="code" href="class_TietzeTrekker.html#a8">00101</a>   Bool <a class="code" href="class_TietzeTrekker.html#a8">knownToBeFree</a>( )<font class="keyword">         </font>{ <font class="keywordflow">return</font> (flags &amp; FREE) != 0; }
00102 
00103   <font class="keywordtype">int</font> <a class="code" href="class_TietzeTrekker.html#a9">getOrder</a>( );
00104   <font class="comment">// Returns the order of the group in `standard' format: -1 == DONTKNOW,</font>
00105   <font class="comment">// 0 == INFINITE, otherwise actual order. If the answer is -1, you can</font>
00106   <font class="comment">// call getFactoid (again) for another throw of the dice.</font>
00107 
00108   <font class="keywordtype">int</font> <a class="code" href="class_TietzeTrekker.html#a10">getRank</a>( );
00109   <font class="comment">// Returns the rank of the group AFTER knownToBeFree() has returned TRUE.</font>
00110   <font class="comment">// It is a fatal error if this is called when !knownToBeFree().</font>
00111 
00112   <a class="code" href="class_FPGroup.html">FPGroup</a> <a class="code" href="class_TietzeTrekker.html#a11">getPresentation</a>( );
00113   <font class="comment">// Returns another presentation of the finitely presented group</font>
00114   <font class="comment">// (representation) used to instantiate this TietzeTrekker, in the form</font>
00115   <font class="comment">// of a FPGroup.</font>
00116 
00117 
00118 <font class="keyword">private</font>:
00119 
00120   <font class="keyword">enum</font> { TRIVIAL = 1, CYCLIC = 2, HAS_FREE_FACTOR = 4, FINITE = 8, FREE = 16 };
00121 
00122   <font class="comment">// Data members;</font>
00123 
<a name="l00124"></a><a class="code" href="class_TietzeTrekker.html#o0">00124</a>   <a class="code" href="class_ListOf.html">ListOf&lt;FPGroup&gt;</a> presentations;
00125   <font class="comment">// Presentations queued by getFactoid.</font>
00126 
<a name="l00127"></a><a class="code" href="class_TietzeTrekker.html#o1">00127</a>   <a class="code" href="class_BlackBox.html">BlackBox</a> TietzeTrek;  <font class="comment">// The BlackBox we're wrapping.</font>
00128 
<a name="l00129"></a><a class="code" href="class_TietzeTrekker.html#o2">00129</a>   <font class="keywordtype">int</font> flags;            <font class="comment">// Flag what we know with values from above enum.</font>
<a name="l00130"></a><a class="code" href="class_TietzeTrekker.html#o3">00130</a>   <font class="keywordtype">int</font> order;            <font class="comment">// Store order if we know it.</font>
<a name="l00131"></a><a class="code" href="class_TietzeTrekker.html#o4">00131</a>   <font class="keywordtype">int</font> rank;             <font class="comment">// Store free rank if we know it.</font>
00132 
<a name="l00133"></a><a class="code" href="class_TietzeTrekker.html#o5">00133</a>   <font class="keywordtype">int</font> status;           <font class="comment">// Initialization status: 1 == good, 0 == bad.</font>
00134 
00135 
00136   <font class="comment">// Private methods:</font>
00137 
00138   <font class="keywordtype">void</font> <a class="code" href="class_TietzeTrekker.html#c0">initialize</a>(<font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;Chars&gt;</a>&amp; genNames, <font class="keyword">const</font> <a class="code" href="class_SetOf.html">SetOf&lt;Word&gt;</a>&amp; relators);
00139   <font class="comment">// Does the actual work of construction.</font>
00140 
00141   <font class="keywordtype">void</font> <a class="code" href="class_TietzeTrekker.html#c1">printWord</a>(ostream&amp; ostr, <font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a>&amp; w);
00142   <font class="comment">// A special word printer, to work around the ineptitudes in Frank's API.</font>
00143 
00144   <font class="keywordtype">void</font> <a class="code" href="class_TietzeTrekker.html#c2">printGenerator</a>(ostream&amp; ostr, <font class="keywordtype">int</font> g);
00145   <font class="comment">// Prints g as [a-zA-Z].</font>
00146 };
00147 
00148 <font class="preprocessor">#endif</font>
</font></pre></div><hr><address><small>Generated at Tue Jun 19 09:49:36 2001 for Magnus Classes by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
