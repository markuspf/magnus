<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/magnus/back_end/NilpotentGroup/include/PolyWord.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>/magnus/back_end/NilpotentGroup/include/PolyWord.h</h1><a href="PolyWord_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">// Copyright (C) 1994 The New York Group Theory Cooperative</font>
00002 <font class="comment">// See magnus/doc/COPYRIGHT for the full notice.</font>
00003 
00004 <font class="comment">// Contents: Definition of PolyWord class.</font>
00005 <font class="comment">//           </font>
00006 <font class="comment">//</font>
00007 <font class="comment">// Principal Author: Eugene Paderin</font>
00008 <font class="comment">//</font>
00009 <font class="comment">// Status: Experimental version</font>
00010 <font class="comment">//</font>
00011 <font class="comment">// Revision History:</font>
00012 <font class="comment">//</font>
00013 <font class="comment">// Special Notes:</font>
00014 <font class="comment">//</font>
00015 <font class="comment">//  * You can find set of methods being incomplete. For example, there is</font>
00016 <font class="comment">//    firstLetter() method, but no lastLetter(). The reason is that I added</font>
00017 <font class="comment">//    only those methods I needed.</font>
00018 <font class="comment">//</font>
00019 
00020 <font class="preprocessor">#ifndef _POLY_WORD_H_</font>
00021 <font class="preprocessor"></font><font class="preprocessor">#define _POLY_WORD_H_</font>
00022 <font class="preprocessor"></font>
00023 <font class="preprocessor">#include "<a class="code" href="Letter_h.html">Letter.h</a>"</font>
00024 <font class="preprocessor">#include "<a class="code" href="PureRep_h.html">PureRep.h</a>"</font>
00025 <font class="preprocessor">#include "<a class="code" href="PolyWordRep_h.html">PolyWordRep.h</a>"</font>
00026 
<a name="l00027"></a><a class="code" href="class_PolyWord.html">00027</a> <font class="keyword">class </font><a class="code" href="class_PolyWord.html">PolyWord</a> : <font class="keyword">public</font> <a class="code" href="class_ObjectOf.html">ObjectOf</a>&lt;PolyWordRep&gt; {
00028 
00029   <font class="comment">//--------------------------------------------------------</font>
00030   <font class="comment">//    Constructors</font>
00031   <font class="comment">//--------------------------------------------------------</font>
00032 
00033 <font class="keyword">public</font>:
00034   
<a name="l00035"></a><a class="code" href="class_PolyWord.html#a0">00035</a>   <a class="code" href="class_PolyWord.html#a0">PolyWord</a>() : <a class="code" href="class_ObjectOf.html">ObjectOf</a>&lt;<a class="code" href="class_PolyWordRep.html">PolyWordRep</a>&gt;( new <a class="code" href="class_PolyWordRep.html">PolyWordRep</a>() ) {}
00036 
<a name="l00037"></a><a class="code" href="class_PolyWord.html#a1">00037</a>   <a class="code" href="class_PolyWord.html#a0">PolyWord</a>( <font class="keyword">const</font> <a class="code" href="struct_Letter.html">Letter</a>&amp; let) : 
00038     <a class="code" href="class_ObjectOf.html">ObjectOf</a>&lt;<a class="code" href="class_PolyWordRep.html">PolyWordRep</a>&gt;( new <a class="code" href="class_PolyWordRep.html">PolyWordRep</a>(let) ) {}
00039 
<a name="l00040"></a><a class="code" href="class_PolyWord.html#a2">00040</a>   <a class="code" href="class_PolyWord.html#a0">PolyWord</a>( <font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a>&amp; w) :
00041     <a class="code" href="class_ObjectOf.html">ObjectOf</a>&lt;<a class="code" href="class_PolyWordRep.html">PolyWordRep</a>&gt;( new <a class="code" href="class_PolyWordRep.html">PolyWordRep</a>(w) ) {}
00042 
<a name="l00043"></a><a class="code" href="class_PolyWord.html#a3">00043</a>   <a class="code" href="class_PolyWord.html#a0">PolyWord</a>( <font class="keyword">const</font> <a class="code" href="class_AbelianWord.html">AbelianWord</a>&amp; aw) :
00044     <a class="code" href="class_ObjectOf.html">ObjectOf</a>&lt;<a class="code" href="class_PolyWordRep.html">PolyWordRep</a>&gt;( new <a class="code" href="class_PolyWordRep.html">PolyWordRep</a>(aw) ) {}
00045 
<a name="l00046"></a><a class="code" href="class_PolyWord.html#a4">00046</a>   <a class="code" href="class_PolyWord.html#a0">PolyWord</a>(<a class="code" href="class_PolyWordRep.html">PolyWordRep</a>* rep) :
00047     <a class="code" href="class_ObjectOf.html">ObjectOf</a>&lt;<a class="code" href="class_PolyWordRep.html">PolyWordRep</a>&gt;(rep) { <a class="code" href="class_ObjectOf.html#b1">enhance</a>()-&gt;addRef(); }     
00048 
00049 
00050   <font class="comment">// copy constructor and destructor provided by compiler</font>
00051 
00052   <font class="comment">//--------------------------------------------------------</font>
00053   <font class="comment">//    Accessors to word properties</font>
00054   <font class="comment">//--------------------------------------------------------</font>
00055 
<a name="l00056"></a><a class="code" href="class_PolyWord.html#a5">00056</a>   <font class="keywordtype">int</font> <a class="code" href="class_PolyWord.html#a5">length</a>()<font class="keyword"> const </font>{
00057     <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;length();
00058   }
00059   <font class="comment">// length of the word (sum of absolute values of powers).</font>
00060 
<a name="l00061"></a><a class="code" href="class_PolyWord.html#a6">00061</a>   <font class="keywordtype">int</font> <a class="code" href="class_PolyWord.html#a6">numberOfLetters</a>()<font class="keyword"> const </font>{ 
00062     <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;numberOfLetters(); 
00063   }
00064   <font class="comment">// number of Letters (length of the list)</font>
00065 
<a name="l00066"></a><a class="code" href="class_PolyWord.html#a7">00066</a>   <font class="keywordtype">bool</font> <a class="code" href="class_PolyWord.html#a7">isEmpty</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="class_PolyWord.html#a6">numberOfLetters</a>() == 0; }
00067 
<a name="l00068"></a><a class="code" href="class_PolyWord.html#a8">00068</a>   <font class="keywordtype">bool</font> <a class="code" href="class_PolyWord.html#a8">isCollected</a>()<font class="keyword"> const </font>{
00069     <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;isCollected();
00070   }
00071   <font class="comment">// returns true iff the word is collected</font>
00072 
00073   <font class="comment">//--------------------------------------------------------</font>
00074   <font class="comment">//    Accessors to word elements</font>
00075   <font class="comment">//--------------------------------------------------------</font>
00076 
<a name="l00077"></a><a class="code" href="class_PolyWord.html#a9">00077</a>   <font class="keyword">const</font> <a class="code" href="struct_Letter.html">Letter</a>&amp; <a class="code" href="class_PolyWord.html#a9">firstLetter</a>()<font class="keyword"> const </font>{
00078     <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;firstLetter();
00079   }
00080   <font class="comment">// returns reference to the first letter</font>
00081 
<a name="l00082"></a><a class="code" href="class_PolyWord.html#a10">00082</a>   <font class="keyword">const</font> <a class="code" href="struct_Letter.html">Letter</a>&amp; <a class="code" href="class_PolyWord.html#a10">lastLetter</a>()<font class="keyword"> const </font>{
00083     <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;lastLetter();
00084   }
00085   <font class="comment">// returns reference to the last letter</font>
00086 
00087   <font class="comment">// To access the other word elements, use PolyWordIterator</font>
<a name="l00088"></a><a class="code" href="class_PolyWord.html#l0">00088</a>   <font class="keyword">friend</font> <font class="keyword">class </font><a class="code" href="class_PolyWordIterator.html">PolyWordIterator</a>;
<a name="l00089"></a><a class="code" href="class_PolyWord.html#l1">00089</a>   <font class="keyword">friend</font> <font class="keyword">class </font><a class="code" href="class_ConstPolyWordIterator.html">ConstPolyWordIterator</a>;
00090 
00091   <font class="comment">//--------------------------------------------------------</font>
00092   <font class="comment">//    I/O</font>
00093   <font class="comment">//--------------------------------------------------------</font>
00094 
<a name="l00095"></a><a class="code" href="class_PolyWord.html#a11">00095</a>   <font class="keywordtype">void</font> <a class="code" href="class_PolyWord.html#a11">printOn</a> (ostream&amp; s)<font class="keyword"> const </font>{
00096     <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;printOn(s);
00097   }
00098   <font class="comment">// output</font>
00099 
<a name="l00100"></a><a class="code" href="class_PolyWord.html#l2">00100</a>   <font class="keyword">friend</font> ostream&amp; <a class="code" href="Polynomial_h.html#a2">operator &lt; </a>(ostream&amp; s, <font class="keyword">const</font> <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; w)<font class="keyword"> </font>{
00101     <font class="keywordflow">return</font> w.<a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;write(s);
00102   }
00103   <font class="comment">// IPC output</font>
00104 
<a name="l00105"></a><a class="code" href="class_PolyWord.html#l3">00105</a>   <font class="keyword">friend</font> istream&amp; <a class="code" href="Polynomial_h.html#a3">operator &gt; </a>(istream&amp; s, <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; w)<font class="keyword"> </font>{
00106     <font class="keywordflow">return</font> w.<a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;read(s);
00107   }
00108   <font class="comment">// IPC input</font>
00109  
<a name="l00110"></a><a class="code" href="class_PolyWord.html#a12">00110</a>   <font class="keywordtype">void</font> <a class="code" href="class_PolyWord.html#a12">debugInfo</a>()<font class="keyword"> const </font>{
00111     <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;debugInfo();
00112   }
00113   <font class="comment">// Prints debug info to cout</font>
00114 
00115  
00116   <font class="comment">//--------------------------------------------------------</font>
00117   <font class="comment">//    General methods</font>
00118   <font class="comment">//--------------------------------------------------------</font>
00119 
<a name="l00120"></a><a class="code" href="class_PolyWord.html#a13">00120</a>   <a class="code" href="class_PolyWord.html#a13">operator Word</a>()<font class="keyword"> const </font>{
00121     <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;toWord();
00122   }
00123   <font class="comment">// cast to common Word (not reduced)</font>
00124 
<a name="l00125"></a><a class="code" href="class_PolyWord.html#a14">00125</a>   <a class="code" href="class_Chars.html">Chars</a> <a class="code" href="class_PolyWord.html#a14">toChars</a>( <font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;Chars&gt;</a>&amp; names )<font class="keyword"> const </font>{
00126     <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;toChars(names);
00127   }
00128   <font class="comment">// outputs word to string using given Chars as names of generators</font>
00129 
<a name="l00130"></a><a class="code" href="class_PolyWord.html#a15">00130</a>   <font class="keywordtype">void</font> <a class="code" href="class_PolyWord.html#a15">freelyReduce</a>()<font class="keyword"> </font>{
00131     <a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;freelyReduce();
00132   }
00133   <font class="comment">// freely reduces the word</font>
00134 
<a name="l00135"></a><a class="code" href="class_PolyWord.html#a16">00135</a>   <a class="code" href="class_PolyWord.html">PolyWord</a> <a class="code" href="class_PolyWord.html#a16">inverse</a>()<font class="keyword"> const </font>{
00136     <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;inverse();
00137   }
00138   <font class="comment">// returns the inverse word</font>
00139 
<a name="l00140"></a><a class="code" href="class_PolyWord.html#a17">00140</a>   <font class="keywordtype">void</font> <a class="code" href="class_PolyWord.html#a17">append</a>(<font class="keyword">const</font> <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; w)<font class="keyword"> </font>{
00141     <a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;append(w);
00142   }
00143   <font class="comment">// appends w to the end of this word</font>
00144 
<a name="l00145"></a><a class="code" href="class_PolyWord.html#a18">00145</a>   <font class="keywordtype">void</font> <a class="code" href="class_PolyWord.html#a17">append</a>(<font class="keyword">const</font> <a class="code" href="struct_Letter.html">Letter</a>&amp; w)<font class="keyword"> </font>{
00146     <a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;append(w);
00147   }
00148   <font class="comment">// appends w to the end of this word</font>
00149 
<a name="l00150"></a><a class="code" href="class_PolyWord.html#a19">00150</a>   <font class="keywordtype">void</font> <a class="code" href="class_PolyWord.html#a19">clear</a>()<font class="keyword"> </font>{ <a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;clear(); }
00151   <font class="comment">// clears the list</font>
00152 
<a name="l00153"></a><a class="code" href="class_PolyWord.html#a20">00153</a>   <font class="keywordtype">void</font> <a class="code" href="class_PolyWord.html#a20">duplicate</a>(<a class="code" href="struct_PolyWordNode.html">PolyWordNode</a>*&amp; ptrToFirst, <a class="code" href="struct_PolyWordNode.html">PolyWordNode</a>*&amp; ptrToLast)<font class="keyword"> const </font>{
00154     <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;duplicate(ptrToFirst, ptrToLast);
00155   }
00156   <font class="comment">// duplicates the list and writes addresses of the new copy's</font>
00157   <font class="comment">// first and last nodes to ptrToFirst and ptrToLast.</font>
00158 
<a name="l00159"></a><a class="code" href="class_PolyWord.html#a21">00159</a>   <font class="keywordtype">void</font> <a class="code" href="class_PolyWord.html#a21">removeFirstLetter</a>()<font class="keyword"> </font>{
00160     <a class="code" href="class_ObjectOf.html#b2">change</a>()-&gt;removeFirstLetter();
00161   }
00162   <font class="comment">// removes first letter (node) from the list</font>
00163 
<a name="l00164"></a><a class="code" href="class_PolyWord.html#a22">00164</a>   <a class="code" href="class_PolyWord.html">PolyWord</a> <a class="code" href="class_PolyWord.html#a22">raiseToPower</a>( <font class="keywordtype">int</font> power )<font class="keyword"> const </font>{
00165     <font class="keywordflow">return</font> <a class="code" href="class_ObjectOf.html#b0">look</a>()-&gt;raiseToPower(power);
00166   }
00167   <font class="comment">// Raises the word to given power (can be negative or 0)</font>
00168 
00169 };
00170 
00171 <font class="comment">//----------------- Inline global functions -----------------</font>
00172 
<a name="l00173"></a><a class="code" href="PolyWord_h.html#a0">00173</a> <font class="keyword">inline</font> ostream&amp; <a class="code" href="DatabaseManager_h.html#a28">operator&lt;&lt;</a>(ostream&amp; s, <font class="keyword">const</font> <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; w)<font class="keyword"> </font>{
00174   w.<a class="code" href="class_PolyWord.html#a11">printOn</a>(s);
00175   <font class="keywordflow">return</font> s;
00176 }
00177 <font class="comment">// stream output</font>
00178 
<a name="l00179"></a><a class="code" href="PolyWord_h.html#a1">00179</a> <font class="keyword">inline</font> <a class="code" href="class_PolyWord.html">PolyWord</a> <a class="code" href="PolyWord_h.html#a1">operator * </a>(<font class="keyword">const</font> <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; p1, <font class="keyword">const</font> <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; p2)<font class="keyword"> </font>{
00180   <a class="code" href="class_PolyWord.html">PolyWord</a> res(p1);
00181   res.<a class="code" href="class_PolyWord.html#a17">append</a>(p2);
00182   <font class="keywordflow">return</font> res;
00183 }
00184 <font class="comment">// catenation of words</font>
00185 
00186 
<a name="l00187"></a><a class="code" href="PolyWord_h.html#a2">00187</a> <font class="keyword">inline</font> <a class="code" href="class_PolyWord.html">PolyWord</a> <a class="code" href="PolyWord_h.html#a2">commutator</a>(<font class="keyword">const</font> <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; w1, <font class="keyword">const</font> <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; w2)<font class="keyword"> </font>{
00188   <font class="keywordflow">return</font> w1.<a class="code" href="class_PolyWord.html#a16">inverse</a>() * w2.<a class="code" href="class_PolyWord.html#a16">inverse</a>() * w1 * w2;
00189 }
00190 <font class="comment">// returns commutator [w1, w2]</font>
00191 
<a name="l00192"></a><a class="code" href="PolyWord_h.html#a3">00192</a> <font class="keyword">inline</font> <a class="code" href="class_PolyWord.html">PolyWord</a> <a class="code" href="PolyWord_h.html#a3">commutatorOfInverses</a>(<font class="keyword">const</font> <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; w1, <font class="keyword">const</font> <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; w2)<font class="keyword"> </font>{
00193   <font class="keywordflow">return</font> w1 * w2 * w1.<a class="code" href="class_PolyWord.html#a16">inverse</a>() * w2.<a class="code" href="class_PolyWord.html#a16">inverse</a>();
00194 }
00195 <font class="comment">// returns commutator [w1^-1, w2^-1]</font>
00196 
00197 <a class="code" href="class_PolyWord.html">PolyWord</a> <a class="code" href="PolyWord_h.html#a5">evaluateWord</a>( <font class="keyword">const</font> <a class="code" href="class_Word.html">Word</a>&amp; w, <font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;PolyWord&gt;</a>&amp; pw );
00198 <font class="comment">// Evaluates the word w by replacing its generators ai -&gt; pw[i].</font>
00199 
00200 <a class="code" href="class_PolyWord.html">PolyWord</a> <a class="code" href="PolyWord_h.html#a5">evaluateWord</a>(<font class="keyword">const</font> <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; pw, <font class="keyword">const</font> <a class="code" href="class_VectorOf.html">VectorOf&lt;PolyWord&gt;</a>&amp; v);
00201 <font class="comment">//Evaluates the word replacing generator g by word v[g-1].</font>
00202 <font class="comment">//@ep cannot make it a class member due to gcc template bugs</font>
00203 
00204 <font class="preprocessor">#endif</font>
00205 <font class="preprocessor"></font>
00206 
</pre></div><hr><address><small>Generated at Tue Jun 19 09:49:37 2001 for Magnus Classes by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
