<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/magnus/back_end/SessionManager/include/Property.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>/magnus/back_end/SessionManager/include/Property.h</h1><a href="Property_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment"> *   $Id: Property.h,v 1.2 2000/03/22 21:55:55 bormotov Exp $</font>
00003 <font class="comment"> */</font>
00004  
00005 <font class="comment">//   Copyright (C) 1998 The New York Group Theory Cooperative</font>
00006 <font class="comment">//   See magnus/doc/COPYRIGHT for the full notice.</font>
00007  
00008 <font class="comment">// Contents: Definition of an object property template </font>
00009 <font class="comment">//           and collection of properties.</font>
00010 <font class="comment">//</font>
00011 <font class="comment">// Principal Author: Dmitry Pechkin</font>
00012 <font class="comment">//</font>
00013 <font class="comment">// Status: In progress.</font>
00014 <font class="comment">//</font>
00015 <font class="comment">// Revision History:</font>
00016 <font class="comment">//</font>
00017 <font class="comment">//</font>
00018 <font class="comment">// Special Notes:</font>
00019 <font class="comment">//</font>
00020 <font class="comment">//  See examples of use at the bottom of the file.</font>
00021 <font class="comment">//</font>
00022 <font class="comment">// Further implementation steps:</font>
00023 <font class="comment">//</font>
00024 <font class="comment">//</font>
00025 <font class="comment">// Bugs:</font>
00026 <font class="comment">//</font>
00027 <font class="comment">//</font>
00028 
00029 <font class="preprocessor">#ifndef _PROPERTY_H_</font>
00030 <font class="preprocessor"></font><font class="preprocessor">#define _PROPERTY_H_</font>
00031 <font class="preprocessor"></font> 
00032 <font class="preprocessor">#include "<a class="code" href="QuickAssociations_h.html">QuickAssociations.h</a>"</font>
00033 <font class="preprocessor">#include "<a class="code" href="Chars_h.html">Chars.h</a>"</font>
00034 <font class="preprocessor">#include "<a class="code" href="APofFreeGroups_h.html">APofFreeGroups.h</a>"</font>
00035 <font class="preprocessor">#include "<a class="code" href="Automorphism_h.html">Automorphism.h</a>"</font>
00036 <font class="preprocessor">#include "<a class="code" href="HNNExtOfFreeGroup_h.html">HNNExtOfFreeGroup.h</a>"</font>
00037 <font class="preprocessor">#include "<a class="code" href="NilpotentGroup_h.html">NilpotentGroup.h</a>"</font>
00038 <font class="preprocessor">#include "<a class="code" href="CosetEnumerator_h.html">CosetEnumerator.h</a>"</font>
00039 <font class="preprocessor">#include "DFSA.h"</font>
00040 <font class="preprocessor">#include "<a class="code" href="DiffMachine_h.html">DiffMachine.h</a>"</font>
00041 <font class="preprocessor">#include "<a class="code" href="KBMachine_h.html">KBMachine.h</a>"</font>
00042 <font class="preprocessor">#include "<a class="code" href="DecomposeInSubgroup_h.html">DecomposeInSubgroup.h</a>"</font>
00043 <font class="preprocessor">#include "<a class="code" href="AbelianSGPresentation_h.html">AbelianSGPresentation.h</a>"</font>
00044 <font class="preprocessor">#include "<a class="code" href="SGOfNilpotentGroup_h.html">SGOfNilpotentGroup.h</a>"</font>
00045 <font class="preprocessor">#include "<a class="code" href="PolyWord_h.html">PolyWord.h</a>"</font>
00046 
<a name="l00047"></a><a class="code" href="class_PropertyType.html">00047</a> <font class="keyword">class </font><a class="code" href="class_PropertyType.html">PropertyType</a> {
00048 <font class="keyword">public</font>:
<a name="l00049"></a><a class="code" href="class_PropertyType.html#a0">00049</a>   <a class="code" href="class_PropertyType.html#a0">PropertyType</a>( <font class="keywordtype">int</font> t ) : type(t) {}
<a name="l00050"></a><a class="code" href="class_PropertyType.html#a1">00050</a>   <font class="keywordtype">int</font> <a class="code" href="class_PropertyType.html#a1">unwrap</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> type; }
<a name="l00051"></a><a class="code" href="class_PropertyType.html#a2">00051</a>   <font class="keywordtype">int</font> <a class="code" href="class_PropertyType.html#a2">operator++</a>()<font class="keyword"> </font>{ <font class="keywordflow">return</font> ++type; }
00052 
00053   <font class="comment">//bool operator ==( const PropertyType&amp; p ) { return type == p.type; }</font>
00054   <font class="comment">//bool operator !=( const PropertyType&amp; p ) { return type != p.type; }</font>
00055   
<a name="l00056"></a><a class="code" href="class_PropertyType.html#l0">00056</a>   <font class="keyword">friend</font> ostream&amp; <a class="code" href="class_PropertyType.html#l0">operator&lt;&lt;</a>(ostream&amp; ostr, <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a>&amp; p)<font class="keyword"> </font>{ 
00057     ostr &lt;&lt; p.type; 
00058   }
<a name="l00059"></a><a class="code" href="class_PropertyType.html#l1">00059</a>   <font class="keyword">friend</font> istream&amp; <a class="code" href="class_PropertyType.html#l1">operator&gt;&gt;</a>(istream&amp; istr, <a class="code" href="class_PropertyType.html">PropertyType</a>&amp; p)<font class="keyword"> </font>{ 
00060     istr &gt;&gt; p.type; 
00061   }
00062 
00063 <font class="keyword">private</font>:
<a name="l00064"></a><a class="code" href="class_PropertyType.html#o0">00064</a>   <font class="keywordtype">int</font> type;
00065 };
00066 
<a name="l00067"></a><a class="code" href="Property_h.html#a1">00067</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="Property_h.html#a1">operator==</a>( <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> a, <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> b )<font class="keyword"> </font>{
00068   <font class="keywordflow">return</font> a.<a class="code" href="class_PropertyType.html#a1">unwrap</a>() == b.<a class="code" href="class_PropertyType.html#a1">unwrap</a>();
00069 }
00070 
<a name="l00071"></a><a class="code" href="Property_h.html#a2">00071</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="Property_h.html#a2">operator!=</a>( <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> a, <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> b )<font class="keyword"> </font>{
00072   <font class="keywordflow">return</font> a.<a class="code" href="class_PropertyType.html#a1">unwrap</a>() != b.<a class="code" href="class_PropertyType.html#a1">unwrap</a>();
00073 }
00074 
00075 <font class="keyword">class </font><a class="code" href="class_GenericProperty.html">GenericProperty</a>;
00076 
00077 <font class="comment">//============================================================</font>
00078 <font class="comment">//</font>
00079 <font class="comment">//          Properties Manager</font>
00080 <font class="comment">//</font>
00081 <font class="comment">//============================================================</font>
00082 
<a name="l00083"></a><a class="code" href="class_PropertiesManager.html">00083</a> <font class="keyword">class </font><a class="code" href="class_PropertiesManager.html">PropertiesManager</a> {
00084   <font class="comment">// The class implements a `Singleton' design pattern (see the G4's book)</font>
00085 <font class="keyword">public</font>:
00086   <font class="keyword">static</font> <a class="code" href="class_PropertiesManager.html">PropertiesManager</a>* <a class="code" href="class_PropertiesManager.html#d0">instance</a>();
00087   
00088   <a class="code" href="class_PropertyType.html">PropertyType</a> <a class="code" href="class_PropertiesManager.html#a0">typeOf</a>( <font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a>&amp; propertyName ) <font class="keyword">const</font>;
00089   <a class="code" href="class_Chars.html">Chars</a> <a class="code" href="class_PropertiesManager.html#a1">nameOf</a>( <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a>&amp; ptype ) <font class="keyword">const</font>;
00090 
00091   <font class="keyword">const</font> <a class="code" href="class_GenericProperty.html">GenericProperty</a>* <a class="code" href="class_PropertiesManager.html#a2">property</a>( <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a>&amp; ptype ) <font class="keyword">const</font>;
00092 
00093   <font class="keywordtype">bool</font> <a class="code" href="class_PropertiesManager.html#a3">isRegisteredProperty</a>( <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> ptype ) <font class="keyword">const</font>;
00094   <font class="keywordtype">void</font> <a class="code" href="class_PropertiesManager.html#a4">registerProperty</a>( <font class="keyword">const</font> <a class="code" href="class_GenericProperty.html">GenericProperty</a>&amp; property );
00095   <font class="keywordtype">void</font> <a class="code" href="class_PropertiesManager.html#a5">unregisterProperty</a>( <font class="keyword">const</font> <a class="code" href="class_GenericProperty.html">GenericProperty</a>&amp; property );
00096   <font class="keywordtype">void</font> <a class="code" href="class_PropertiesManager.html#a5">unregisterProperty</a>( <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> ptype );
00097 
00098   <a class="code" href="class_GenericProperty.html">GenericProperty</a>* <a class="code" href="class_PropertiesManager.html#a7">readProperty</a>(istream&amp; istr, <font class="keywordtype">bool</font> extraDetails);
00099   <a class="code" href="class_GenericProperty.html">GenericProperty</a>* <a class="code" href="class_PropertiesManager.html#a7">readProperty</a>(istream&amp; istr, <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> ptype,
00100                                 <font class="keywordtype">bool</font> extraDetails);
00101 
00102 <font class="keyword">private</font>:
<a name="l00103"></a><a class="code" href="class_PropertiesManager.html#c0">00103</a>   <a class="code" href="class_PropertiesManager.html#c0">PropertiesManager</a>()<font class="keyword"> </font>{}
00104 
00105   <font class="comment">// Disable the copying of the instance -- </font>
00106   <font class="comment">// these two functions are not to be implemented.</font>
00107   <a class="code" href="class_PropertiesManager.html#c0">PropertiesManager</a>( <font class="keyword">const</font> <a class="code" href="class_PropertiesManager.html">PropertiesManager</a>&amp; );
00108   <a class="code" href="class_PropertiesManager.html">PropertiesManager</a>&amp; <a class="code" href="class_PropertiesManager.html#c2">operator=</a>( <font class="keyword">const</font> <a class="code" href="class_PropertiesManager.html">PropertiesManager</a>&amp; );
00109 
<a name="l00110"></a><a class="code" href="class_PropertiesManager__SingletonKiller.html">00110</a>   <font class="keyword">class </font>SingletonKiller {
00111   <font class="keyword">public</font>:
<a name="l00112"></a><a class="code" href="class_PropertiesManager__SingletonKiller.html#a0">00112</a>     <a class="code" href="class_PropertiesManager__SingletonKiller.html#a0">~SingletonKiller</a>()<font class="keyword"> </font>{ <font class="keyword">delete</font> PropertiesManager::theInstance; }
00113   };
<a name="l00114"></a><a class="code" href="class_PropertiesManager.html#l0">00114</a>   <font class="keyword">friend</font> <font class="keyword">class </font>SingletonKiller;
00115 
<a name="l00116"></a><a class="code" href="class_PropertiesManager.html#r0">00116</a>   <font class="keyword">static</font> <a class="code" href="class_PropertiesManager.html">PropertiesManager</a> *theInstance;
<a name="l00117"></a><a class="code" href="class_PropertiesManager.html#r1">00117</a>   <font class="keyword">static</font> SingletonKiller    theKiller;
00118 
00119   <font class="comment">// Instance's data members:</font>
<a name="l00120"></a><a class="code" href="class_PropertiesManager.html#o0">00120</a>   <a class="code" href="class_QuickAssociationsOf.html">QuickAssociationsOf&lt;PropertyType, GenericProperty*&gt;</a> theRegisteredProperties;
<a name="l00121"></a><a class="code" href="class_PropertiesManager.html#o1">00121</a>   <a class="code" href="class_QuickAssociationsOf.html">QuickAssociationsOf&lt;Chars, PropertyType&gt;</a>            theRegisteredTypes;
00122 };
00123 
00124 <font class="keywordtype">void</font> <a class="code" href="Property_h.html#a3">registerProperties</a>();
00125 
<a name="l00126"></a><a class="code" href="Property_h.html#a0">00126</a> <font class="keyword">extern</font> <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> unregisteredProperty;
00127 
00128 <font class="comment">//============================================================</font>
00129 <font class="comment">//</font>
00130 <font class="comment">//          Properties Collection</font>
00131 <font class="comment">//</font>
00132 <font class="comment">//============================================================</font>
00133 
<a name="l00134"></a><a class="code" href="class_PropertiesCollection.html">00134</a> <font class="keyword">class </font><a class="code" href="class_PropertiesCollection.html">PropertiesCollection</a>
00135 {
00136 <font class="keyword">public</font>:
<a name="l00137"></a><a class="code" href="class_PropertiesCollection.html#a0">00137</a>   <a class="code" href="class_PropertiesCollection.html#a0">PropertiesCollection</a>( )<font class="keyword"> </font>{ }
00138 
00139   <a class="code" href="class_Trichotomy.html">Trichotomy</a> <a class="code" href="class_PropertiesCollection.html#a1">haveProperty</a>  ( <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> ptype  ) <font class="keyword">const</font>;
00140   <font class="keywordtype">void</font>  <a class="code" href="class_PropertiesCollection.html#a2">putProperty</a>       ( <font class="keyword">const</font> <a class="code" href="class_GenericProperty.html">GenericProperty</a>&amp; property, <a class="code" href="class_Trichotomy.html">Trichotomy</a> have );
00141   <a class="code" href="class_Chars.html">Chars</a> <a class="code" href="class_PropertiesCollection.html#a3">getDescription</a>    ( <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> ptype  ) <font class="keyword">const</font>; 
00142   <font class="keywordtype">void</font>  <a class="code" href="class_PropertiesCollection.html#a4">setUnknownProperty</a>( <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> ptype  );
00143   <font class="keywordtype">void</font>  <a class="code" href="class_PropertiesCollection.html#a5">setHaveNotProperty</a>( <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> ptype, <font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a>&amp; expl );
00144   <font class="keywordtype">void</font>  <a class="code" href="class_PropertiesCollection.html#a6">setKnownProperty</a>  ( <font class="keyword">const</font> <a class="code" href="class_GenericProperty.html">GenericProperty</a>&amp; property );
00145   <font class="keywordtype">void</font>  <a class="code" href="class_PropertiesCollection.html#a7">getKnownProperty</a>  ( <a class="code" href="class_GenericProperty.html">GenericProperty</a>&amp; property ) <font class="keyword">const</font>;
00146   <font class="keyword">const</font> <a class="code" href="class_GenericProperty.html">GenericProperty</a>* <a class="code" href="class_PropertiesCollection.html#a7">getKnownProperty</a>( <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> ptype ) <font class="keyword">const</font>;
00147         <a class="code" href="class_GenericProperty.html">GenericProperty</a>* <a class="code" href="class_PropertiesCollection.html#a7">getKnownProperty</a>( <font class="keyword">const</font> <a class="code" href="class_PropertyType.html">PropertyType</a> ptype );
00148   <font class="keywordtype">void</font> <a class="code" href="class_PropertiesCollection.html#a10">read</a> ( istream&amp; istr, <font class="keywordtype">bool</font> extraDetails );
00149   <font class="keywordtype">void</font> <a class="code" href="class_PropertiesCollection.html#a11">write</a>( ostream&amp; ostr, <font class="keywordtype">bool</font> extraDetails );
00150 
00151 <font class="keyword">private</font>:
00152 
<a name="l00153"></a><a class="code" href="class_PropertiesCollection.html#o0">00153</a>   <a class="code" href="class_QuickAssociationsOf.html">QuickAssociationsOf&lt;PropertyType, GenericProperty*&gt;</a> knownProperties;
<a name="l00154"></a><a class="code" href="class_PropertiesCollection.html#o1">00154</a>   <a class="code" href="class_QuickAssociationsOf.html">QuickAssociationsOf&lt;PropertyType, Chars&gt;</a>            haveNotProperties;
00155 };
00156 
00157 <font class="comment">//============================================================</font>
00158 <font class="comment">//</font>
00159 <font class="comment">//          Properties Parser</font>
00160 <font class="comment">//</font>
00161 <font class="comment">//============================================================</font>
00162 
<a name="l00163"></a><a class="code" href="class_PropertiesParser.html">00163</a> <font class="keyword">class </font><a class="code" href="class_PropertiesParser.html">PropertiesParser</a> <font class="comment">//: protected PresentationParser</font>
00164 {
00165 <font class="keyword">public</font>:
00166 <font class="comment"></font>
00167 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00168 <font class="comment"></font>  <font class="comment">//                                                                     //</font>
00169   <font class="comment">// Constructors:                                                       //</font>
00170   <font class="comment">//                                                                     //</font><font class="comment"></font>
00171 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00172 <font class="comment"></font>
<a name="l00173"></a><a class="code" href="class_PropertiesParser.html#a0">00173</a>   <a class="code" href="class_PropertiesParser.html#a0">PropertiesParser</a>(istream &amp;i) : istr(i) {} 
00174   <font class="comment">// Initialize the parser with the istream from which to read.</font>
00175 
00176   <font class="comment">// Destructor supplied by compiler.</font>
00177 <font class="comment"></font>
00178 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00179 <font class="comment"></font>  <font class="comment">//                                                                     //</font>
00180   <font class="comment">// Parsing Methods:                                                    //</font>
00181   <font class="comment">//                                                                     //</font><font class="comment"></font>
00182 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00183 <font class="comment"></font>
00184   <a class="code" href="class_Chars.html">Chars</a> <a class="code" href="class_PropertiesParser.html#a1">parsePropertiesCollection</a>(
00185     <a class="code" href="class_QuickAssociationsOf.html">QuickAssociationsOf&lt;PropertyType, GenericProperty*&gt;</a>&amp; known,
00186     <a class="code" href="class_QuickAssociationsOf.html">QuickAssociationsOf&lt;PropertyType, Chars&gt;</a>&amp;            unknown,
00187     <font class="keywordtype">bool</font> extraDetails );
00188 
00189   <a class="code" href="class_Chars.html">Chars</a> <a class="code" href="class_PropertiesParser.html#a2">parseRawWord</a>(<a class="code" href="class_Word.html">Word</a>&amp; w);
00190 
00191   <font class="keywordtype">bool</font> <a class="code" href="class_PropertiesParser.html#a3">skipWhiteSpaces</a>();
00192   <font class="keywordtype">bool</font> <a class="code" href="class_PropertiesParser.html#a4">skipWhiteSpacesAndGivenChar</a>(<font class="keywordtype">char</font> c);
00193 
00194 <font class="keyword">private</font>:
00195   <a class="code" href="class_Chars.html">Chars</a> <a class="code" href="class_PropertiesParser.html#c0">parseKnownProperties</a>(
00196     <a class="code" href="class_QuickAssociationsOf.html">QuickAssociationsOf&lt;PropertyType,GenericProperty*&gt;</a>&amp; known,
00197     <font class="keywordtype">bool</font> extraDetails );
00198 
00199   <a class="code" href="class_Chars.html">Chars</a> <a class="code" href="class_PropertiesParser.html#c1">parseUnknownProperties</a>( 
00200     <a class="code" href="class_QuickAssociationsOf.html">QuickAssociationsOf&lt;PropertyType,Chars&gt;</a>&amp; unknown );
00201 
<a name="l00202"></a><a class="code" href="class_PropertiesParser.html#c2">00202</a>   <font class="keywordtype">char</font> <a class="code" href="class_PropertiesParser.html#c2">peekCh</a>()<font class="keyword"> </font>{ <font class="keywordflow">return</font> istr.peek(); }
<a name="l00203"></a><a class="code" href="class_PropertiesParser.html#c3">00203</a>   <font class="keywordtype">char</font> <a class="code" href="class_PropertiesParser.html#c3">getCh</a>()<font class="keyword">  </font>{ <font class="keywordflow">return</font> istr.get();  }
00204 
<a name="l00205"></a><a class="code" href="class_PropertiesParser.html#o0">00205</a>   istream&amp; istr;
00206 };
00207 
00208 <font class="comment">//============================================================</font>
00209 <font class="comment">//</font>
00210 <font class="comment">//          Generic Properties</font>
00211 <font class="comment">//</font>
00212 <font class="comment">//============================================================</font>
00213 
<a name="l00214"></a><a class="code" href="class_GenericProperty.html">00214</a> <font class="keyword">class </font><a class="code" href="class_GenericProperty.html">GenericProperty</a> {
00215 <font class="keyword">public</font>:
<a name="l00216"></a><a class="code" href="class_GenericProperty.html#a0">00216</a>   <a class="code" href="class_GenericProperty.html#a0">GenericProperty</a>( <font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a>&amp; descr ) : theDescription( descr ) {}
00217 
<a name="l00218"></a><a class="code" href="class_GenericProperty.html#a1">00218</a>   <font class="keyword">virtual</font> <a class="code" href="class_GenericProperty.html#a1">~GenericProperty</a>()<font class="keyword"> </font>{}
00219   <font class="keyword">virtual</font> <a class="code" href="class_PropertyType.html">PropertyType</a> <a class="code" href="class_GenericProperty.html#a2">actualType</a>  () <font class="keyword">const</font> = 0;
00220   <font class="keyword">virtual</font> <a class="code" href="class_Chars.html">Chars</a>        <a class="code" href="class_GenericProperty.html#a3">propertyName</a>() <font class="keyword">const</font> = 0;
00221   <font class="keyword">virtual</font> <font class="keywordtype">void</font>         <a class="code" href="class_GenericProperty.html#a4">putProperty</a>( <a class="code" href="class_GenericProperty.html">GenericProperty</a>* property ) = 0;
00222 
<a name="l00223"></a><a class="code" href="class_GenericProperty.html#a5">00223</a>   <a class="code" href="class_Chars.html">Chars</a> <a class="code" href="class_GenericProperty.html#a5">getDescription</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> theDescription; }
00224 
<a name="l00225"></a><a class="code" href="class_GenericProperty.html#a6">00225</a>   <font class="keyword">virtual</font> <font class="keywordtype">bool</font> <a class="code" href="class_GenericProperty.html#a6">isStorable</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <font class="keyword">true</font>; }
00226 
00227   <font class="comment">// I/O routines</font>
<a name="l00228"></a><a class="code" href="class_GenericProperty.html#l2">00228</a>   <font class="keyword">friend</font>  istream&amp; <a class="code" href="class_GenericProperty.html#l2">operator&gt;&gt;</a>( istream&amp; istr, <a class="code" href="class_GenericProperty.html">GenericProperty</a>&amp; p )<font class="keyword"> </font>{
00229     p.<a class="code" href="class_GenericProperty.html#a7">read</a>(istr);
00230     <font class="keywordflow">return</font> istr;
00231   }
00232 
<a name="l00233"></a><a class="code" href="class_GenericProperty.html#l3">00233</a>   <font class="keyword">friend</font> ostream&amp; <a class="code" href="class_GenericProperty.html#l3">operator&lt;&lt;</a>( ostream&amp; ostr, <font class="keyword">const</font> <a class="code" href="class_GenericProperty.html">GenericProperty</a>&amp; p )<font class="keyword"> </font>{
00234     <a class="code" href="class_Chars.html">Chars</a> noExtraFile;
00235     p.<a class="code" href="class_GenericProperty.html#a8">write</a>(ostr, <font class="keyword">false</font>, noExtraFile);
00236     <font class="keywordflow">return</font> ostr;
00237   }
00238 
00239   <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#a7">read</a> (istream&amp; istr, <font class="keywordtype">bool</font> extraDetails = <font class="keyword">false</font>)  = 0;
00240   <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#a8">write</a>(ostream&amp; ostr, <font class="keywordtype">bool</font> extraDetails, 
00241                      <font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a>&amp; extrasDetailsFileName ) <font class="keyword">const</font> = 0;
00242 
00243 <font class="keyword">protected</font>:
<a name="l00244"></a><a class="code" href="class_GenericProperty.html#l0">00244</a>   <font class="keyword">friend</font> <font class="keyword">class </font><a class="code" href="class_PropertiesCollection.html">PropertiesCollection</a>;
<a name="l00245"></a><a class="code" href="class_GenericProperty.html#l1">00245</a>   <font class="keyword">friend</font> <font class="keyword">class </font><a class="code" href="class_PropertiesManager.html">PropertiesManager</a>;
00246   <font class="keyword">virtual</font> <a class="code" href="class_GenericProperty.html">GenericProperty</a>* <a class="code" href="class_GenericProperty.html#b0">clone</a>() <font class="keyword">const</font> = 0;
00247 
00248 <font class="keyword">protected</font>:
00249   <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#b1">readFrom</a>(istream&amp; istr);
00250   <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#b2">writeTo</a> (ostream&amp; ostr) <font class="keyword">const</font>;
00251 
00252   <font class="keyword">static</font> <a class="code" href="class_PropertyType.html">PropertyType</a> <a class="code" href="class_GenericProperty.html#e0">unique</a>();
00253 <font class="keyword">private</font>:
<a name="l00254"></a><a class="code" href="class_GenericProperty.html#r0">00254</a>   <font class="keyword">static</font> <a class="code" href="class_PropertyType.html">PropertyType</a> theTypeCounter;
00255 
<a name="l00256"></a><a class="code" href="class_GenericProperty.html#o0">00256</a>   <a class="code" href="class_Chars.html">Chars</a> theDescription;
00257 };
00258 
<a name="l00259"></a><a class="code" href="class_GenericUnstorableProperty.html">00259</a> <font class="keyword">class </font><a class="code" href="class_GenericUnstorableProperty.html">GenericUnstorableProperty</a> : <font class="keyword">public</font> <a class="code" href="class_GenericProperty.html">GenericProperty</a> {
00260 <font class="keyword">public</font>:
<a name="l00261"></a><a class="code" href="class_GenericUnstorableProperty.html#a0">00261</a>   <a class="code" href="class_GenericUnstorableProperty.html#a0">GenericUnstorableProperty</a>( <font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a>&amp; descr ) : <a class="code" href="class_GenericProperty.html">GenericProperty</a>(descr) {}
00262 
<a name="l00263"></a><a class="code" href="class_GenericUnstorableProperty.html#a1">00263</a>   <font class="keywordtype">bool</font> <a class="code" href="class_GenericProperty.html#a6">isStorable</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <font class="keyword">false</font>; }
00264 <font class="keyword">protected</font>:
<a name="l00265"></a><a class="code" href="class_GenericUnstorableProperty.html#b0">00265</a>   <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#a7">read</a> (istream&amp; istr, <font class="keywordtype">bool</font> extraDetails = <font class="keyword">false</font>)<font class="keyword"> </font>{
00266     <a class="code" href="error_h.html#a0">error</a>( <font class="stringliteral">"Cannot load an unstorable propery."</font>);
00267   }
<a name="l00268"></a><a class="code" href="class_GenericUnstorableProperty.html#b1">00268</a>   <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#a8">write</a>(ostream&amp; ostr, <font class="keywordtype">bool</font> extraDetails, 
00269              <font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a>&amp; extrasDetailsFileName)<font class="keyword"> const </font>{
00270     <font class="comment">// Do not save anything.</font>
00271   }
00272 };
00273 
<a name="l00274"></a><a class="code" href="class_GenericSimpleProperty.html">00274</a> <font class="keyword">class </font><a class="code" href="class_GenericSimpleProperty.html">GenericSimpleProperty</a> : <font class="keyword">public</font> <a class="code" href="class_GenericProperty.html">GenericProperty</a> {
00275 <font class="keyword">public</font>:
<a name="l00276"></a><a class="code" href="class_GenericSimpleProperty.html#a0">00276</a>   <a class="code" href="class_GenericSimpleProperty.html#a0">GenericSimpleProperty</a>( <font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a>&amp; descr ) : <a class="code" href="class_GenericProperty.html">GenericProperty</a>(descr) {}
00277 <font class="keyword">protected</font>:
00278   <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#a7">read</a> (istream&amp; istr, <font class="keywordtype">bool</font> extraDetails = <font class="keyword">false</font>);
00279   <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#a8">write</a>(ostream&amp; ostr, <font class="keywordtype">bool</font> extraDetails, 
00280              <font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a>&amp; extrasDetailsFileName) <font class="keyword">const</font>;
00281 };
00282 
<a name="l00283"></a><a class="code" href="class_GenericComplexProperty.html">00283</a> <font class="keyword">class </font><a class="code" href="class_GenericComplexProperty.html">GenericComplexProperty</a> : <font class="keyword">public</font> <a class="code" href="class_GenericProperty.html">GenericProperty</a> {
00284 <font class="keyword">public</font>:
<a name="l00285"></a><a class="code" href="class_GenericComplexProperty.html#a0">00285</a>   <a class="code" href="class_GenericComplexProperty.html#a0">GenericComplexProperty</a>( <font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a>&amp; descr ) : <a class="code" href="class_GenericProperty.html">GenericProperty</a>(descr) {}
00286 
00287 <font class="keyword">protected</font>:
00288   <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#a7">read</a> (istream&amp; istr, <font class="keywordtype">bool</font> extraDetails = <font class="keyword">false</font>);
00289   <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#a8">write</a>(ostream&amp; ostr, <font class="keywordtype">bool</font> extraDetails, 
00290              <font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a>&amp; extrasDetailsFileName) <font class="keyword">const</font>;
00291 
00292 <font class="keyword">private</font>:
00293   <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="class_GenericComplexProperty.html#f0">completeHeader</a>( <font class="keywordtype">char</font> *header, <font class="keyword">const</font> <font class="keywordtype">char</font> *title, 
00294                               <font class="keyword">const</font> <font class="keywordtype">char</font> *name, <font class="keywordtype">int</font> start, <font class="keywordtype">int</font> length );
<a name="l00295"></a><a class="code" href="class_GenericComplexProperty.html#r0">00295</a>   <font class="keyword">static</font> <font class="keyword">const</font> <font class="keywordtype">int</font> header_size;
00296 };
00297 
00298 template &lt;class T&gt;
<a name="l00299"></a><a class="code" href="class_UnstorableProperty.html">00299</a> <font class="keyword">class </font><a class="code" href="class_UnstorableProperty.html">UnstorableProperty</a> : <font class="keyword">public</font> <a class="code" href="class_GenericUnstorableProperty.html">GenericUnstorableProperty</a> {
00300 <font class="keyword">public</font>:
00301 
<a name="l00302"></a><a class="code" href="class_UnstorableProperty.html#a0">00302</a>   <a class="code" href="class_UnstorableProperty.html#a0">UnstorableProperty</a>(<font class="keyword">const</font> T&amp; data, <font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a> descr) 
00303     : <a class="code" href="class_GenericUnstorableProperty.html">GenericUnstorableProperty</a>(descr), theData(data) { }
00304 
<a name="l00305"></a><a class="code" href="class_UnstorableProperty.html#a1">00305</a>   <font class="keyword">const</font> T&amp; <a class="code" href="class_UnstorableProperty.html#a1">value</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> theData; }
<a name="l00306"></a><a class="code" href="class_UnstorableProperty.html#a2">00306</a>         T&amp; <a class="code" href="class_UnstorableProperty.html#a2">ref</a>  ()<font class="keyword">       </font>{ <font class="keywordflow">return</font> theData; }
00307 
<a name="l00308"></a><a class="code" href="class_UnstorableProperty.html#a3">00308</a>   <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#a4">putProperty</a>( <a class="code" href="class_GenericProperty.html">GenericProperty</a>* property )<font class="keyword"> </font>{
00309     <font class="keywordflow">if</font>( property-&gt;<a class="code" href="class_GenericProperty.html#a2">actualType</a>() != <a class="code" href="class_GenericProperty.html#a2">actualType</a>() ) {
00310       <a class="code" href="error_h.html#a0">error</a>( <font class="stringliteral">"UnstorableProperty&lt;T&gt;::putProperty(): "</font>
00311              <font class="stringliteral">"wrong an actual type of the argument"</font> );
00312       <font class="keywordflow">return</font>;
00313     }
00314     theData = ((<a class="code" href="class_UnstorableProperty.html">UnstorableProperty&lt;T&gt;</a> *)property)-&gt;theData;
00315   }
00316 
<a name="l00317"></a><a class="code" href="class_UnstorableProperty.html#a4">00317</a>   <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#b1">readFrom</a>(istream&amp; istr)<font class="keyword">       </font>{  }
<a name="l00318"></a><a class="code" href="class_UnstorableProperty.html#a5">00318</a>   <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#b2">writeTo</a> (ostream&amp; ostr)<font class="keyword"> const </font>{  }
00319 
00320 <font class="keyword">protected</font>:
<a name="l00321"></a><a class="code" href="class_UnstorableProperty.html#n0">00321</a>   T theData;
00322 };
00323 
00324 template &lt;class T&gt;
<a name="l00325"></a><a class="code" href="class_SimpleProperty.html">00325</a> <font class="keyword">class </font><a class="code" href="class_SimpleProperty.html">SimpleProperty</a> : <font class="keyword">public</font> <a class="code" href="class_GenericSimpleProperty.html">GenericSimpleProperty</a> {
00326 <font class="keyword">public</font>:
00327 
<a name="l00328"></a><a class="code" href="class_SimpleProperty.html#a0">00328</a>   <a class="code" href="class_SimpleProperty.html#a0">SimpleProperty</a>(<font class="keyword">const</font> T&amp; data, <font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a> descr) 
00329     : <a class="code" href="class_GenericSimpleProperty.html">GenericSimpleProperty</a>(descr), theData(data) { }
00330 
<a name="l00331"></a><a class="code" href="class_SimpleProperty.html#a1">00331</a>   <font class="keyword">const</font> T&amp; <a class="code" href="class_SimpleProperty.html#a1">value</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> theData; }
<a name="l00332"></a><a class="code" href="class_SimpleProperty.html#a2">00332</a>         T&amp; <a class="code" href="class_SimpleProperty.html#a2">ref</a>  ()<font class="keyword">       </font>{ <font class="keywordflow">return</font> theData; }
00333 
<a name="l00334"></a><a class="code" href="class_SimpleProperty.html#a3">00334</a>   <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#a4">putProperty</a>( <a class="code" href="class_GenericProperty.html">GenericProperty</a>* property )<font class="keyword"> </font>{
00335     <font class="keywordflow">if</font>( property-&gt;<a class="code" href="class_GenericProperty.html#a2">actualType</a>() != <a class="code" href="class_GenericProperty.html#a2">actualType</a>() ) {
00336       <a class="code" href="error_h.html#a0">error</a>( <font class="stringliteral">"SimpleProperty&lt;T&gt;::putProperty(): "</font>
00337              <font class="stringliteral">"wrong an actual type of the argument"</font> );
00338       <font class="keywordflow">return</font>;
00339     }
00340     theData = ((<a class="code" href="class_SimpleProperty.html">SimpleProperty&lt;T&gt;</a> *)property)-&gt;theData;
00341   }
00342 
<a name="l00343"></a><a class="code" href="class_SimpleProperty.html#a4">00343</a>   <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#b1">readFrom</a>(istream&amp; istr)<font class="keyword">       </font>{ istr &gt;&gt; theData; }
<a name="l00344"></a><a class="code" href="class_SimpleProperty.html#a5">00344</a>   <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#b2">writeTo</a> (ostream&amp; ostr)<font class="keyword"> const </font>{ ostr &lt;&lt; theData; }
00345 
00346 <font class="keyword">protected</font>:
<a name="l00347"></a><a class="code" href="class_SimpleProperty.html#n0">00347</a>   T theData;
00348 };
00349 
00350 template &lt;class T&gt;
<a name="l00351"></a><a class="code" href="class_ComplexProperty.html">00351</a> <font class="keyword">class </font><a class="code" href="class_ComplexProperty.html">ComplexProperty</a> : <font class="keyword">public</font> <a class="code" href="class_GenericComplexProperty.html">GenericComplexProperty</a> {
00352 <font class="keyword">public</font>:
00353 
<a name="l00354"></a><a class="code" href="class_ComplexProperty.html#a0">00354</a>   <a class="code" href="class_ComplexProperty.html#a0">ComplexProperty</a>(<font class="keyword">const</font> T&amp; data, <font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a> descr) 
00355     : <a class="code" href="class_GenericComplexProperty.html">GenericComplexProperty</a>(descr), theData(data) { }
00356 
<a name="l00357"></a><a class="code" href="class_ComplexProperty.html#a1">00357</a>   <font class="keyword">const</font> T&amp; <a class="code" href="class_ComplexProperty.html#a1">value</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> theData; }
<a name="l00358"></a><a class="code" href="class_ComplexProperty.html#a2">00358</a>         T&amp; <a class="code" href="class_ComplexProperty.html#a2">ref</a>  ()<font class="keyword">       </font>{ <font class="keywordflow">return</font> theData; }
00359 
<a name="l00360"></a><a class="code" href="class_ComplexProperty.html#a3">00360</a>   <font class="keywordtype">void</font> <a class="code" href="class_GenericProperty.html#a4">putProperty</a>( <a class="code" href="class_GenericProperty.html">GenericProperty</a>* property )<font class="keyword"> </font>{
00361     <font class="keywordflow">if</font>( property-&gt;<a class="code" href="class_GenericProperty.html#a2">actualType</a>() != <a class="code" href="class_GenericProperty.html#a2">actualType</a>() ) {
00362       <a class="code" href="error_h.html#a0">error</a>( <font class="stringliteral">"ComplexProperty&lt;T&gt;::putProperty(): "</font>
00363              <font class="stringliteral">"wrong an actual type of the argument"</font> );
00364       <font class="keywordflow">return</font>;
00365     }
00366     theData = ((<a class="code" href="class_ComplexProperty.html">ComplexProperty&lt;T&gt;</a> *)property)-&gt;theData;
00367   }
00368 
00369   <font class="comment">//PropertyType actualType()   const { return unregisteredProperty; } </font>
00370   <font class="comment">//Chars        propertyName() const { return "unregisteredProperty"; }</font>
00371 
00372 <font class="keyword">protected</font>:
00373   <font class="comment">//GenericProperty* clone() const { return new ComplexProperty(*this); }</font>
00374 
00375 <font class="keyword">protected</font>:
<a name="l00376"></a><a class="code" href="class_ComplexProperty.html#n0">00376</a>   T theData;
00377 };
00378 
00379 <font class="comment">//</font>
00380 <font class="comment">//  EXAMPLES OF USING</font>
00381 <font class="comment">//</font>
00382 <font class="comment">// 1) Define a property class.</font>
00383 <font class="comment">//</font>
00384 <font class="comment">// class GroupHasOrder : public Property&lt;int&gt; </font>
00385 <font class="comment">// {</font>
00386 <font class="comment">// public:</font>
00387 <font class="comment">//   GroupHasOrder( ) : Property&lt;int&gt;() { }</font>
00388 <font class="comment">//   GroupHasOrder( int order ) : Property&lt;int&gt;( new int(order) ) { } </font>
00389 <font class="comment">//   static PropertyType type( ) { return theGroupHasOrder; }</font>
00390 <font class="comment">//   PropertyType actualType( ) const { return type(); }</font>
00391 <font class="comment">//   static const PropertyType theGroupHasOrder;</font>
00392 <font class="comment">// };</font>
00393 <font class="comment">//</font>
00394 <font class="comment">// // Static data members of GroupHasOrder class.</font>
00395 <font class="comment">// const PropertyType GroupHasOrder::theGroupHasOrder = </font>
00396 <font class="comment">//   GenericProperty::unique();</font>
00397 <font class="comment">//</font>
00398 <font class="comment">//</font>
00399 <font class="comment">// 2) Work with the property like this:</font>
00400 <font class="comment">//</font>
00401 <font class="comment">//   PropertyCollection C; // Declare a properties collection</font>
00402 <font class="comment">//</font>
00403 <font class="comment">//   C.addProperty( new GroupHasOrder( 5 ) );</font>
00404 <font class="comment">//</font>
00405 <font class="comment">//   // Search and retreive the first property from the collection.</font>
00406 <font class="comment">//</font>
00407 <font class="comment">//   if( C.hasProperty( GroupHasOrder::type() ) != dontknow ) {</font>
00408 <font class="comment">//     GroupHasOrder P;</font>
00409 <font class="comment">//     C.getProperty( &amp;P );</font>
00410 <font class="comment">//     int order = P.value();</font>
00411 <font class="comment">//     cout &lt;&lt; "property = " &lt;&lt; GroupHasOrder::type() </font>
00412 <font class="comment">//          &lt;&lt; ", value = " &lt;&lt; order &lt;&lt; endl;</font>
00413 <font class="comment">//   }</font>
00414 <font class="comment">// </font>
00415 <font class="comment">//   // Store and restore a collection from a file</font>
00416 <font class="comment">//</font>
00417 <font class="comment">//      To appear.</font>
00418 <font class="comment">//</font>
00419 <font class="comment">//</font>
00420 <font class="comment">//  That's all for now.</font>
00421 
00422 
00423 <font class="preprocessor">#endif</font>
</font></pre></div><hr><address><small>Generated at Tue Jun 19 09:49:38 2001 for Magnus Classes by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
