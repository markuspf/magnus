<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/magnus/back_end/SessionManager/include/SMEnumerator.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>/magnus/back_end/SessionManager/include/SMEnumerator.h</h1><a href="SMEnumerator_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment"> *   $Id: SMEnumerator.h,v 1.7 2000/03/03 01:35:15 bormotov Exp $</font>
00003 <font class="comment"> */</font>
00004 
00005 <font class="comment">// Copyright (C) 1997 The New York Group Theory Cooperative</font>
00006 <font class="comment">// See magnus/doc/COPYRIGHT for the full notice.</font>
00007 
00008 <font class="comment">// Contents: Declaration of class SMEnumerator</font>
00009 <font class="comment">//</font>
00010 <font class="comment">// Principal Author: Alexei Myasnikov</font>
00011 <font class="comment">//</font>
00012 <font class="comment">// Status: in progress</font>
00013 <font class="comment">//</font>
00014 <font class="comment">// Revision History:</font>
00015 <font class="comment">//</font>
00016 
00017 <font class="preprocessor">#ifndef _SMENUMERATOR_H_</font>
00018 <font class="preprocessor"></font><font class="preprocessor">#define _SMENUMERATOR_H_</font>
00019 <font class="preprocessor"></font>
00020 <font class="preprocessor">#include "<a class="code" href="AlgebraicObject_h.html">AlgebraicObject.h</a>"</font>
00021 <font class="preprocessor">#include "<a class="code" href="SMFPGroup_h.html">SMFPGroup.h</a>"</font>
00022 <font class="preprocessor">#include "<a class="code" href="Word_h.html">Word.h</a>"</font>
00023 <font class="preprocessor">#include "<a class="code" href="Associations_h.html">Associations.h</a>"</font>
00024 <font class="preprocessor">#include "<a class="code" href="Subgroup_h.html">Subgroup.h</a>"</font>
00025 
00026 template &lt;class T&gt; <font class="keyword">class </font><a class="code" href="class_EnumeratorProblem.html">EnumeratorProblem</a>;
00027 
00028 
00029 <font class="comment">// ---------------------------- NoType -------------------------- //</font>
00030 
<a name="l00031"></a><a class="code" href="class_NoType.html">00031</a> <font class="keyword">class </font><a class="code" href="class_NoType.html">NoType</a> {
00032  <font class="keyword">public</font>:
<a name="l00033"></a><a class="code" href="class_NoType.html#d0">00033</a>   <font class="keyword">static</font> <a class="code" href="class_Type.html">Type</a> <a class="code" href="class_NoType.html#d0">type</a>( )<font class="keyword"> </font>{ <font class="keywordflow">return</font> theNoType; }
00034  <font class="keyword">private</font>:
<a name="l00035"></a><a class="code" href="class_NoType.html#r0">00035</a>   <font class="keyword">static</font> <font class="keyword">const</font> <a class="code" href="class_Type.html">Type</a> theNoType;
00036 
00037 };
00038 
00039 <font class="comment">// -----------------------------------------------------------------------//</font>
00040 <font class="comment">// ------------------------ SMListData -----------------------------------//</font>
00041 <font class="comment">// -----------------------------------------------------------------------//</font>
00042 
<a name="l00043"></a><a class="code" href="class_SMListData.html">00043</a> <font class="keyword">class </font><a class="code" href="class_SMListData.html">SMListData</a>
00044 {
00045 <font class="keyword">public</font>:
00046 
00047   <font class="comment">// Default constructor</font>
00048   <a class="code" href="class_SMListData.html#a0">SMListData</a>( );
00049 
00050   <a class="code" href="class_SMListData.html#a0">SMListData</a>( <font class="keyword">const</font> <a class="code" href="class_SMListData.html">SMListData</a>&amp; sd );
00051 
00052   <font class="keywordtype">void</font> <a class="code" href="class_SMListData.html#a2">doHardCopy</a>( <font class="keyword">const</font> <a class="code" href="class_SMListData.html">SMListData</a>&amp; );
00053 
<a name="l00054"></a><a class="code" href="class_SMListData.html#a3">00054</a>   <a class="code" href="class_SMListData.html#a3">~SMListData</a>()<font class="keyword"> </font>{
00055     <a class="code" href="class_SMListData.html#a9">closeCurrentMode</a>();
00056   }
00057 <font class="comment"></font>
00058 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00059 <font class="comment"></font>  <font class="comment">//                                                                     //</font>
00060   <font class="comment">//          :                                                          //</font>
00061   <font class="comment">//                                                                     //</font><font class="comment"></font>
00062 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00063 <font class="comment"></font>
00064   <font class="comment">// operator for adding elements</font>
00065   <a class="code" href="class_SMListData.html">SMListData</a>&amp; <a class="code" href="class_SMListData.html#a4">operator &lt;&lt; </a>(<font class="keyword">const</font> <font class="keyword">class</font> <a class="code" href="class_WriteEnumeratorElement.html">WriteEnumeratorElement</a>&amp; e);
00066 
00067   <font class="comment">// operator for all other information</font>
00068   <a class="code" href="class_SMListData.html">SMListData</a>&amp; <a class="code" href="class_SMListData.html#a4">operator &lt;&lt; </a>(<font class="keyword">const</font> <a class="code" href="class_Chars.html">Chars</a>&amp; c);
00069   
00070   <font class="comment">// appends a list to the end </font>
00071   <font class="keywordtype">void</font> <a class="code" href="class_SMListData.html#a6">append</a>( <a class="code" href="class_SMListData.html">SMListData</a>&amp; sd );
00072   
00073   <font class="keywordtype">void</font> <a class="code" href="class_SMListData.html#a7">setWriteMode</a>();
00074   <font class="keywordtype">void</font> <a class="code" href="class_SMListData.html#a8">setReadMode</a>();
00075   <font class="keywordtype">void</font> <a class="code" href="class_SMListData.html#a9">closeCurrentMode</a>();
00076 <font class="comment"></font>
00077 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00078 <font class="comment"></font>  <font class="comment">//                                                                     //</font>
00079   <font class="comment">// Access functions :                                                  //</font>
00080   <font class="comment">//                                                                     //</font><font class="comment"></font>
00081 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00082 <font class="comment"></font>
00083 
00084   <font class="comment">// returns i-th element as a character. </font>
00085   <font class="comment">// Iterator must parse it to the corresponding data type</font>
00086   <a class="code" href="class_Chars.html">Chars</a> <a class="code" href="class_SMListData.html#a10">getElementOf</a>( <font class="keywordtype">int</font> i );
00087   
00088   <font class="comment">// number of elements in the list</font>
<a name="l00089"></a><a class="code" href="class_SMListData.html#a11">00089</a>   <font class="keywordtype">int</font> <a class="code" href="class_SMListData.html#a11">numberOfElements</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> number_of_elements; }
00090 
00091   <font class="comment">//  for front end only</font>
<a name="l00092"></a><a class="code" href="class_SMListData.html#a12">00092</a>   <a class="code" href="class_Chars.html">Chars</a> <a class="code" href="class_SMListData.html#a12">getDataFileName</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> dataFileName; }
00093 
00094   <font class="comment">// returns current mode: ios::out, ios::in or -1 if </font>
00095   <font class="comment">// no one of those was set</font>
<a name="l00096"></a><a class="code" href="class_SMListData.html#a13">00096</a>   <font class="keywordtype">int</font> <a class="code" href="class_SMListData.html#a13">getMode</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> mode; }
00097 <font class="comment"></font>
00098 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00099 <font class="comment"></font>  <font class="comment">//                                                                     //</font>
00100   <font class="comment">// IPC tools:                                                          //</font>
00101   <font class="comment">//                                                                     //</font><font class="comment"></font>
00102 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00103 <font class="comment"></font>
00104   <font class="comment">// IPC tools needed to obtain the number of elements in the list</font>
<a name="l00105"></a><a class="code" href="class_SMListData.html#l0">00105</a>   <font class="keyword">friend</font> ostream&amp; <a class="code" href="class_SMListData.html#l0">operator &lt; </a>( ostream&amp; ostr, <font class="keyword">const</font> <a class="code" href="class_SMListData.html">SMListData</a>&amp; s )<font class="keyword"></font>
00106 <font class="keyword">  </font>{
00107     ostr &lt; s.dataFileName &lt; s.refFileName;
00108     ostr &lt; s.number_of_elements;
00109     <font class="keywordflow">return</font> ostr;
00110   }
00111   
<a name="l00112"></a><a class="code" href="class_SMListData.html#l1">00112</a>   <font class="keyword">friend</font> istream&amp; <a class="code" href="class_SMListData.html#l1">operator &gt; </a>( istream&amp; istr, <a class="code" href="class_SMListData.html">SMListData</a>&amp; s )<font class="keyword"></font>
00113 <font class="keyword">  </font>{
00114     <a class="code" href="class_Chars.html">Chars</a> dF, rF;
00115     istr &gt; dF &gt; rF;
00116 
00117     <font class="keywordflow">if</font> ( dF != s.dataFileName || rF != s.refFileName )
00118       <a class="code" href="error_h.html#a0">error</a>(<font class="stringliteral">"friend istream&amp; operator &gt; ( istream&amp; istr, SMListData&amp; s ) :"</font>
00119             <font class="stringliteral">" data files are seem to be different"</font>);
00120     istr &gt;  s.number_of_elements;
00121     <font class="keywordflow">return</font> istr;
00122   }
00123 
00124 <font class="keyword">private</font>:
00125   
00126   <font class="keywordtype">void</font> <a class="code" href="class_SMListData.html#c0">openFiles</a>( <font class="keywordtype">int</font> );
00127   
00128   <font class="comment">// gives offset of the i-th element </font>
00129   <font class="keywordtype">int</font> <a class="code" href="class_SMListData.html#c1">getBegPosOf</a>( <font class="keywordtype">int</font> i);
00130 
00131   <font class="comment">// returns the length of an i-th element</font>
00132   <font class="keywordtype">int</font> <a class="code" href="class_SMListData.html#c2">getLengthOf</a>( <font class="keywordtype">int</font> i);
00133 <font class="comment"></font>
00134 <font class="comment">  ////////////////////////////////////////////////////////////////</font>
00135 <font class="comment"></font>  <font class="comment">// Data members:                                              //</font><font class="comment"></font>
00136 <font class="comment">  ////////////////////////////////////////////////////////////////</font>
00137 <font class="comment"></font>  
<a name="l00138"></a><a class="code" href="class_SMListData.html#o0">00138</a>   <a class="code" href="class_fstream.html">fstream</a> dataFile;
00139   <font class="comment">// file with elements</font>
00140 
<a name="l00141"></a><a class="code" href="class_SMListData.html#o1">00141</a>   <a class="code" href="class_fstream.html">fstream</a> refFile;
00142   <font class="comment">// file with offsets of lements in dataFile </font>
00143   
<a name="l00144"></a><a class="code" href="class_SMListData.html#o2">00144</a>   <a class="code" href="class_Chars.html">Chars</a> dataFileName;
<a name="l00145"></a><a class="code" href="class_SMListData.html#o3">00145</a>   <a class="code" href="class_Chars.html">Chars</a> refFileName;
00146   <font class="comment">// file names</font>
00147 
<a name="l00148"></a><a class="code" href="class_SMListData.html#o4">00148</a>   <font class="keywordtype">int</font> number_of_elements;
00149   <font class="comment">// number of elements</font>
<a name="l00150"></a><a class="code" href="class_SMListData.html#o5">00150</a>   <font class="keywordtype">int</font> mode;
00151   <font class="comment">// current mode</font>
00152 };
00153 
00154 <font class="comment">//--------------------------------------------------------------------//</font>
00155 <font class="comment">//------------------------ EnumeratorARCer ---------------------------//</font>
00156 <font class="comment">//--------------------------------------------------------------------//</font>
00157 
00158 
00159 
<a name="l00160"></a><a class="code" href="class_EnumeratorARCer.html">00160</a> <font class="keyword">class </font><a class="code" href="class_EnumeratorARCer.html">EnumeratorARCer</a> : <font class="keyword">public</font> <a class="code" href="class_ARCer.html">ARCer</a>
00161 {
00162 <font class="keyword">public</font>:
00163 <font class="comment"></font>
00164 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00165 <font class="comment"></font>  <font class="comment">//                                                                     //</font>
00166   <font class="comment">// Constructors:                                                       //</font>
00167   <font class="comment">//                                                                     //</font><font class="comment"></font>
00168 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00169 <font class="comment"></font> 
<a name="l00170"></a><a class="code" href="class_EnumeratorARCer.html#a0">00170</a>   <a class="code" href="class_EnumeratorARCer.html#a0">EnumeratorARCer</a>( <a class="code" href="class_ComputationManager.html">ComputationManager</a>&amp; boss, <a class="code" href="class_SMListData.html">SMListData</a>&amp; d ) 
00171     : <a class="code" href="class_ARCer.html">ARCer</a>( boss ), theData( d ) { } 
00172   
00173 <font class="comment"></font>
00174 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00175 <font class="comment"></font>  <font class="comment">//                                                                     //</font>
00176   <font class="comment">// Accessors:                                                          //</font>
00177   <font class="comment">//                                                                     //</font><font class="comment"></font>
00178 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00179 <font class="comment"></font>
00180   <font class="comment">// Inherited from ARCer:</font>
00181   <font class="comment">// bool takeControl( );</font>
00182   
00183   <font class="keywordtype">void</font> <a class="code" href="class_EnumeratorARCer.html#a1">submitSignal</a>( );
00184 
00185 <font class="comment">//  Chars getFileName() const { return file.getFileName(); }</font>
00186  <font class="comment"></font>
00187 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00188 <font class="comment"></font>  <font class="comment">//                                                                     //</font>
00189   <font class="comment">// IPC interaction members:                                            //</font>
00190   <font class="comment">//                                                                     //</font><font class="comment"></font>
00191 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00192 <font class="comment"></font>
00193   <font class="keywordtype">void</font> <a class="code" href="class_ARCer.html#a6">runComputation</a>( );
00194   
00195  <font class="keyword">protected</font>:
00196 
00197   <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="class_EnumeratorARCer.html#b0">enumerate</a>() = 0;
00198 
00199   <font class="keywordtype">bool</font> <a class="code" href="class_EnumeratorARCer.html#b1">submitSignalRecieved</a>()<font class="keyword">const</font>;
00200 
<a name="l00201"></a><a class="code" href="class_EnumeratorARCer.html#n0">00201</a>   <a class="code" href="class_SMListData.html">SMListData</a>&amp; theData;
00202 
00203  <font class="keyword">private</font>:
00204 
00205  
00206 };
00207 
00208 <font class="comment">//--------------------------------------------------------------------------//</font>
00209 <font class="comment">//-------------------------- EnumeratorProblem -----------------------------//</font>
00210 <font class="comment">//--------------------------------------------------------------------------//</font>
00211 template &lt;class T&gt; <font class="keyword">class </font><a class="code" href="class_EnumeratorProblem.html">EnumeratorProblem</a>;
00212 
<a name="l00213"></a><a class="code" href="class_EnProbType.html">00213</a> template &lt;class T&gt;  <font class="keyword">class </font><a class="code" href="class_EnProbType.html">EnProbType</a> {
00214 <font class="keyword">public</font>:
<a name="l00215"></a><a class="code" href="class_EnProbType.html#a0">00215</a>   <a class="code" href="class_EnProbType.html#a0">EnProbType</a>()<font class="keyword"> </font>{
00216     <a class="code" href="class_ostrstream.html">ostrstream</a> ostr;
00217     ostr &lt;&lt; <font class="stringliteral">"EnumeratorProblem"</font> &lt;&lt; T::type() &lt;&lt; <font class="charliteral">'\0'</font> &lt;&lt; flush;
00218     strcpy(s, ostr.str());
00219     ostr.freeze(0);
00220   }
00221 <font class="keyword">private</font>:
<a name="l00222"></a><a class="code" href="class_EnProbType.html#l0">00222</a>   <font class="keyword">friend</font> <font class="keyword">class </font><a class="code" href="class_EnumeratorProblem.html">EnumeratorProblem</a>&lt;T&gt;;
<a name="l00223"></a><a class="code" href="class_EnProbType.html#o0">00223</a>   <font class="keywordtype">char</font> s[100];
00224 };
00225 
00226 <font class="comment">// ---------------------------------------------------------------------  //</font>
00227 
<a name="l00228"></a><a class="code" href="class_EnumeratorProblem.html">00228</a> template &lt;class T&gt; <font class="keyword">class </font><a class="code" href="class_EnumeratorProblem.html">EnumeratorProblem</a>  : <font class="keyword">public</font> <a class="code" href="class_Supervisor.html">Supervisor</a>
00229 {
00230 <font class="keyword">public</font>:
00231 
<a name="l00232"></a><a class="code" href="class_EnumeratorProblem.html#a0">00232</a>   <a class="code" href="class_EnumeratorProblem.html#a0">EnumeratorProblem</a>( <a class="code" href="class_AlgebraicObject.html">AlgebraicObject</a>&amp; b ): 
00233     <a class="code" href="class_Supervisor.html">Supervisor</a>(true),
00234     theParent(b) 
00235    {
00236       theData.<a class="code" href="class_SMListData.html#a7">setWriteMode</a>();
00237     }
00238   
<a name="l00239"></a><a class="code" href="class_EnumeratorProblem.html#a1">00239</a>   <a class="code" href="class_EnumeratorProblem.html#a1">~EnumeratorProblem</a>()<font class="keyword"> </font>{
00240    theData.<a class="code" href="class_SMListData.html#a9">closeCurrentMode</a>();
00241   }
00242   
<a name="l00243"></a><a class="code" href="class_EnumeratorProblem.html#a2">00243</a>   <a class="code" href="class_AlgebraicObject.html">AlgebraicObject</a>&amp; <a class="code" href="class_EnumeratorProblem.html#a2">getParentObject</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> theParent; }
00244   
<a name="l00245"></a><a class="code" href="class_EnumeratorProblem.html#a3">00245</a>   <font class="keyword">const</font> <a class="code" href="class_IconID.html">IconID</a> <a class="code" href="class_ComputationManager.html#a8">iconID</a>( )<font class="keyword"> const </font>{
00246     <font class="keywordflow">return</font> IconID::enumerator_problem;
00247   }
00248 
<a name="l00249"></a><a class="code" href="class_EnumeratorProblem.html#a4">00249</a>   <font class="keyword">const</font> <font class="keywordtype">char</font>* <a class="code" href="class_ComputationManager.html#a7">typeID</a>( )<font class="keyword"> const </font>{
00250     <font class="keywordflow">return</font> <a class="code" href="class_EnumeratorProblem.html#d0">type</a>( );
00251   }
00252   
<a name="l00253"></a><a class="code" href="class_EnumeratorProblem.html#d0">00253</a>   <font class="keyword">static</font> <font class="keyword">const</font> <font class="keywordtype">char</font>* <a class="code" href="class_EnumeratorProblem.html#d0">type</a>( )<font class="keyword">  </font>{ <font class="keywordflow">return</font> theType.s; }
00254 
00255   <font class="comment">// Access functions</font>
00256   
<a name="l00257"></a><a class="code" href="class_EnumeratorProblem.html#a5">00257</a>   <a class="code" href="class_SMListData.html">SMListData</a>&amp; <a class="code" href="class_EnumeratorProblem.html#a5">getData</a>()<font class="keyword"> </font>{ <font class="keywordflow">return</font> theData;}
00258 
00259 <font class="keyword">protected</font>:
<a name="l00260"></a><a class="code" href="class_EnumeratorProblem.html#n0">00260</a>   <a class="code" href="class_SMListData.html">SMListData</a> theData;
00261 
<a name="l00262"></a><a class="code" href="class_EnumeratorProblem.html#n1">00262</a>   <a class="code" href="class_Chars.html">Chars</a> theDataFile;
<a name="l00263"></a><a class="code" href="class_EnumeratorProblem.html#q0">00263</a>   <font class="keyword">static</font> <a class="code" href="class_EnProbType.html">EnProbType&lt;T&gt;</a> theType;
<a name="l00264"></a><a class="code" href="class_EnumeratorProblem.html#n2">00264</a>   <a class="code" href="class_AlgebraicObject.html">AlgebraicObject</a>&amp; theParent;                                                       
00265 };
00266 
00267 <font class="preprocessor">#endif</font>
</font></pre></div><hr><address><small>Generated at Tue Jun 19 09:49:39 2001 for Magnus Classes by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
