<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/magnus/back_end/NilpotentGroup/include/PolyWordIterator.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>/magnus/back_end/NilpotentGroup/include/PolyWordIterator.h</h1><a href="PolyWordIterator_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 <font class="comment">// Copyright (C) 1994 The New York Group Theory Cooperative</font>
00003 <font class="comment">// See magnus/doc/COPYRIGHT for the full notice.</font>
00004 
00005 <font class="comment">// Contents: Definition of PolyWordIterator class.</font>
00006 <font class="comment">//           </font>
00007 <font class="comment">//</font>
00008 <font class="comment">// Principal Author: Eugene Paderin</font>
00009 <font class="comment">//</font>
00010 <font class="comment">// Status: Experimental version</font>
00011 <font class="comment">//</font>
00012 <font class="comment">// Revision History:</font>
00013 <font class="comment">//</font>
00014 <font class="comment">// Special Notes:</font>
00015 <font class="comment">//</font>
00016 <font class="comment">//</font>
00017 
00018 <font class="preprocessor">#ifndef _POLYWORD_ITERATOR_H_</font>
00019 <font class="preprocessor"></font><font class="preprocessor">#define _POLYWORD_ITERATOR_H_</font>
00020 <font class="preprocessor"></font>
00021 <font class="preprocessor">#include "<a class="code" href="PolyWord_h.html">PolyWord.h</a>"</font>
00022 
<a name="l00023"></a><a class="code" href="class_PolyWordIterator.html">00023</a> <font class="keyword">class </font><a class="code" href="class_PolyWordIterator.html">PolyWordIterator</a> {
00024 
00025 <font class="keyword">public</font>:
00026 <font class="comment"></font>
00027 <font class="comment">  //////////////////////////////////////////////////////////</font>
00028 <font class="comment"></font>  <font class="comment">//</font>
00029   <font class="comment">//  Constructors</font>
00030   <font class="comment">//</font><font class="comment"></font>
00031 <font class="comment">  //////////////////////////////////////////////////////////</font>
00032 <font class="comment"></font>  
<a name="l00033"></a><a class="code" href="class_PolyWordIterator.html#a0">00033</a>   <a class="code" href="class_PolyWordIterator.html#a0">PolyWordIterator</a>(<a class="code" href="class_PolyWord.html">PolyWord</a>&amp; w) 
00034     : theRep( *w.change() ), iter(0) {}
00035 
<a name="l00036"></a><a class="code" href="class_PolyWordIterator.html#a1">00036</a>   <a class="code" href="class_PolyWordIterator.html#a0">PolyWordIterator</a>(<a class="code" href="class_PolyWordRep.html">PolyWordRep</a>&amp; w) 
00037     : theRep(w), iter(0) {}
00038 
00039   <font class="comment">// copy constructor and destructor supplied by compiler</font>
00040 <font class="comment"></font>
00041 <font class="comment">  //////////////////////////////////////////////////////////</font>
00042 <font class="comment"></font>  <font class="comment">//</font>
00043   <font class="comment">//  Walking thru the word</font>
00044   <font class="comment">//</font><font class="comment"></font>
00045 <font class="comment">  //////////////////////////////////////////////////////////</font>
00046 <font class="comment"></font>
<a name="l00047"></a><a class="code" href="class_PolyWordIterator.html#a2">00047</a>   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a2">startFromLeft</a>()<font class="keyword"> </font>{ iter = theRep.first; }
00048   <font class="comment">// initialize iterator to point to the first letter</font>
00049 
<a name="l00050"></a><a class="code" href="class_PolyWordIterator.html#a3">00050</a>   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a3">startFromRight</a>()<font class="keyword"> </font>{ iter = theRep.last; }
00051   <font class="comment">// initialize iterator to point to the last letter</font>
00052 
<a name="l00053"></a><a class="code" href="class_PolyWordIterator.html#a4">00053</a>   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a4">stepRight</a>()<font class="keyword"> </font>{ <font class="keywordflow">if</font>(iter) iter = iter-&gt;next; }
00054   <font class="comment">// move one step right</font>
00055 
<a name="l00056"></a><a class="code" href="class_PolyWordIterator.html#a5">00056</a>   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a5">stepLeft</a>()<font class="keyword"> </font>{ <font class="keywordflow">if</font>(iter) iter = iter-&gt;prev; }
00057   <font class="comment">// move one step left</font>
00058 
<a name="l00059"></a><a class="code" href="class_PolyWordIterator.html#a6">00059</a>   <font class="keywordtype">bool</font> <a class="code" href="class_PolyWordIterator.html#a6">done</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> (iter == 0); }
00060   <font class="comment">// True iff one of the ends was reached (collection is done)</font>
00061 
00062   <font class="keywordtype">bool</font> <a class="code" href="class_PolyWordIterator.html#a7">searchToLeft</a>( <a class="code" href="class_Generator.html">Generator</a> g );
00063   <font class="comment">// Starting from the current position and moving left</font>
00064   <font class="comment">// searches a node containing g and makes it current.</font>
00065   <font class="comment">// Returns true iff the node is found.</font>
00066 
00067   <font class="keywordtype">int</font> <a class="code" href="class_PolyWordIterator.html#a8">position</a>() <font class="keyword">const</font>;
00068   <font class="comment">// Returns the number of current letter, 1-based.</font>
00069   <font class="comment">// 0 means done().</font>
00070   <font class="comment">// This is a long running procedure, since the pointer travels to</font>
00071   <font class="comment">// the beginning of the word.</font>
00072 <font class="comment"></font>
00073 <font class="comment">  ///////////////////////////////////////////////////////////</font>
00074 <font class="comment"></font>  <font class="comment">//</font>
00075   <font class="comment">//  Fetching a Letter</font>
00076   <font class="comment">//</font><font class="comment"></font>
00077 <font class="comment">  ///////////////////////////////////////////////////////////</font>
00078 <font class="comment"></font>
00079   <font class="comment">// Error if a letter cannot be fetched</font>
00080 
<a name="l00081"></a><a class="code" href="class_PolyWordIterator.html#a9">00081</a>   <a class="code" href="struct_Letter.html">Letter</a>&amp; <a class="code" href="class_PolyWordIterator.html#a9">thisLetter</a>()<font class="keyword"> const </font>{ 
00082     <font class="keywordflow">if</font>( iter ) <font class="keywordflow">return</font> iter-&gt;value;
00083     <font class="keywordflow">else</font> <a class="code" href="error_h.html#a0">error</a>(<font class="stringliteral">"Out-of-bound access at PolyWordIterator"</font>);
00084   }
00085   <font class="comment">// The current letter</font>
00086 
<a name="l00087"></a><a class="code" href="class_PolyWordIterator.html#a10">00087</a>   <a class="code" href="struct_Letter.html">Letter</a>&amp; <a class="code" href="class_PolyWordIterator.html#a10">leftLetter</a>()<font class="keyword"> const </font>{ 
00088     <font class="keywordflow">if</font>( iter &amp;&amp; iter-&gt;prev ) <font class="keywordflow">return</font> iter-&gt;prev-&gt;value;
00089     <font class="keywordflow">else</font> <a class="code" href="error_h.html#a0">error</a>(<font class="stringliteral">"Out-of-bound access at PolyWordIterator"</font>);
00090   }
00091   <font class="comment">// The letter left to the current one</font>
00092 
<a name="l00093"></a><a class="code" href="class_PolyWordIterator.html#a11">00093</a>   <a class="code" href="struct_Letter.html">Letter</a>&amp; <a class="code" href="class_PolyWordIterator.html#a11">rightLetter</a>()<font class="keyword"> const </font>{ 
00094     <font class="keywordflow">if</font>( iter &amp;&amp; iter-&gt;next ) <font class="keywordflow">return</font> iter-&gt;next-&gt;value;
00095     <font class="keywordflow">else</font> <a class="code" href="error_h.html#a0">error</a>(<font class="stringliteral">"Out-of-bound access at PolyWordIterator"</font>);
00096   }
00097   <font class="comment">// The letter right to the current one</font>
00098 
<a name="l00099"></a><a class="code" href="class_PolyWordIterator.html#a12">00099</a>   <font class="keywordtype">bool</font> <a class="code" href="class_PolyWordIterator.html#a12">isFirst</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> iter == theRep.first; }
00100   <font class="comment">// True iff the current letter is the first one</font>
00101 
<a name="l00102"></a><a class="code" href="class_PolyWordIterator.html#a13">00102</a>   <font class="keywordtype">bool</font> <a class="code" href="class_PolyWordIterator.html#a13">isLast</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> iter == theRep.last; }
00103   <font class="comment">// True iff the current letter is the last one</font>
00104 <font class="comment"></font>
00105 <font class="comment">  ///////////////////////////////////////////////////////////</font>
00106 <font class="comment"></font>  <font class="comment">//</font>
00107   <font class="comment">//  PolyWord transformations</font>
00108   <font class="comment">//</font><font class="comment"></font>
00109 <font class="comment">  ///////////////////////////////////////////////////////////</font>
00110 <font class="comment"></font>
00111   <font class="keywordtype">bool</font> <a class="code" href="class_PolyWordIterator.html#a14">collectToRight</a>();
00112   <font class="comment">// collects the current letter with its right neighbors. If resulting</font>
00113   <font class="comment">// power is zero then the node is removed from chain and the iterator</font>
00114   <font class="comment">// points to the left neighbor (if exists; otherwise, points to the </font>
00115   <font class="comment">// right one).</font>
00116   <font class="comment">// Returns true iff collection was performed.</font>
00117 
00118   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a15">splitToLeft</a>();
00119   <font class="comment">// "Splits" the current letter a^p into a * a^{p-1} if p&gt;0, or</font>
00120   <font class="comment">// a^-1 * a^{p+1} if p&lt;0. Iterator points to the right part.</font>
00121   <font class="comment">// If p is 1 or -1, nothing happens.</font>
00122 
00123   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a16">insertRight</a>(<font class="keyword">const</font> <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; w);
00124   <font class="comment">// Inserts w between the current letter and its right neighbor.</font>
00125   <font class="comment">// The iterator is not moved.</font>
00126 
00127   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a17">insertLeft</a>(<font class="keyword">const</font> <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; w);
00128   <font class="comment">// Inserts w between the current letter and its left neighbor.</font>
00129   <font class="comment">// The iterator is not moved.</font>
00130 
00131   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a16">insertRight</a>(<font class="keyword">const</font> <a class="code" href="struct_Letter.html">Letter</a>&amp; let);
00132   <font class="comment">// Inserts let between the current letter and its right neighbor.</font>
00133   <font class="comment">// The iterator is not moved.</font>
00134 
00135   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a17">insertLeft</a>(<font class="keyword">const</font> <a class="code" href="struct_Letter.html">Letter</a>&amp; let);
00136   <font class="comment">// Inserts let between the current letter and its left neighbor.</font>
00137   <font class="comment">// The iterator is not moved.</font>
00138 
00139   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a20">removeThisLetter</a>();
00140   <font class="comment">// removes the current letter. The iterator points to its right neighbor.</font>
00141 
00142   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a21">removeLeftLetter</a>();
00143   <font class="comment">// removes the left neighbor of the current letter.</font>
00144 
00145   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a22">removeRightLetter</a>();
00146   <font class="comment">// removes the right neighbor of the current letter.</font>
00147 
00148   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a23">decreaseLeftLetter</a>();
00149   <font class="comment">// decreases the abs( leftLetter.power ) by 1.</font>
00150   <font class="comment">// If the result is 0, removes the letter</font>
00151 
00152   <font class="keywordtype">void</font> <a class="code" href="class_PolyWordIterator.html#a24">exchangeToLeft</a>();
00153   <font class="comment">// Exchanges the current letter and its left neighbor. The iterator</font>
00154   <font class="comment">// points to the same letter as before.</font>
00155 
00156 <font class="keyword">private</font>:
00157 
<a name="l00158"></a><a class="code" href="class_PolyWordIterator.html#o0">00158</a>   <a class="code" href="class_PolyWordRep.html">PolyWordRep</a>&amp; theRep;
<a name="l00159"></a><a class="code" href="class_PolyWordIterator.html#o1">00159</a>   <a class="code" href="struct_PolyWordNode.html">PolyWordNode</a> *iter;
00160 };
00161 
00162 
<a name="l00163"></a><a class="code" href="class_ConstPolyWordIterator.html">00163</a> <font class="keyword">class </font><a class="code" href="class_ConstPolyWordIterator.html">ConstPolyWordIterator</a> : <font class="keyword">private</font> <a class="code" href="class_PolyWordIterator.html">PolyWordIterator</a> {
00164 
00165 <font class="keyword">public</font>:
00166 <font class="comment"></font>
00167 <font class="comment">  //////////////////////////////////////////////////////////</font>
00168 <font class="comment"></font>  <font class="comment">//</font>
00169   <font class="comment">//  Constructors</font>
00170   <font class="comment">//</font><font class="comment"></font>
00171 <font class="comment">  //////////////////////////////////////////////////////////</font>
00172 <font class="comment"></font>  
<a name="l00173"></a><a class="code" href="class_ConstPolyWordIterator.html#a0">00173</a>   <a class="code" href="class_ConstPolyWordIterator.html#a0">ConstPolyWordIterator</a>(<font class="keyword">const</font> <a class="code" href="class_PolyWord.html">PolyWord</a>&amp; w) 
00174     : <a class="code" href="class_PolyWordIterator.html">PolyWordIterator</a>( (<a class="code" href="class_PolyWordRep.html">PolyWordRep</a>&amp;)*w.look() ) {}
00175 
<a name="l00176"></a><a class="code" href="class_ConstPolyWordIterator.html#a1">00176</a>   <a class="code" href="class_ConstPolyWordIterator.html#a0">ConstPolyWordIterator</a>(<font class="keyword">const</font> <a class="code" href="class_PolyWordRep.html">PolyWordRep</a>&amp; w) 
00177     : <a class="code" href="class_PolyWordIterator.html">PolyWordIterator</a>( (<a class="code" href="class_PolyWordRep.html">PolyWordRep</a>&amp;)w ) {}
00178 
00179   <font class="comment">// copy constructor and destructor supplied by compiler</font>
00180 <font class="comment"></font>
00181 <font class="comment">  //////////////////////////////////////////////////////////</font>
00182 <font class="comment"></font>  <font class="comment">//</font>
00183   <font class="comment">//  Walking thru the word</font>
00184   <font class="comment">//</font><font class="comment"></font>
00185 <font class="comment">  //////////////////////////////////////////////////////////</font>
00186 <font class="comment"></font>
00187   PolyWordIterator::startFromLeft;
00188   <font class="comment">// initialize iterator to point to the first letter</font>
00189 
00190   PolyWordIterator::startFromRight;
00191   <font class="comment">// initialize iterator to point to the last letter</font>
00192 
00193   PolyWordIterator::stepRight;
00194   <font class="comment">// move one step right</font>
00195 
00196   PolyWordIterator::stepLeft;
00197   <font class="comment">// move one step left</font>
00198 
00199   PolyWordIterator::done;
00200   <font class="comment">// True iff one of the ends was reached (collection is done)</font>
00201 
00202   PolyWordIterator::searchToLeft;
00203   <font class="comment">// Starting from the current position and moving left</font>
00204   <font class="comment">// searches a node containing g and makes it current.</font>
00205   <font class="comment">// Returns true iff the node is found.</font>
00206 
00207   PolyWordIterator::position;
00208   <font class="comment">// Returns the number of current letter, 1-based.</font>
00209   <font class="comment">// 0 means done().</font>
00210   <font class="comment">// This is a long procedure, since the pointer travels to</font>
00211   <font class="comment">// the beginning of the word.</font>
00212 <font class="comment"></font>
00213 <font class="comment">  ///////////////////////////////////////////////////////////</font>
00214 <font class="comment"></font>  <font class="comment">//</font>
00215   <font class="comment">//  Fetching a Letter</font>
00216   <font class="comment">//</font><font class="comment"></font>
00217 <font class="comment">  ///////////////////////////////////////////////////////////</font>
00218 <font class="comment"></font>
00219   <font class="comment">// Error if a letter cannot be fetched</font>
00220 
<a name="l00221"></a><a class="code" href="class_ConstPolyWordIterator.html#a2">00221</a>   <font class="keyword">const</font> <a class="code" href="struct_Letter.html">Letter</a>&amp; <a class="code" href="class_PolyWordIterator.html#a9">thisLetter</a>()<font class="keyword"> const </font>{ 
00222     <font class="keywordflow">return</font> <a class="code" href="class_PolyWordIterator.html#a9">PolyWordIterator::thisLetter</a>(); 
00223   }
00224   <font class="comment">// The current letter</font>
00225 
<a name="l00226"></a><a class="code" href="class_ConstPolyWordIterator.html#a3">00226</a>   <font class="keyword">const</font> <a class="code" href="struct_Letter.html">Letter</a>&amp; <a class="code" href="class_PolyWordIterator.html#a10">leftLetter</a>()<font class="keyword"> const </font>{ 
00227     <font class="keywordflow">return</font> <a class="code" href="class_PolyWordIterator.html#a10">PolyWordIterator::leftLetter</a>(); 
00228   }
00229   <font class="comment">// The letter left to the current one</font>
00230 
<a name="l00231"></a><a class="code" href="class_ConstPolyWordIterator.html#a4">00231</a>   <font class="keyword">const</font> <a class="code" href="struct_Letter.html">Letter</a>&amp; <a class="code" href="class_PolyWordIterator.html#a11">rightLetter</a>()<font class="keyword"> const </font>{ 
00232     <font class="keywordflow">return</font> <a class="code" href="class_PolyWordIterator.html#a11">PolyWordIterator::rightLetter</a>(); 
00233   }
00234   <font class="comment">// The letter right to the current one</font>
00235 
00236   PolyWordIterator::isFirst;
00237   <font class="comment">// True iff the current letter is the first one</font>
00238 
00239   PolyWordIterator::isLast;
00240   <font class="comment">// True iff the current letter is the last one</font>
00241 
00242 };
00243 
00244 <font class="preprocessor">#endif</font>
00245 <font class="preprocessor"></font>
</pre></div><hr><address><small>Generated at Tue Jun 19 09:49:37 2001 for Magnus Classes by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
