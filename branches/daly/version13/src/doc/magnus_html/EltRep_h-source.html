<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>/magnus/back_end/Elt/include/EltRep.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>/magnus/back_end/Elt/include/EltRep.h</h1><a href="EltRep_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment"> *   $Id: EltRep.h,v 1.3 1996/04/30 21:08:29 bormotov Exp $</font>
00003 <font class="comment"> */</font>
00004 
00005 <font class="comment">// Copyright (C) 1994 The New York Group Theory Cooperative</font>
00006 <font class="comment">// See magnus/doc/COPYRIGHT for the full notice.</font>
00007 
00008 <font class="comment">// Contents: Definition of the EltRep class.</font>
00009 <font class="comment">//</font>
00010 <font class="comment">// Principal Author: Stephane Collart</font>
00011 <font class="comment">//</font>
00012 <font class="comment">// Status: Useable.</font>
00013 <font class="comment">//</font>
00014 <font class="comment">// Revision History:</font>
00015 <font class="comment">//</font>
00016 
00017 <font class="preprocessor">#ifndef _ELT_REP_H_</font>
00018 <font class="preprocessor"></font><font class="preprocessor">#define _ELT_REP_H_</font>
00019 <font class="preprocessor"></font>
00020 <font class="preprocessor">#include "<a class="code" href="GenericObject_h.html">GenericObject.h</a>"</font>
00021 <font class="preprocessor">#include "<a class="code" href="Type_h.html">Type.h</a>"</font>
00022 
00023 
00024 <font class="comment">//---------------------------- EltRep -------------------------------//</font>
00025 
00026 
<a name="l00027"></a><a class="code" href="struct_EltRep.html">00027</a> <font class="keyword">struct </font><a class="code" href="struct_EltRep.html">EltRep</a> : <a class="code" href="struct_GenericRep.html">GenericRep</a> {
00028 
00029 <font class="comment">// constructors:</font>
00030 
00031   <font class="comment">// no default constructor</font>
00032 
00033   <font class="comment">// copy constructor supplied by compiler</font>
00034 
<a name="l00035"></a><a class="code" href="struct_EltRep.html#a0">00035</a>   <font class="keyword">virtual</font> <a class="code" href="struct_EltRep.html#a0">~EltRep</a>( )<font class="keyword"> </font>{ };
00036   <font class="comment">// destructor must be virtual at root of hierarchy with virtual</font>
00037   <font class="comment">// functions</font>
00038   
00039 <font class="comment">// representation and type stuff:</font>
00040 
<a name="l00041"></a><a class="code" href="struct_EltRep.html#p0">00041</a>   <font class="keyword">static</font> <font class="keyword">const</font> <a class="code" href="class_Type.html">Type</a> theEltType;
00042 
<a name="l00043"></a><a class="code" href="struct_EltRep.html#d0">00043</a>   <font class="keyword">static</font> <a class="code" href="class_Type.html">Type</a> <a class="code" href="struct_GenericRep.html#d0">type</a>( )<font class="keyword"> </font>{ <font class="keywordflow">return</font> theEltType; }
00044 
<a name="l00045"></a><a class="code" href="struct_EltRep.html#a1">00045</a>   <font class="keyword">virtual</font> <a class="code" href="class_Type.html">Type</a> <a class="code" href="struct_GenericRep.html#a0">actualType</a>( )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> theEltType; }
00046 
00047   <font class="comment">// @stc there is a type datum and actualType() is not pure virtual</font>
00048   <font class="comment">// to have a type associated with this pseudo-abstract class too</font>
00049 
00050   <a class="code" href="struct_PureRep.html">PureRep</a>* <a class="code" href="struct_GenericRep.html#a1">clone</a>( ) <font class="keyword">const</font> = 0;
00051 
00052 <font class="comment">// delegated methods and operators:</font>
00053 
00054   <font class="keyword">virtual</font> Bool <a class="code" href="Property_h.html#a1">operator == </a>( <font class="keyword">const</font> <a class="code" href="struct_EltRep.html">EltRep</a>&amp; ) <font class="keyword">const</font> = 0;
00055 
00056   <font class="keyword">virtual</font> <font class="keywordtype">int</font> <a class="code" href="struct_EltRep.html#a4">hash</a>( ) <font class="keyword">const</font> = 0;
00057   
00058   <font class="keyword">virtual</font> <a class="code" href="struct_EltRep.html">EltRep</a>* <a class="code" href="PolyWord_h.html#a1">operator * </a>( <font class="keyword">const</font> <a class="code" href="struct_EltRep.html">EltRep</a>&amp; ) <font class="keyword">const</font> = 0;
00059 
00060   <font class="keyword">virtual</font> <a class="code" href="struct_EltRep.html">EltRep</a>* <a class="code" href="struct_EltRep.html#a6">inverse</a>( ) <font class="keyword">const</font> = 0;
00061 
<a name="l00062"></a><a class="code" href="struct_EltRep.html#a7">00062</a>   <font class="keyword">virtual</font> <a class="code" href="struct_EltRep.html">EltRep</a>* <a class="code" href="AP-fixups_h.html#a5">conjugateBy</a>( <font class="keyword">const</font> <a class="code" href="struct_EltRep.html">EltRep</a>* ep )<font class="keyword"> const </font>{
00063          <a class="code" href="struct_EltRep.html">EltRep</a>* tmp1 = ep-&gt;<a class="code" href="struct_EltRep.html#a6">inverse</a>();
00064          <a class="code" href="struct_EltRep.html">EltRep</a>* tmp2 = *tmp1 * *<font class="keyword">this</font>;
00065          <a class="code" href="struct_EltRep.html">EltRep</a>* result = *tmp2 * *ep;
00066          <font class="keyword">delete</font> tmp1;
00067          <font class="keyword">delete</font> tmp2;
00068          <font class="keywordflow">return</font> result;
00069   }
00070 
<a name="l00071"></a><a class="code" href="struct_EltRep.html#a8">00071</a>   <font class="keyword">virtual</font> <a class="code" href="struct_EltRep.html">EltRep</a>* <a class="code" href="struct_EltRep.html#a8">commutatorWith</a>( <font class="keyword">const</font> <a class="code" href="struct_EltRep.html">EltRep</a>* ep )<font class="keyword"> const </font>{
00072          <a class="code" href="struct_EltRep.html">EltRep</a>* tmp1 = ep-&gt;<a class="code" href="struct_EltRep.html#a7">conjugateBy</a>( <font class="keyword">this</font> );
00073          <a class="code" href="struct_EltRep.html">EltRep</a>* result = *tmp1 * *ep;
00074          <font class="keyword">delete</font> tmp1;
00075          <font class="keywordflow">return</font> result;
00076   }
00077   
00078 <font class="comment">// I/O:</font>
00079 
00080   <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="struct_EltRep.html#a9">printOn</a>(ostream&amp;) <font class="keyword">const</font>;
00081 
00082   <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="Margin_h.html#a9">debugPrint</a>(ostream&amp;) <font class="keyword">const</font>;
00083 
00084 <font class="comment"></font>
00085 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00086 <font class="comment"></font>  <font class="comment">//                                                                     //</font>
00087   <font class="comment">// IPC tools:                                                          //</font>
00088   <font class="comment">//                                                                     //</font><font class="comment"></font>
00089 <font class="comment">  /////////////////////////////////////////////////////////////////////////</font>
00090 <font class="comment"></font>
<a name="l00091"></a><a class="code" href="struct_EltRep.html#a11">00091</a>   <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="struct_EltRep.html#a11">write</a>( ostream&amp; ostr )<font class="keyword"> const </font>{ };
00092 
<a name="l00093"></a><a class="code" href="struct_EltRep.html#a12">00093</a>   <font class="keyword">virtual</font> <font class="keywordtype">void</font>  <a class="code" href="struct_EltRep.html#a12">read</a>( istream&amp; istr )<font class="keyword"> </font>{ };
00094 
00095 
00096 <font class="keyword">private</font>:
00097 
00098   <a class="code" href="struct_EltRep.html">EltRep</a>&amp; <a class="code" href="class_RefCounter.html#c0">operator = </a>( <font class="keyword">const</font> <a class="code" href="struct_EltRep.html">EltRep</a>&amp; ); <font class="comment">// disable assignment</font>
00099     
00100 };
00101 
00102 
00103 <font class="comment">//------------------------ EltIdentityRep ---------------------------//</font>
00104 
00105 
<a name="l00106"></a><a class="code" href="struct_EltIdentityRep.html">00106</a> <font class="keyword">struct </font><a class="code" href="struct_EltIdentityRep.html">EltIdentityRep</a> : <a class="code" href="struct_EltRep.html">EltRep</a> {
00107 
00108 <font class="comment">// constructors:</font>
00109 
00110   <font class="comment">// default constructor provided by compiler</font>
00111 
00112   <font class="comment">// copy constructor supplied by compiler</font>
00113 
00114   <font class="comment">// destructor supplied by compiler; virtual by inheritence</font>
00115 
00116 <font class="comment">// representation and type stuff:</font>
00117 
<a name="l00118"></a><a class="code" href="struct_EltIdentityRep.html#a0">00118</a>   <a class="code" href="struct_PureRep.html">PureRep</a>* <a class="code" href="struct_EltRep.html#a2">clone</a>( )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <font class="keyword">new</font> EltIdentityRep(*<font class="keyword">this</font>); }
00119   <font class="comment">// overrides EltRep::clone()</font>
00120   
<a name="l00121"></a><a class="code" href="struct_EltIdentityRep.html#p0">00121</a>   <font class="keyword">static</font> <font class="keyword">const</font> <a class="code" href="class_Type.html">Type</a> theEltIdentityType;
<a name="l00122"></a><a class="code" href="struct_EltIdentityRep.html#d0">00122</a>   <font class="keyword">static</font> <a class="code" href="class_Type.html">Type</a> <a class="code" href="struct_EltRep.html#d0">type</a>( )<font class="keyword"> </font>{ <font class="keywordflow">return</font> theEltIdentityType; }
<a name="l00123"></a><a class="code" href="struct_EltIdentityRep.html#a1">00123</a>   <a class="code" href="class_Type.html">Type</a> <a class="code" href="struct_EltRep.html#a1">actualType</a>( )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> theEltIdentityType; }
00124   <font class="comment">// overrides EltRep::actualType();</font>
00125 
<a name="l00126"></a><a class="code" href="struct_EltIdentityRep.html#a2">00126</a>   <font class="keyword">virtual</font> Bool <a class="code" href="struct_EltRep.html#a3">operator == </a>( <font class="keyword">const</font> <a class="code" href="struct_EltRep.html">EltRep</a>&amp; )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <font class="keyword">false</font>; }
00127   <font class="comment">// @stc quick hack pending a comprehensive solution</font>
00128   <font class="comment">// 1) to the problem of where op == is resolved (see Elt.h)</font>
00129   <font class="comment">// 2) to the semantics required of EltIdentityRep (see Elt.h)</font>
00130 
<a name="l00131"></a><a class="code" href="struct_EltIdentityRep.html#a3">00131</a>   <font class="keyword">virtual</font> <font class="keywordtype">int</font> <a class="code" href="struct_EltRep.html#a4">hash</a>( )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> 0; }
00132   
<a name="l00133"></a><a class="code" href="struct_EltIdentityRep.html#a4">00133</a>   <font class="keyword">virtual</font> <a class="code" href="struct_EltRep.html">EltRep</a>* <a class="code" href="struct_EltRep.html#a5">operator * </a>( <font class="keyword">const</font> <a class="code" href="struct_EltRep.html">EltRep</a>&amp; e )<font class="keyword"> const</font>
00134 <font class="keyword">        </font>{ e.<a class="code" href="class_RefCounter.html#a4">addRef</a>(); <font class="keywordflow">return</font> (<a class="code" href="struct_EltRep.html">EltRep</a>*)&amp;e; }
00135   <font class="comment">// @stc quick hack;</font>
00136   <font class="comment">// 1) it may be undesirable to pass representations around</font>
00137   <font class="comment">// through direct manipulation of the reference count; this would</font>
00138   <font class="comment">// preferably done through suitably arranged automatic set-ups in</font>
00139   <font class="comment">// the object/representation interplay</font>
00140   <font class="comment">// 2) this does nothing for the case when the second argument is an</font>
00141   <font class="comment">// EltIdentityRep and not the first</font>
00142 
<a name="l00143"></a><a class="code" href="struct_EltIdentityRep.html#a5">00143</a>   <font class="keyword">virtual</font> <a class="code" href="struct_EltRep.html">EltRep</a>* <a class="code" href="struct_EltRep.html#a6">inverse</a>( )<font class="keyword"> const </font>
00144 <font class="keyword">        </font>{ <a class="code" href="class_RefCounter.html#a4">addRef</a>(); <font class="keywordflow">return</font> (<a class="code" href="struct_EltRep.html">EltRep</a>*)<font class="keyword">this</font>; }
00145   <font class="comment">// @stc same comments as above</font>
00146 
00147 };
00148 
00149 
00150 <font class="preprocessor">#endif</font>
</font></pre></div><hr><address><small>Generated at Tue Jun 19 09:49:34 2001 for Magnus Classes by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
